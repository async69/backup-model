(window.webpackJsonp=window.webpackJsonp||[]).push([[19,2],{1573:function(e,t,a){"use strict";var n=a(3),r=a(1),i=a.n(r),o=a(27),l=a(28),c=a(33),s=a(34),u=a(23);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var r=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var d=function(e){Object(c.a)(a,e);var t=m(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement("thead",null,i.a.createElement("tr",null,this.props.columns.map(function(e){return i.a.createElement("th",{key:e.path||e.key},e.label)})))}}]),a}(r.Component),f=a(1583),p=a.n(f),b=a(53),g=a(43),v=/[0-9\-+#]/,h=/[^\d\-+#]/g;function E(e){return e.search(v)}function O(e,t,a){var n=!1,r={value:e};e<0&&(n=!0,r.value=-r.value),r.sign=n?"-":"",r.value=Number(r.value).toFixed(t.fraction&&t.fraction.length),r.value=Number(r.value).toString();var i=t.fraction&&t.fraction.lastIndexOf("0"),o=r.value.split("."),l=Object(g.a)(o,2),c=l[0],s=void 0===c?"0":c,u=l[1],m=void 0===u?"":u;return(!m||m&&m.length<=i)&&(m=i<0?"":Number("0."+m).toFixed(i+1).replace("0.","")),r.integer=s,r.fraction=m,function(e,t){e.result="";var a=t.integer.split(t.separator),n=a.join(""),r=n&&n.indexOf("0");if(r>-1)for(;e.integer.length<n.length-r;)e.integer="0"+e.integer;else 0===Number(e.integer)&&(e.integer="");var i=a[1]&&a[a.length-1].length;if(i)for(var o=e.integer.length,l=o%i,c=0;c<o;c++)e.result+=e.integer.charAt(c),!((c-l+1)%i)&&c<o-i&&(e.result+=t.separator);else e.result=e.integer;e.result+=t.fraction&&e.fraction?t.decimal+e.fraction:""}(r,t),"0"!==r.result&&""!==r.result||(n=!1,r.sign=""),!n&&t.maskHasPositiveSign?r.sign="+":n&&t.maskHasPositiveSign?r.sign="-":n&&(r.sign=a&&a.enforceMaskSign&&!t.maskHasNegativeSign?"":"-"),r}var y=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||isNaN(Number(t)))return t;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#.##",t={},a=e.length,n=E(e);t.prefix=n>0?e.substring(0,n):"";var r=E(e.split("").reverse().join("")),i=a-r,o=e.substring(i,i+1),l=i+("."===o||","===o?1:0);t.suffix=r>0?e.substring(l,a):"",t.mask=e.substring(n,l),t.maskHasNegativeSign="-"===t.mask.charAt(0),t.maskHasPositiveSign="+"===t.mask.charAt(0);var c=t.mask.match(h);return t.decimal=c&&c[c.length-1]||".",t.separator=c&&c[1]&&c[0]||",",c=t.mask.split(t.decimal),t.integer=c[0],t.fraction=c[1],t}(e),r=O(t,n,a);return n.prefix+r.sign+r.result+n.suffix},_=a(1578),j=a(1584);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var r=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var N=function(e){Object(c.a)(a,e);var t=S(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderCell=function(e,t,a){if(console.log("loaded",a),t.content)return t.content(e,a);var n=p.a.get(e,t.path),r=_.findIndex(function(e){return e===String(t.path)});return j.findIndex(function(e){return e===String(t.path)})>=0?Object(b.e)(n):r>=0?y("#,###.00",n,{enforceMaskSign:!0}):n?String(n):""},e.createKey=function(e,t){return e._id+(t.path||t.key)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.columns;return i.a.createElement("tbody",null,a.map(function(t){return i.a.createElement("tr",{key:t.id},n.map(function(a){return i.a.createElement("td",{key:e.createKey(t,a)},e.renderCell(t,a,e.props.loading))}))}))}}]),a}(r.Component),C=a(1643),k=a(1644),R=a(1645),x=a(109),D=a(1575),w=function(){var e=Object(r.useContext)(x.a),t=e.rootState,a=e.dispatch,n=Object(r.useState)(0),o=Object(g.a)(n,2),l=o[0],c=o[1],s=Object(r.useState)(0),u=Object(g.a)(s,2),m=u[0],d=u[1],f=Object(r.useState)(0),p=Object(g.a)(f,2),b=p[0],v=p[1],h=Object(r.useState)(0),E=Object(g.a)(h,2),O=E[0],y=E[1],_=Object(r.useState)(!1),j=Object(g.a)(_,2),S=j[0],N=j[1],w=Object(r.useState)(!1),A=Object(g.a)(w,2),P=A[0],T=A[1],L=Object(r.useState)({count:0,results:[]}),F=Object(g.a)(L,2),I=F[0],M=F[1],V=Object(r.useState)(0),z=Object(g.a)(V,2),U=z[0],q=z[1],B=Object(r.useState)(""),H=Object(g.a)(B,2),W=H[0],J=H[1];Object(r.useEffect)(function(){Object(D.a)(t)},[t]),Object(r.useEffect)(function(){var e=I.count,t=I.results;0===t.length&&0===e||(y(Math.ceil(e/t.length)),d(t.length),v(e),N(!0))},[W,y,d,v,N]),Object(r.useEffect)(function(){if(U){var e=I.count,t=I.results;m<=t.length&&(y(Math.ceil(e/t.length)),d(t.length),v(e),N(!0))}},[U,I]),Object(r.useEffect)(function(){try{var e=Object(D.b)(t),a=e.results,n=e.amount,r=e.activeTab;if(""!==r?J(r):console.warn("Pass active tab for paginations"),n!==U&&"undefined"!==typeof n&&(q(n),M(a)),"undefined"!==String(a)&&!S){var i=a.count,o=a.results;y(Math.ceil(i/o.length)),d(o.length),v(i),N(!0)}}catch(l){}},[t,q,M]);var G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;P||T(!0),c(e),t&&d(t)};return Object(r.useEffect)(function(){l<b&&P&&Object(D.c)({},a,{offset:l,limit:m,onClick:P})},[l,m]),i.a.createElement("div",null,i.a.createElement(C.a,{className:"pagination left",size:"md",color:"primary"},i.a.createElement(k.a,{disabled:0===l},i.a.createElement(R.a,{first:!0,href:"#",onClick:function(){return G(0)}},"First")),i.a.createElement(k.a,null,i.a.createElement(R.a,{previous:!0,disabled:0===l,onClick:function(){return G(l-m)}})),Array(O).fill("").map(function(e,t){return i.a.createElement(k.a,{active:t===Math.floor(l/m)},i.a.createElement(R.a,{onClick:function(){return G(t*m)}},t+1))}),i.a.createElement(k.a,null,i.a.createElement(R.a,{next:!0,onClick:function(){return G(l+m)},disabled:l+m>=b})),i.a.createElement(k.a,{disabled:l+m>=b},i.a.createElement(R.a,{last:!0,onClick:function(){return G((O-1)*m)}},"Last"))))},A=a(1549),P=a(1554),T=a(1619),L=a(177);t.a=Object(L.b)(function(e,t){return Object(n.a)({state:e},t)})(function(e){var t=e.columns,a=e.data,n=e.title,o=e.state,l=e.getLoading;Object(r.useEffect)(function(){"function"===typeof l&&console.log("result",l(o,{isPatch:!0}))},[o,l]);var c=Object(r.useContext)(x.a).rootState;return Object(r.useEffect)(function(){},[c]),console.log(l(o,{isPatch:!0})),i.a.createElement(A.a,{className:"p-2"},i.a.createElement(P.a,{className:"tableHeaders border-0"},i.a.createElement("div",null,""+n?n:"")),i.a.createElement(T.a,{size:"md",responsive:!0,striped:!0},i.a.createElement(d,{columns:t}),i.a.createElement(N,{data:a,columns:t,loading:"fucntion"===typeof l?l(o,{isPatch:!0}):{}}),i.a.createElement(w,null)))})},1574:function(e,t,a){"use strict";var n=a(32),r=a(1),i=a.n(r),o=(a(110),a(47)),l=a(1787),c=a(1788),s=a(1789),u=a(1790),m=a(1555),d=a(1589),f=a(17),p=o.a.create("page"),b=function(e){var t=e.title,a=e.breadcrumbs,r=e.tag,o=e.className,b=e.children,g=e.editable,v=Object(n.a)(e,["title","breadcrumbs","tag","className","children","editable"]),h=p.b("px-3",o);return i.a.createElement(r,Object.assign({className:h},v),i.a.createElement(l.a,null,i.a.createElement(c.a,{md:9,sm:12,xs:12},i.a.createElement("div",{className:p.e("header")},t&&"string"===typeof t?i.a.createElement(d.a,{type:"h4",className:p.e("title")},i.a.createElement("i",null,t)):t,a&&i.a.createElement(s.a,{size:"lg",className:p.e("breadcrumb")},a.length&&a.map(function(e,t){var a=e.name;e.active;return i.a.createElement(u.a,{key:t},i.a.createElement("small",null,a))}),a.length&&a.map(function(e,t){var a=e.name1,n=e.active;return i.a.createElement(u.a,{key:t,active:n},i.a.createElement("small",null,a))})))),g&&i.a.createElement(c.a,{md:3,sm:12,xs:12,className:"mt-1"},i.a.createElement(m.a,{size:"sm",className:"pr-5 pl-5 m-2",outline:!0},i.a.createElement(f.s,null)),i.a.createElement(m.a,{size:"sm",className:"pr-5 pl-5",outline:!0,color:"danger"},i.a.createElement(f.p,null)))),b)};b.defaultProps={tag:"div",title:""},t.a=b},1575:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"d",function(){return i}),a.d(t,"a",function(){return o}),a.d(t,"c",function(){return l});var n=a(38),r=function(e){return e.page_values?e.page_values:null},i=function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if("undefined"!==typeof a){if(0===a.count)return null;t({type:n.a.UPDATE,stateName:"page_values",payload:{results:a,options:i,pageLimit:a.length?5*Math.ceil(a.length/5):5,amount:r(e)?r(e).amount+1:0,activeTab:o}})}},o=function(e){var t=e.page_values;try{var a=t.pageLimit?t.pageLimit:0;return a||0}catch(n){}},l=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{offset:0,limit:0};t({type:n.a.UPDATE,stateName:"page_values",payload:{options:a}})}},1577:function(e,t,a){"use strict";var n=a(3),r=a(7),i=a(43),o=a(27),l=a(28),c=a(33),s=a(34),u=a(23),m=a(1),d=a.n(m),f=a(1576),p=a.n(f),b=a(1555),g=a(32),v=a(2363),h=a(2364),E=a(1557),O=a(2365),y=function(e){var t=e.name,a=e.label,n=e.error,r=Object(g.a)(e,["name","label","error"]);return d.a.createElement(v.a,null,d.a.createElement(h.a,{for:t},a),d.a.createElement(E.a,Object.assign({},r,{name:t,id:t})),d.a.createElement(O.a,null,n))},_=function(e){var t=e.name,a=e.label,n=e.error,r=Object(g.a)(e,["name","label","error"]);return d.a.createElement(v.a,{check:!0},d.a.createElement(h.a,{check:!0},d.a.createElement(E.a,Object.assign({type:"checkbox",name:t},r))," ",a),d.a.createElement(O.a,null,n))},j=function(e){var t=e.name,a=e.label,n=e.options,r=e.error,i=e.optionsFrom,o=Object(g.a)(e,["name","label","options","error","optionsFrom"]);return d.a.createElement(v.a,null,d.a.createElement(h.a,{for:t},a),d.a.createElement(E.a,Object.assign({name:t,id:t,type:"select"},o),d.a.createElement("option",{value:""}),"client"===i?n.map(function(e){return d.a.createElement("option",{key:e,value:e},e)}):n.map(function(e){return d.a.createElement("option",{key:e.id,value:e.id},e.name)})),d.a.createElement(O.a,null,r))},S=a(102);function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var r=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var C=function(e){Object(c.a)(a,e);var t=N(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).toast={success:function(e){S.toast.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},error:function(e){S.toast.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},info:function(e){S.toast.info(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},e}return a}(m.Component),k=a(181),R=a(1583),x=a.n(R),D=a(1712),w={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},A={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},P={display:"flex",minWidth:0,overflow:"hidden"},T={display:"block",width:"auto",height:"100%"};var L=function(e){var t,a=e.name,n=e.label,r=e.value,o=e.onDrop,l=Object(m.useState)([]),c=Object(i.a)(l,2),s=c[0],u=c[1],f=Object(D.a)({accept:"image/*",onDrop:function(e){u(e.map(function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),o(a,e)}}),p=f.getRootProps,b=f.getInputProps;return t=s.length>0?s.map(function(e){return d.a.createElement("div",{style:A,key:e.name},d.a.createElement("div",{style:P},d.a.createElement("img",{src:e.preview,style:T,alt:""})))}):d.a.createElement("div",{style:A},d.a.createElement("div",{style:P},d.a.createElement("img",{src:r,style:T,alt:""}))),Object(m.useEffect)(function(){return function(){s.forEach(function(e){return URL.revokeObjectURL(e.preview)})}},[s]),d.a.createElement("section",{className:"container"},d.a.createElement("div",p({className:"dropzone"}),d.a.createElement("input",Object.assign({},b(),{alt:""})),d.a.createElement("p",null,"Drag and drop ",n,d.a.createElement("hr",null),"or click to select files")),d.a.createElement("aside",{style:w},t))},F=a(53),I=a(1584);function M(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return V(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw i}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var r=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var U=function(e){Object(c.a)(a,e);var t=z(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).enabledDefaultDates=!0,e.fieldsPopulated=!1,e}return Object(l.a)(a,[{key:"populateDefaults",value:function(){var e=Object(n.a)({},this.state.data);for(var t in this.state.data){I.findIndex(function(e){return e===t})>=0&&(console.log("prop",t),x.a.set(e,t,F.n))}this.fieldsPopulated||(this.setState({data:e}),this.fieldsPopulated=!0)}}]),a}(function(e){Object(c.a)(a,e);var t=z(a);function a(){var e;Object(o.a)(this,a);for(var l=arguments.length,c=new Array(l),s=0;s<l;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={data:{},errors:{},lock:!1},e.validate=function(){var t=p.a.validate(e.state.data,e.schema,{abortEarly:!1}).error;if(!t)return null;var a,n={},r=M(t.details);try{for(r.s();!(a=r.n()).done;){var i=a.value;n[i.path[0]]=i.message}}catch(o){r.e(o)}finally{r.f()}return n},e.validateProperty=function(t){var a=t.name,n=t.value,o=a.split(".").slice(-1),l=Object(i.a)(o,1)[0],c=Object(r.a)({},l,n),s=Object(r.a)({},l,x.a.get(e.nestedSchema,a)?x.a.get(e.nestedSchema,a):x.a.get(e.schema,a)),u=p.a.validate(c,s).error;return u?u.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();console.log("Validation ERRORS",a),e.setState({errors:a||{}}),a||e.doSubmit()},e.handleChange=function(t){var a=t.currentTarget,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=Object(n.a)({},e.state.errors),o=e.validateProperty(a);o?x.a.set(i,a.name,o):x.a.set(i,a.name,null);var l=Object(n.a)({},e.state.data);if(x.a.set(l,a.name,a.value),e.setState({data:l,errors:i}),r){var c=r.name,s=r.value;x.a.isArray(c)?c.forEach(function(e){x.a.set(l,e.name,e.value)}):x.a.set(l,c,s),e.setState({data:l,errors:i})}},e.updateStateData=function(t,a){e.handleChange({currentTarget:{name:t,value:a}})},e.handleFileDrop=function(t,a){var r=Object(n.a)({},e.state.data);x.a.set(r,t,a[0]),e.setState({data:r}),console.log(a,"files"),console.log(t,"name")},e.getErrors=function(e){if("string"===typeof e)return e;for(var t in e)if(e.hasOwnProperty(t))return e[t][0]},e.handleToggleLineModal=function(){e.setState(function(e){return{lineModal:!e.lineModal,selectedLine:""}})},e.handleLineSubmit=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lines",r=e.state.lineCounter,i=Object(n.a)({},JSON.parse(JSON.stringify(e.state.data)));if(t.id){var o=i[a].findIndex(function(e){return e.id===t.id});try{i[a][o]=t}catch(l){}}else t.id=r,r++,i[a].push(t);e.setState({data:i,lineCounter:r})},e.handleLineEdit=function(t){e.setState({selectedLine:t})},e.handleLineDelete=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lines",r=Object(n.a)({},e.state.data),i=r[a].findIndex(function(e){return e.id===t.id});r[a].splice(i,1),e.setState({data:r})},e}return Object(l.a)(a,[{key:"renderButton",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.props.disabled&&d.a.createElement(b.a,{size:"sm",outline:!0,className:"pr-3 pl-3",color:"info",disabled:this.props.loading},this.props.loading||t?d.a.createElement(k.a,null):e)}},{key:"renderSelect",value:function(e,t,a){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"client",o={};"object"===typeof e?o=Object(n.a)({optionsFrom:"client"},e):(o.name=e,o.label=t,o.options=a,o.optionsFrom=i);var l=this.state,c=l.data,s=l.errors;return d.a.createElement(j,Object.assign({},o,{size:"sm",name:o.name,value:x.a.get(c,o.name),label:o.label,onChange:o.callback?function(e){return r.handleChange(e,o.callback(e.currentTarget.value))}:this.handleChange,error:x.a.get(s,o.name),placeholder:o.label,invalid:!!x.a.get(s,o.name),disabled:this.props.disabled||o.disabled}))}},{key:"renderCheckbox",value:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null},i={};"object"===typeof e?i=Object(n.a)({},e):(i.name=e,i.label=t);var o=this.state,l=o.data,c=o.errors;return d.a.createElement(_,Object.assign({},i,{label:i.label,name:i.name,value:x.a.get(l,i.name),checked:x.a.get(l,i.name),onChange:function(e){var t=e.currentTarget,n=t.name,i=t.checked;a.handleChange({currentTarget:{name:n,value:i}}),r(i)},error:x.a.get(c,i.name),invalid:!!x.a.get(c,i.name),disabled:this.props.disabled||i.disabled}))}},{key:"renderInput",value:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o={};"object"===typeof e?o=Object(n.a)({},e):(o.name=e,o.label=t,o.type=r,o.className=i);var l=this.state,c=l.data,s=l.errors;return d.a.createElement(y,Object.assign({},o,{size:"sm",type:o.type,className:o.className,name:o.name,value:x.a.get(c,o.name),label:o.label,onChange:o.callback?function(e){return a.handleChange(e,o.callback(e.currentTarget.value))}:this.handleChange,error:x.a.get(s,o.name),placeholder:o.label,invalid:!!x.a.get(s,o.name),disabled:this.props.disabled||o.disabled}))}},{key:"renderFileUploader",value:function(e,t){var a=this.state.data;return d.a.createElement(L,{value:x.a.get(a,e),label:t,name:e,onDrop:this.handleFileDrop})}},{key:"resetForm",value:function(){var e=this;this.setState(function(){return e.initialState})}},{key:"clearForm",value:function(){var e={};for(var t in this.state.data)e[t]="";this.setState({data:e,lock:!0})}},{key:"getExtractedLine",value:function(e,t){var a={};for(var n in t)a[n]=t[n].find(function(t){return t.id===e[n]});return a}},{key:"getLineTableData",value:function(e,t){var a=this;return e.length>0&&"object"!==typeof e[0][Object.keys(t)[0]]?e.map(function(e){return Object(n.a)({},e,a.getExtractedLine(e,t))}):e}}]),a}(C));t.a=U},1578:function(e){e.exports=["credit","debit","total","total_amount","paid_amount","account_balance","balance","price","unit_price","tax","unit_cost","tax_amount","amount_excl_vat","quantity","inventory_quantity","account.balance"]},1579:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(1639),o=a(1637),l=a(1638);t.a=function(e){var t=e.className;return r.a.createElement("div",{className:"modal"},r.a.createElement(i.a,{size:"xl",isOpen:e.openModal,className:t},r.a.createElement(o.a,{toggle:function(){return e.toggle({type:"CLOSE"},e.dispatch)}},e.title),r.a.createElement(l.a,null,e.component)))}},1580:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return i});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=void 0;return a.length>0&&(r=e.filter(function(e){var r=n?"":"^";try{return a&&String(e[t]).match(new RegExp(r+a,"gi"))}catch(i){console.error("Tag does not exist: ".concat(String(i)))}return null})),"undefined"===typeof r?e:r},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"posting_date",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=void 0;return a.length>0&&n.length>0&&(r=e.filter(function(e){try{var r=new Date(e[t]).getTime(),i=new Date(a).getTime(),o=new Date(n).getTime();return a&&n&&r<=o&&r>=i}catch(l){console.error("Tag does not exist: ".concat(String(l)))}return null})),"undefined"===typeof r?e:r},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"country",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addresses",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=void 0;return a.length>0&&(i=e.filter(function(e){var i=r?"":"^";try{var o=e[n].findIndex(function(e){return e[t].match(new RegExp(i+a,"gi"))});return a&&o>=0}catch(l){console.error("Tag does not exist: ".concat(String(l)))}return null})),"undefined"===typeof i?e:i}},1581:function(e,t,a){"use strict";var n=a(3),r=a(112),i=a.n(r),o=a(178),l=a(27),c=a(28),s=a(33),u=a(34),m=a(23),d=a(1),f=a.n(d),p=a(1577),b=a(1576),g=a.n(b),v=a(1549),h=a(1550),E=a(1788),O=a(1556),y=a(1622);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var j=function(e){Object(s.a)(a,e);var t=_(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).initialState={data:{posting_date:""},errors:{}},e.state=e.initialState,e.schema={posting_date:g.a.date()},e.doSubmit=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.props.submit({id:e.props.data.id,posting_date:e.state.data.posting_date});case 1:case"end":return t.stop()}},t)})),e}return Object(c.a)(a,[{key:"render",value:function(){return f.a.createElement(v.a,{className:"border-0"},f.a.createElement(h.a,null,f.a.createElement(E.a,{md:6,sm:12,xs:12},f.a.createElement(O.a,{onSubmit:this.handleSubmit},f.a.createElement(E.a,{md:12,sm:12,xs:12},this.renderInput("posting_date","Choose Data","date")),f.a.createElement(y.a,null,this.renderButton(this.props.submitButtonLabel?this.props.submitButtonLabel:"Submit"))))))}}]),a}(p.a),S=a(1620);a.d(t,"b",function(){return N}),a.d(t,"a",function(){return C}),a.d(t,"c",function(){return k});var N={openModal:!1,data:{},title:"",Component:f.a.createElement(f.a.Fragment,null),options:{},loader:!1},C=function(e,t){if("CLOSE"===e)return t({type:"CLOSE"}),null;var a=e.type,r=e.title,i=e.data,o=e.Component,l=e.deleteOptions,c=e.options,s=e.loader,u=e.submit,m=e.submitButtonLabel;switch(a){case"VIEW":t({type:"OPEN",data:i,title:r,loader:s,Component:o,props:{disabled:!0,data:i,isView:!0,options:c,title:r}});break;case"ADD":t({type:"OPEN",data:i,Component:o,props:{data:i,options:c,submit:u,isAdd:!0,title:r||""}});break;case"EDIT":t({type:"OPEN",data:i,title:r,loader:s,Component:o,props:{data:i,options:c,isEdit:!0,submit:u,title:r||""}});break;case"PATCH":t({type:"OPEN",data:i,title:r,loader:s,Component:o,props:{data:i,options:c,isPatch:!0,submit:u,title:r||""}});break;case"DELETE":Object(S.a)(Object(n.a)({},l));break;case"CLOSE":t({type:"CLOSE"});break;case"POST":t({type:"OPEN",data:i,title:r,loader:s,Component:j,props:{data:i,options:c,isEdit:!0,submit:u,submitButtonLabel:m,title:r||""}});break;default:return null}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.title,i=t.Component,o=t.props;switch(a){case"OPEN":return Object(n.a)({},e,{openModal:!0,title:r,Component:f.a.createElement(i,o)});case"CLOSE":return Object(n.a)({},e,{openModal:!1});default:return null}}},1584:function(e){e.exports=["approved_date","requested_date","expected_delivery_date","order_date","due_date","request_date","posting_date","employment_start_date","employment_end_date","birth_date"]},1589:function(e,t,a){"use strict";var n=a(7),r=a(32),i=a(16),o=a.n(i),l=a(1),c=a.n(l),s=(a(110),{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"}),u=function(e){var t,a=e.tag,i=e.className,l=e.type,u=Object(r.a)(e,["tag","className","type"]),m=o()(Object(n.a)({},l,!!l),i);return t=a||(!a&&s[l]?s[l]:"p"),c.a.createElement(t,Object.assign({},u,{className:m}))};u.defaultProps={type:"p"},t.a=u},1603:function(e,t,a){"use strict";var n=a(7),r=a(43),i=a(3),o=a(1),l=a.n(o),c=a(1619),s=a(1557),u=a(1555),m=a(17),d="ADDING_LINE",f={addCount:0,status:"IDLE",hasEdit:!0,hasDelete:!0,_data:[]},p="_ADD",b="UPDATE",g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(i.a)({},e,{addCount:e.addCount+1,status:d});case b:return Object(i.a)({},e,{_data:t.payload});default:return e}},v=function(e){return e({type:p})},h=a(1576),E=a.n(h),O=a(1583),y=a.n(O),_=function(){return Math.random().toString(36).substring(7)},j=function(e,t){var a={};for(var n in e)a[n]="";return Object(i.a)({},a,{_id:t})},S="ADDING_LINE",N="IDLE",C="EDIT",k="SAVED",R="CANCELED",x=function(e){var t=e.data,a=e.columns,d=e.hasEdit,f=e.hasDelete,p=e.status,g=e.addCount,v=e.schema,h=e.dispatch,O=e.callback,x=Object(o.useState)([]),D=Object(r.a)(x,2),w=D[0],A=D[1],P=Object(o.useState)(N),T=Object(r.a)(P,2),L=T[0],F=T[1],I=Object(o.useState)(t.map(function(){return!1})),M=Object(r.a)(I,2),V=M[0],z=M[1],U=Object(o.useState)({}),q=Object(r.a)(U,2),B=q[0],H=q[1];Object(o.useEffect)(function(){N!==L&&k!==L&&R!==L||F(p)},[p,F,g]),Object(o.useEffect)(function(){if(t.length>0&&0===w.length){var e=t.map(function(e){var t={};for(var n in e){var r=a.find(function(e){return e.tag===n});r&&(t[r.tag]=y.a.get(e,r.tag))}return Object(i.a)({},t,{_id:_()})});z(e.map(function(){return!1})),A(e)}},[t,A]),Object(o.useEffect)(function(){var e;(e=w,function(t){t({type:b,payload:e})})(h),O(w)},[w,h]);var W=Object(o.useState)({}),J=Object(r.a)(W,2),G=J[0],Q=J[1],K=Object(o.useState)({}),$=Object(r.a)(K,2),X=$[0],Y=$[1],Z=Object(o.useState)(!1),ee=Object(r.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(o.useState)({}),re=Object(r.a)(ne,2),ie=re[0],oe=re[1];Object(o.useEffect)(function(){var e={};a.forEach(function(t){"select"===t.type&&(e[t.tag]=t.options)}),oe(e)},[oe]),Object(o.useEffect)(function(){if(L===S){var e=_();A(w.concat(j(w[0],e))),le(j(w[0],e)),z(V.concat(!0))}},[L]);var le=function(e){Y(v),Q(Object(i.a)({},B,e))};Object(o.useEffect)(function(){var e=E.a.validate(G,X,{abortEarly:!1}).error;e?(console.warn(e),ae(!1)):Object.values(G).length>1&&ae(!0)},[G]);var ce=function(e){var t=e.currentTarget,a=t.name,r=t.value,o=t.callback;Q(Object(i.a)({},G,Object(n.a)({},a,r)));o({name:a,value:r,setOptions:function(e,t){var a=ie;Object.keys(ie).findIndex(function(t){return t===e})>=0&&(a[e]=t,oe(a))},options:ie,setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};e.map(function(e){var a=e.name,n=e.value;return t[a]=n,null}),Q(Object(i.a)({},G,t))},formData:G})};return Object(o.useEffect)(function(){var e={};a.forEach(function(t){t.defaultValue&&(e=Object(i.a)({},e,Object(n.a)({},t.tag,t.defaultValue)))}),Object.values(e).length>0&&(Q(Object(i.a)({},G,e)),H(e))},[a,Q]),l.a.createElement(c.a,{size:"md",responsive:!0,striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,a.filter(function(e){return!Boolean(e.isView)}).map(function(e){return l.a.createElement("th",null,e.label)}))),l.a.createElement("tbody",null,w.map(function(e,t){return l.a.createElement("tr",null,a.filter(function(e){return!Boolean(e.isView)}).map(function(a){return V[t]&&!a.noEdit?l.a.createElement("td",null,"select"===a.type?l.a.createElement(s.a,{type:a.type,name:a.tag,value:y.a.get(G,a.tag),onChange:function(e){var t=e.currentTarget,n=t.name,r=t.value,i=a.callback?a.callback:function(){return null};ce({currentTarget:{name:n,value:r,callback:i}})},disabled:a.disabled},l.a.createElement("option",null),"server"===a.optionsFrom?ie[a.tag].map(function(e){return l.a.createElement("option",{value:e.id},e.name)}):ie[a.tag].map(function(e){return l.a.createElement("option",{value:e},e)})):l.a.createElement(s.a,{type:a.type?a.type:"text",name:a.tag,disabled:a.disabled,value:y.a.get(G,a.tag),onChange:function(e){var t=e.currentTarget,n=t.name,r=t.value,i=a.callback?a.callback:function(){return null};ce({currentTarget:{name:n,value:r,callback:i}})}})):l.a.createElement("td",null,function(e,t){if("server"!==t.optionsFrom)return e[t.tag];var a=t.options.find(function(a){return String(a.id)===String(e[t.tag])});return a?a.name:void 0}(e,a))}),d?l.a.createElement("td",null,V[t]?l.a.createElement("div",null,l.a.createElement(u.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){A(w.map(function(e){return e._id===G._id?Object(i.a)({_id:_()},G):e})),z(V.map(function(){return!1})),F(k)},disabled:!te},"Save"),l.a.createElement(u.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){!function(){if(L===S){var e=w.findIndex(function(e){return e._id===G._id});e>=0&&(A(w.filter(function(t,a){return e!==a})),z(V.filter(function(t,a){return e!==a}))),ae(!0)}else z(V.map(function(){return!1}));F(R),Y({})}()}},"Cancel")):l.a.createElement(u.a,{className:"m-1",size:"sm",outline:!0,color:"warning",onClick:function(){z(V.map(function(e,a){return a===t})),le(e),F(C)}},l.a.createElement(m.s,null))):l.a.createElement(l.a.Fragment,null),f?l.a.createElement("td",null,l.a.createElement(u.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){return function(e){var t=w.findIndex(function(t){return t._id===e});t>=0&&(A(w.filter(function(e,a){return a!==t})),z(V.filter(function(e,a){return a!==t})),F(R))}(e._id)}},l.a.createElement(m.p,null))):l.a.createElement(l.a.Fragment,null))})))},D=a(1788),w=function(e){var t=e.data,a=e.columns,n=e.callback,i=e.schema,c=e.lineTag,s=e.disabled,m=e.startForm,d=Object(o.useReducer)(g,f),p=Object(r.a)(d,2),b=p[0],h=p[1],E=Object(o.useState)(!1),O=Object(r.a)(E,2),y=O[0],_=O[1];Object(o.useEffect)(function(){m&&v(h)},[m,h]);return l.a.createElement("div",null,s?l.a.createElement(l.a.Fragment,null):l.a.createElement(D.a,{align:"right",className:"mb-1 pl-3 pr-3"},l.a.createElement(u.a,{className:"m-1 align-right",size:"sm",outline:!0,color:"info",onClick:function(){return v(h)}},c||"Add Line")),l.a.createElement(x,Object.assign({},b,{dispatch:h,data:t,schema:i,columns:a,callback:function(e){!y&&e.length>0&&Object.values(e[0]).length>1?(n(e),_(!0)):b._data.length>=e.length&&n(e)},hasEdit:!s,hasDelete:!s})))};a.d(t,"a",function(){return x}),a.d(t,"c",function(){return v}),a.d(t,"d",function(){return f}),a.d(t,"e",function(){return g}),a.d(t,"b",function(){return w})},1620:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(3),r=a(1611),i=function(e){return null},o=function(e){return null},l=function(e){var t=e.title,a=e.message,l=e.okCallback,c=e.errCallback,s=e.id,u={title:t||"Confirm to submit",message:a||"Are you sure you want to do this?",okCallback:l?function(){return l(s)}:i,errCallback:c?function(){return c(s)}:o};Object(r.confirmAlert)(Object(n.a)({},u,{buttons:[{label:"Yes",onClick:u.okCallback},{label:"No",onClick:u.errCallback}]}))}},1710:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=new(a(6).a)({stateName:"new_item_masterdata"});n.setInitialState(),n.createSlice(),n.setURL("/warehouse-items"),n.enableResults({fetchEnabled:!1});var r=n.getSelectors(),i=(r.selectAddStatus,r.selectFetchStatus,r.selectEditStatus,r.selectDeleteStatus,r.selectData),o=n.getEntity(),l=(o.stateName,o.reducer,n.getAPIHandles());l.Add,l.Edit,l.Fetch,l.Remove},1786:function(e,t,a){"use strict";t.a={id:"5df3180a09ea16dc4b95f910",invoice_no:"201906-28",balance:"$2,283.74",company:"MANTRIX",name:"This Name",email:"susanafuentes@mantrix.com",phone:"+1 (872) 588-3809",address:"922 Campus Road, Drytown, Wisconsin, 1986",trans_date:"2019-09-12",due_date:"2019-10-12",items:[{itemCategory:232323,itemCode:23232,itemName:"thie items long name",locationCode:133441,binCode:2323,quantity:23232,uom:"AAAA",unitPrice:232323,totalAmount:232322,postingDate:"00/00/0000"},{itemCategory:232323,itemCode:23232,itemName:"thie items long name",locationCode:133441,binCode:2323,quantity:23232,uom:"AAAA",unitPrice:232323,totalAmount:232322,postingDate:"00/00/0000"},{sno:3,desc:"ea commodo labore culpa irure",qty:5,rate:458.61}]}},1795:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return l}),a.d(t,"a",function(){return c});var n=a(38),r="current_department",i=function(e){return e[r]?e[r]:null},o=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t({type:n.a.UPDATE,stateName:r,payload:{department:a}})},l=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t({type:n.a.UPDATE,stateName:r,payload:{permissions:a}})},c={create:!0,read:!0,update:!0,delete:!0}},1808:function(e,t){},1810:function(e,t){},1854:function(e,t){},1855:function(e,t){},2381:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(43),i=a(1),o=a.n(i),l=a(1574),c=a(1555),s=a(1788),u=a(1549),m=a(7),d=a(112),f=a.n(d),p=a(178),b=a(27),g=a(28),v=a(179),h=a(33),E=a(34),O=a(23),y=a(1550),_=a(1556),j=a(1787),S=a(1577),N=a(1603),C=a(1576),k=a.n(C),R="sales_order_lines",x=Object(m.a)({id:k.a.string().allow("").optional(),document_number:k.a.string().allow("").optional(),order_date:k.a.string().required().label("order_date"),customer_number:k.a.string().required().label("Customer Number"),customer:k.a.string().required().label("customer"),sales_region:k.a.string().required().label("sales_region"),sales_region_code:k.a.string().required().label("sales_region_code"),sales_person:k.a.string().required().label("sales_person"),due_date:k.a.string().required().label("due_date"),posting_date:k.a.string().allow("").optional(),approved_by:k.a.string().allow("").optional(),approved_date:k.a.string().allow("").optional(),status:k.a.string().allow("").optional(),remarks:k.a.string().allow("").optional(),lines:k.a.array().items(k.a.object()).min(1)},R,k.a.array().items(k.a.object()).min(1)),D={data:Object(m.a)({id:"",document_number:"",order_date:"",customer_number:"",customer:"",sales_region:"",sales_person:"",due_date:"",approved_by:"",approved_date:"",status:"",remarks:"",posting_date:"",sales_region_code:""},R,[]),errors:{},selectedLine:"",lineCounter:1},w={_id:k.a.any().allow("").optional(),item_category:k.a.string().allow("").optional(),item_no:k.a.string().allow("").optional(),item:k.a.string(),quantity:k.a.number(),unit_measure:k.a.string(),unit_price:k.a.number(),calculated_amount:k.a.number().allow("").optional(),discount_type:k.a.string().allow("").optional(),discount_amount:k.a.number(),total_amount:k.a.number(),currency:k.a.string(),remarks:k.a.string().allow("").optional()},A=function(e){var t={PERCENT:"Percent",AMOUNT:"Amount"},a=e.options,n=a.itemCategories,r=a.items,i=a.UOMs,o=a.currencies,l=function(e){var a=e.name,n=e.value,i=e.setOptions,o=e.setValue,l=e.formData;switch(a){case"item_category":var c=r.filter(function(e){return String(e.category_detail.id)===String(n)});c&&i("item_no",c.map(function(e){return e.document_number}));break;case"item_no":var s=r.find(function(e){return String(e.document_number)===String(n)});s&&o([{name:"item",value:s.id},{name:"unit_price",value:s.price},{name:"total_amount",value:s.price},{name:"item_no",value:n}]);break;case"quantity":var u=l.calculated_amount,m=l.unit_price;Number(n)>0?o([{name:"total_amount",value:Number(u)>0?Number(u*n):Number(m*n)},{name:"calculated_amount",value:Number(u)>0?Number(u*n):Number(m*n)},{name:"quantity",value:n}]):o([{name:"total_amount",value:Number(u)>0?Number(u):Number(m)},{name:"calculated_amount",value:Number(u)>0?Number(u):Number(m)},{name:"quantity",value:n}]);break;case"discount_amount":var d=0,f=l.discount_type,p=l.unit_price,b=l.quantity,g=l.calculated_amount;0===Number(n)?o([{name:"total_amount",calculated_amount:Number(p*b)},{name:"discount_amount",value:n}]):f===t.AMOUNT?(d=g>0?Number(g)-Number(n):Number(p)*Number(b)-Number(n),o([{name:"total_amount",value:Number(d).toFixed(2)},{name:"calculated_amount",value:Number(d).toFixed(2)},{name:"discount_amount",value:n}])):f===t.PERCENT&&(d=g>0?Number(g)-g*(n/100):Number(p)*Number(b)-p*(n/100),o([{name:"total_amount",value:Number(d).toFixed(2)},{name:"calculated_amount",value:Number(d).toFixed(2)},{name:"discount_amount",value:n}]));break;case"unit_price":var v=0,h=l.discount_type,E=l.quantity;h===t.AMOUNT?(v=Number(n)*Number(E),o([{name:"total_amount",value:Number(v).toFixed(2)},{name:"calculated_amount",value:Number(v).toFixed(2)},{name:"unit_price",value:n}])):h===t.PERCENT&&(v=Number(n)*Number(E)-(1+Number(100/n)),o([{name:"total_amount",value:Number(v).toFixed(2)},{name:"calculated_amount",value:Number(v).toFixed(2)},{name:"unit_price",value:n}]));break;default:return null}};return[{tag:"item_category",label:"Item Category",type:"select",options:n,optionsFrom:"server",isView:Boolean(e.isView),callback:l},{tag:"item_no",label:"Item Number",type:"select",options:r.map(function(e){return e.document_number}),isView:Boolean(e.isView),callback:l},{tag:"item",label:"Item Name",type:"select",options:r,optionsFrom:"server",disabled:!0},{tag:"quantity",label:"Quantity",type:"number",callback:l},{tag:"unit_measure",label:"Unit Measure",type:"select",options:i,optionsFrom:"server"},{tag:"unit_price",label:"Unit Price",type:"number",disabled:!0,callback:l},{tag:"discount_type",label:"Discount Type",type:"select",options:Object.values(t),defaultValue:t.AMOUNT},{tag:"discount_amount",label:"Discount Amount",type:"number",defaultValue:"0",callback:l},{tag:"total_amount",label:"Total Amount",type:"number",disabled:!0},{tag:"currency",label:"Currency",type:"select",options:o,optionsFrom:"server"},{tag:"remarks",path:"remark",label:"Remarks",type:"text"}]},P=a(103),T=a(113),L=a(177);function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(O.a)(e);if(t){var r=Object(O.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var I=function(e){Object(h.a)(a,e);var t=F(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).doSubmit=Object(p.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.submit(n.state.data);case 1:case"end":return e.stop()}},e)})),n.initialState=D,n.state=JSON.parse(JSON.stringify(n.initialState)),n.schema=x,n.handleLineSave=n.handleLineSave.bind(Object(v.a)(n)),n.populateState=n.populateState.bind(Object(v.a)(n)),n.updateLines=n.updateLines.bind(Object(v.a)(n)),n.lineMapper=n.lineMapper.bind(Object(v.a)(n)),n.updateData=n.updateData.bind(Object(v.a)(n)),n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.populateDefaults(),this.componentDidUpdate(),this.populateDefaults()}},{key:"lineMapper",value:function(){return this.props.isEdit||this.props.isView?function(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:R].map(function(e){return{_id:e.id,item_category:"",item_no:e.item.document_number,item:e.item.id,quantity:Number(e.quantity),unit_measure:e.unit_of_measurement.id,unit_price:Number(e.unit_price),discount_type:e.discount_method,discount_amount:Number(e.discount),vat:Number(e.vat_amount),total_amount:Number(e.total),currency:e.currency?e.currency.id:"",remarks:e.remarks}})}(this.props.data,"sales_order_lines"):[]}},{key:"populateState",value:function(e){var t=function(e,t){return Object(m.a)({id:e.id,document_number:e.document_number,order_date:e.order_date,customer_number:e.customer.customer_number,customer:e.customer.id,sales_region:e.sales_region.id,sales_region_code:e.sales_region.code,sales_person:String(e.sales_person),due_date:e.due_date,approved_by:String(e.approved_by),approved_date:e.approved_date,posting_date:e.posting_date?e.posting_date:"",status:e.status,remarks:e.remarks},R,t())}(e,this.lineMapper);this.setState({lockUpdate:!0,data:t})}},{key:"updateLines",value:function(e){(e.length>0||this.state.data[R].length>0)&&this.setState({data:Object(n.a)({},this.state.data,Object(m.a)({},R,e))})}},{key:"componentDidUpdate",value:function(){!this.props.isEdit&&!this.props.isView||this.state.lockUpdate||this.populateState(this.props.data)}},{key:"handleLineSave",value:function(e){this.setState({data:Object(n.a)({},this.state.data,Object(m.a)({},R,e))})}},{key:"updateData",value:function(e,t){this.setState({data:Object(n.a)({},this.state.data,Object(m.a)({},e,t))})}},{key:"render",value:function(){var e=this.props.options,t=e.salesRegions,a=e.customers,n=e.employees;return o.a.createElement(u.a,{className:"border-0"},o.a.createElement(y.a,null,o.a.createElement(_.a,{onSubmit:this.handleSubmit},o.a.createElement(j.a,null,o.a.createElement(s.a,{md:3,sm:12,xs:12},this.renderInput({name:"document_number",label:"Document Number"}))&&this.props.isView,o.a.createElement(s.a,{className:"mb-3",md:3,sm:12,xs:12},this.renderInput({name:"order_date",label:"Order Date",type:"date"})),o.a.createElement(s.a,{md:3,sm:12,xs:12},this.renderSelect({name:"customer_number",label:"Customer Number",options:a.map(function(e){return e.document_number}),callback:function(e){var t=a.find(function(t){return t.document_number===e});if(t)return{name:"customer",value:t.id}}})),o.a.createElement(s.a,{md:3,sm:12,xs:12},this.renderSelect({name:"customer",label:"Customer Name",options:a,optionsFrom:"server",disabled:!0})),o.a.createElement(s.a,{md:3,sm:12,xs:12},this.renderSelect({name:"sales_region_code",label:"Sales Region Code",options:t.map(function(e){return e.code}),callback:function(e){var a=t.find(function(t){return t.code===e});if(a)return{name:"sales_region",value:a.id}}})),o.a.createElement(s.a,{md:3,sm:12,xs:12},this.renderSelect({name:"sales_region",label:"Sales Region",options:t,optionsFrom:"server",disabled:!0})),o.a.createElement(s.a,{md:3,sm:12,xs:12},this.renderSelect({name:"sales_person",label:"Sales Person",options:n.map(function(e){return{id:e.id,name:e.first_name+" "+e.father_name}}),optionsFrom:"server"})),this.props.isView&&P.a.POSTED!==this.state.data.status&&P.a.OPEN_SIV!==this.state.data.status?o.a.createElement(s.a,{md:3,sm:12,xs:12},this.renderInput({name:"posting_date",label:"Posting Date",type:"date"})):o.a.createElement(o.a.Fragment,null),o.a.createElement(s.a,{md:3,sm:12,xs:12},this.renderInput({name:"due_date",label:"Due Date",type:"date"})),this.props.isView&&P.a.OPEN!==this.state.data.status&&P.a.SENT_FOR_APPROVAL!==this.state.data.status?o.a.createElement(s.a,{md:3,sm:12,xs:12},this.renderInput({name:"approved_by",label:"Approved By"})):o.a.createElement(o.a.Fragment,null),this.props.isView&&P.a.OPEN!==this.state.data.status&&P.a.SENT_FOR_APPROVAL!==this.state.data.status?o.a.createElement(s.a,{md:3,sm:12,xs:12},this.renderInput({name:"approved_date",label:"Approved Date"})):o.a.createElement(o.a.Fragment,null),this.props.isView?o.a.createElement(s.a,{md:3,sm:12,xs:12},this.renderInput({name:"status",label:"Status"})):o.a.createElement(o.a.Fragment,null),o.a.createElement(s.a,{md:12,sm:12,xs:12},this.renderInput("remarks","Remarks","textarea")),o.a.createElement(s.a,{md:12,sm:12,xs:12},o.a.createElement(N.b,{columns:A(this.props),disabled:this.props.disabled,data:this.state.data[R],callback:this.updateLines,schema:w,startForm:this.props.isAdd})),o.a.createElement(s.a,{size:"xl",align:"right"},this.renderButton("Save"))))))}}]),a}(S.a),M=Object(L.b)(T.f)(I),V=a(17),z=a(1709),U=a(1573),q=a(1581),B=a(1579),H=a(11),W=a(1566),J=a(109),G=a(1795),Q=a(1605),K={Print:function(){return o.a.createElement(o.a.Fragment,null)},fileName:"report",orientation:"landscape",mapper:function(e){return e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=e.Print,a=e.fileName,n=e.data,r=e.orientation,i=e.mapper,l=i||K.mapper;return o.a.createElement(Q.c,{document:o.a.createElement(t,{orientation:r||K.orientation,className:"app",invoice:l(n)}),fileName:"".concat(a||K.fileName,".pdf")},function(e){return e.loading?o.a.createElement(c.a,{className:"ml-3",size:"sm",outline:!0,color:"primary"},"Loading ..."):o.a.createElement(c.a,{className:"ml-3",size:"sm",outline:!0,color:"primary"},o.a.createElement(V.J,null))})},X=Q.e.create({tableContainer:{flexDirection:"row",flexWrap:"wrap",marginTop:24,borderWidth:1,borderColor:"#222222"},tableHeaderContainer:{flexDirection:"row",borderBottomColor:"#222222",backgroundColor:"#d4d4d4",borderBottomWidth:1,alignItems:"center",height:34,textAlign:"center",fontStyle:"light",flexGrow:6},tableHeader:{width:"10%",borderRightColor:"#222222",borderRightWidth:1},tableHeaderSmall:{width:"5%",borderRightColor:"#222222",borderRightWidth:1},tableHeaderLarge:{width:"20%",borderRightColor:"#222222",borderRightWidth:1},row:{flexDirection:"row",borderBottomColor:"borderColor",borderBottomWidth:1,alignItems:"center",height:24,fontStyle:"bold"},emptyRow:{flexDirection:"row",borderBottomColor:"#222222",borderBottomWidth:1,alignItems:"center",height:24,fontStyle:"bold",color:"white"},tableRowLarge:{width:"20%",borderRightColor:"#222222",borderRightWidth:1,textAlign:"left"},tableRow:{width:"10%",borderRightColor:"#222222",borderRightWidth:1,textAlign:"center"},tableRowSmall:{width:"5%",borderRightColor:"#222222",borderRightWidth:1,textAlign:"right"},tableRowQty:{width:"5%",borderRightColor:"#222222",borderRightWidth:1,textAlign:"right"},sign:{width:"85%",textAlign:"right",borderRightColor:"#222222",borderRightWidth:1,paddingRight:8},signBox:{flexDirection:"row",borderBottomColor:"#bff0fd",borderBottomWidth:1,alignItems:"center",height:24,fontSize:12,fontStyle:"bold"},page:{fontSize:11,paddingTop:30,paddingLeft:60,paddingRight:60,lineHeight:1.5,display:"flex"},titleContainer:{justifyContent:"space-around",flexDirection:"row",marginTop:1},reportTitle:{letterSpacing:2,fontSize:25,textAlign:"left",textTransform:"uppercase",textDecoration:"underline",justifyContent:"center",marginLeft:230},abyssinaHeading:{letterSpacing:4,fontSize:20,textAlign:"center",textTransform:"uppercase",justifyContent:"flex-start"},logo:{width:110,height:80,justifyContent:"flex-end",marginLeft:"auto"},headerInfo:{display:"flex",justifyContent:"space-around",flexDirection:"row",marginTop:5,fontSize:12,textAlign:"left"},headerRight:{alignSelf:"flex-start"},headerLeft:{alignSelf:"flex-end"}}),Y=function(){return o.a.createElement(Q.g,{style:X.tableHeaderContainer},o.a.createElement(Q.f,{style:X.tableHeaderLarge},"Name"),o.a.createElement(Q.f,{style:X.tableHeader},"Category"),o.a.createElement(Q.f,{style:X.tableHeader},"Quantity "),o.a.createElement(Q.f,{style:X.tableHeaderSmall},"Unit Price "),o.a.createElement(Q.f,{style:X.tableHeader},"Discount "),o.a.createElement(Q.f,{style:X.tableHeader},"Discount Method "),o.a.createElement(Q.f,{style:X.tableHeaderSmall}," Total Excluding VAT"),o.a.createElement(Q.f,{style:X.tableHeaderSmall},"VAT"),o.a.createElement(Q.f,{style:X.tableHeader},"Net Amount "),o.a.createElement(Q.f,{style:X.tableHeader},"Currency"),o.a.createElement(Q.f,{style:X.tableHeaderSmall},"UOM"))},Z=function(e){var t=e.items.map(function(e){return o.a.createElement(Q.g,{style:X.row,key:e.itemCode},o.a.createElement(Q.f,{style:X.tableRowLarge},e.itemName),o.a.createElement(Q.f,{style:X.tableRow},e.itemCategory),o.a.createElement(Q.f,{style:X.tableRow},e.quantity),o.a.createElement(Q.f,{style:X.tableRowSmall},e.unitPrice),o.a.createElement(Q.f,{style:X.tableRow},e.discount),o.a.createElement(Q.f,{style:X.tableRow},e.discountMethod),o.a.createElement(Q.f,{style:X.tableRowSmall},e.totalExcludingVAT),o.a.createElement(Q.f,{style:X.tableRowSmall},e.vat),o.a.createElement(Q.f,{style:X.tableRow},e.totalAmount),o.a.createElement(Q.f,{style:X.tableRow},e.currency),o.a.createElement(Q.f,{style:X.tableRowSmall},e.unit_of_measurement))});return o.a.createElement(i.Fragment,null,t)},ee=function(e){return e.items.reduce(function(e,t){return e+t},0),o.a.createElement(Q.g,{style:X.signBox},o.a.createElement(Q.f,{style:X.sign},"Signature"))},te=function(e){var t=e.invoice;return o.a.createElement(Q.g,{style:X.tableContainer},o.a.createElement(Y,null),o.a.createElement(Z,{items:t.items}),o.a.createElement(ee,{items:t.items}))},ae=a(184),ne=a.n(ae),re=function(){return o.a.createElement(Q.g,{style:X.titleContainer},o.a.createElement(Q.f,{style:X.abyssinaHeading}," ","Abyssinya Slaughter Service ","\n","House PLC"),o.a.createElement(Q.b,{style:X.logo,src:ne.a}))},ie=function(e){var t=e.invoice;return o.a.createElement(i.Fragment,null,o.a.createElement(Q.g,{style:X.headerRight},o.a.createElement(Q.f,null,"Documnent No: ",t.invoice_no),o.a.createElement(Q.f,null,"Order Date : ",t.trans_date),o.a.createElement(Q.f,null,"Due Date :",t.trans_date," ")),o.a.createElement(Q.g,{style:X.headerRight},o.a.createElement(Q.f,null,"Customer No. : ",t.customerNumber," "),o.a.createElement(Q.f,null,"Customer Name: ",t.customerName," "),o.a.createElement(Q.f,null,"Sales Region: ",t.salesRegion)),o.a.createElement(Q.g,{style:X.headerLeft},o.a.createElement(Q.f,null,"Sales Person: ",t.salesPerson),o.a.createElement(Q.f,null,"Posting Date :",t.postingDate),o.a.createElement(Q.f,null,"Approved By :",t.approvedBy),o.a.createElement(Q.f,null,"Approved Date :",t.approvedDate)))},oe=function(e){var t=e.invoice;return o.a.createElement(Q.a,null,o.a.createElement(Q.d,{orientation:"landscape",size:"A4",style:X.page},o.a.createElement(re,null),o.a.createElement(Q.f,{style:X.reportTitle}," Sales Order "),o.a.createElement(Q.g,{style:X.headerInfo},o.a.createElement(ie,{invoice:t})),o.a.createElement(te,{invoice:t})))},le=a(1786),ce=function(e){var t=e.salesOrders,a=e.addSalesOrder,n=e.editSalesOrder,m=e.deleteSalesOrder,d=e.sendForApproval,f=e.approveSalesOrder,p=e.rejectSalesOrder,b=e.invoiceSalesOrder,g=e.doneAdd,v=e.doneEdit,h=e.salesRegions,E=e.customers,O=e.itemCategories,y=e.items,_=e.UOMs,j=e.currencies,S=e.employees,N=(e.status,e.getLoading),C=Object(i.useReducer)(q.c,q.b),k=Object(r.a)(C,2),R=k[0],x=k[1],D=Object(i.useState)(""),w=Object(r.a)(D,2),A=w[0],T=w[1],L=Object(i.useContext)(J.a).rootState,F=Object(i.useState)(G.a),I=Object(r.a)(F,2),Q=I[0],K=I[1];Object(i.useEffect)(function(){var e=Object(G.b)(L);e&&e.permissions&&K(e.permissions["SALES ORDER"])},[L]);var X=[{path:"document_number",label:"Document Number"},{path:"posting_date",label:"Posting Date "},{path:"customer.customer_number",label:"Customer No"},{path:"customer.name",label:"Customer Name "},{path:"sales_region.name",label:"Sales Region"},{path:"approved_by",label:"Approved By"},{path:"approved_date",label:"Approved Date"},{path:"status",label:"Status"},{key:"view",content:function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){Object(q.a)({type:"VIEW",Component:M,data:e,title:"View Sales Order",options:{salesRegions:h,customers:E,itemCategories:O,items:y,UOMs:_,currencies:j,employees:S}},x)}},o.a.createElement(V.M,null)),e.status?o.a.createElement($,{Print:oe,fileName:"sales-order",data:(t=e,le.a,{invoice_no:t.document_number,due_date:t.due_date,trans_date:t.order_date,customerNumber:t.customer.customer_number,customerName:t.customer.name,salesRegion:t.sales_region.name,salesPerson:String(t.sales_person),postingDate:String(t.posting_date),approvedBy:String(t.approved_by),approvedDate:String(t.approved_date),items:t.sales_order_lines.map(function(e){return{itemName:e.item.name,itemCategory:e.category.category,quantity:e.quantity,unitPrice:e.unit_price,discount:e.discount,discountMethod:e.discount_method,totalAmount:e.total,vat:e.vat_amount,totalExcludingVAT:e.amount_excl_vat,currency:String(e.currency),unit_of_measurement:e.unit_of_measurement.name}})})}):o.a.createElement(o.a.Fragment,null),e.status===P.a.OPEN&&o.a.createElement(c.a,{className:"m-1",size:"sm",outline:!0,color:"success",onClick:function(){return d(e)}},o.a.createElement(z.b,null)),e.status===P.a.SENT_FOR_APPROVAL&&o.a.createElement(c.a,{className:"m-1",size:"sm",outline:!0,color:"success",onClick:function(){return f(e)}},o.a.createElement(z.a,null)," Approve"),e.status===P.a.SENT_FOR_APPROVAL?o.a.createElement(c.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){return p(e)}},o.a.createElement(V.l,null)):o.a.createElement(o.a.Fragment,null),e.status===P.a.ISSUED?o.a.createElement(c.a,{className:"m-1",size:"sm",outline:!0,color:"warning",onClick:function(){return b(e)}},"Invoice"):o.a.createElement(o.a.Fragment,null),e.status===P.a.INVOICING&&o.a.createElement(c.a,{className:"m-1",size:"sm",outline:!0,color:"success",onClick:function(){return T(H.a.financeSalesProces)}},o.a.createElement(z.c,null)," Collect Cash"),e.status===P.a.OPEN&&o.a.createElement(c.a,{className:"m-1",size:"sm",outline:!0,color:"warning",onClick:function(){Object(q.a)({type:"EDIT",Component:M,submit:n,isEdit:!0,data:e,options:{salesRegions:h,customers:E,itemCategories:O,items:y,UOMs:_,currencies:j,employees:S}},x)}},o.a.createElement(V.s,null)),e.status===P.a.OPEN&&o.a.createElement(c.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){Object(q.a)({type:"DELETE",deleteOptions:{okCallback:Y,title:"Are you sure?",id:e.id,message:""}},x)}},o.a.createElement(V.p,null)));var t}}],Y=function(e){m(e)};return Object(i.useEffect)(function(){(g||v)&&Object(q.a)({type:"CLOSE"},x)},[g,v]),""!==A?o.a.createElement(W.a,{to:H.a.financeSalesProces}):o.a.createElement("div",null,o.a.createElement(l.a,null,o.a.createElement(B.a,{data:R.data,openModal:R.openModal,component:R.Component,toggle:q.a,dispatch:x,title:R.title}),Q.create?o.a.createElement(s.a,{align:"right",className:"mb-1 pl-3 pr-3"},o.a.createElement(c.a,{onClick:function(){Object(q.a)({type:"ADD",Component:M,submit:a,isEdit:!0,options:{salesRegions:h,customers:E,itemCategories:O,items:y,UOMs:_,currencies:j,employees:S}},x)},outline:!0,size:"sm"},"New Sales Order")):o.a.createElement(o.a.Fragment,null),o.a.createElement(u.a,{className:"border-0"},o.a.createElement(U.a,{title:"Sales Orders",columns:X,data:t,getLoading:N}))))},se=a(102),ue=a(19),me=a(54),de=a(36),fe=a(1580),pe=a(1557),be=a(53),ge=a(80),ve=a(66),he=a(61),Ee=a(94),Oe=a(1710),ye=a(87),_e=a(55),je=a(1575),Se=a(156);t.default=Object(L.b)(function(e){return{fetchStatus:Object(T.l)(e),addStatus:Object(T.i)(e),salesOrders:Object(T.n)(e),editStatus:Object(T.k)(e),patchStatus:Object(T.m)(e),deleteStatus:Object(T.j)(e),salesRegions:Object(ge.l)(e),customers:Object(ve.i)(e),itemCategories:Object(he.c)(e),items:Object(Ee.c)(e),itemMasterDatas:Object(Oe.a)(e),UOMs:Object(ye.c)(e),currencies:Object(_e.g)(e),employees:Object(Se.b)(e)}},function(e){return{fetchSalesOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e(Object(T.c)(t))},addSalesOrder:function(t){return e(Object(T.a)(t))},editSalesOrder:function(t){return e(Object(T.b)(t))},patchSalesOrder:function(t){return e(Object(T.d)(t))},deleteSalesOrder:function(t){return e(Object(T.e)(t))},fetchCustomers:function(){return e(Object(ve.d)())},fetchSalesRegions:function(){return e(Object(ge.d)())}}})(function(e){var t=e.fetchStatus,a=e.addStatus,l=e.fetchSalesOrders,c=e.fetchSalesRegions,s=e.addSalesOrder,u=e.editStatus,m=e.editSalesOrder,d=e.patchStatus,f=e.patchSalesOrder,p=e.deleteStatus,b=(e.deleteSalesOrder,e.salesOrders),g=e.salesRegions,v=e.customers,h=e.itemCategories,E=e.items,O=e.itemMasterDatas,y=e.UOMs,_=e.currencies,j=e.fetchCustomers,S=e.employees,N=Object(i.useState)(!0),C=Object(r.a)(N,2),k=C[0],x=C[1],D=Object(i.useState)(!0),w=Object(r.a)(D,2),A=w[0],L=w[1],F=Object(i.useState)(!0),I=Object(r.a)(F,2),M=I[0],V=I[1],z=Object(i.useState)(!0),U=Object(r.a)(z,2),q=U[0],B=U[1],H=Object(i.useState)(!0),W=Object(r.a)(H,2),J=W[0],G=W[1],Q=Object(i.useState)([]),K=Object(r.a)(Q,2),$=K[0],X=K[1],Y=Object(i.useState)("document_number"),Z=Object(r.a)(Y,2),ee=Z[0],te=Z[1],ae=Object(i.useState)(be.m),ne=Object(r.a)(ae,2),re=ne[0],ie=ne[1],oe=Object(i.useState)(be.k),le=Object(r.a)(oe,2),ge=le[0],ve=le[1];Object(i.useEffect)(function(){X(b)},[b,X]);var he=Object(i.useContext)(me.c).searchValue,Ee=Object(i.useContext)(me.b),Oe=Ee.rootState,ye=Ee.dispatch;Object(i.useEffect)(function(){try{var e=Object(je.b)(Oe).options,t=e.offset,a=e.limit;e.onClick&&l([{key:"offset",value:t},{key:"limit",value:a}])}catch(n){}},[Oe]);var _e=function(){var e=Object(i.useState)(ee),t=Object(r.a)(e,2),a=t[0],n=t[1],l=Object(i.useState)(re),c=Object(r.a)(l,2),s=c[0],u=c[1],m=Object(i.useState)(be.k),d=Object(r.a)(m,2),f=d[0],p=d[1];return Object(i.useEffect)(function(){return ie(s)},[s,ie]),Object(i.useEffect)(function(){return ve(f)},[f,ve]),Object(i.useEffect)(function(){return te(a)},[a]),o.a.createElement(o.a.Fragment,null,o.a.createElement(pe.a,{type:"select",onChange:function(e){var t=e.currentTarget.value;return n(t)}},o.a.createElement("option",{value:"document_number"},"By Document Number"),o.a.createElement("option",{value:"posting_date"},"Posting Date Range"),o.a.createElement("option",{value:"customer_number"},"Customer No."),o.a.createElement("option",{value:"customer_name"},"Customer Name"),o.a.createElement("option",{value:"sales_region_name"},"Sales Region"),o.a.createElement("option",{value:"sales_person"},"Sales Person")),"posting_date"===a?o.a.createElement(o.a.Fragment,null,"Start Date"," ",o.a.createElement(pe.a,{type:"date",value:s,onChange:function(e){var t=e.currentTarget.value;return u(t)}}),"End Date",o.a.createElement(pe.a,{type:"date",value:f,onChange:function(e){var t=e.currentTarget.value;return p(t)}})):o.a.createElement(o.a.Fragment,null))};Object(i.useEffect)(function(){Object(de.e)({},ye,!1),Object(de.a)({},ye,_e)},[ye]),Object(i.useEffect)(function(){var e=[];"posting_date"!==ee?(ie(""),ve(""),e=Object(fe.b)(b.map(function(e){return Object(n.a)({},e,{customer_number:e.customer.customer_number,customer_name:e.customer.name,sales_region_name:e.sales_region.name})}),ee,he,"document_number"===ee||"customer_number"===ee)):e=Object(fe.a)(b,ee,re,ge),X(e)},[he,X,ee,re,ge]),Object(i.useEffect)(function(){x(!1),l(),j(),c()},[l,x,j]),Object(i.useEffect)(function(){var e=t.status,a=t.response;e!==ue.e.failure||k?Object(je.d)(Oe,ye,a):(se.toast.error("Failed fetching salesOrders"),x(!1))},[t,x,je.d]),Object(i.useEffect)(function(){var e=a.status;e!==ue.e.failure||A?e!==ue.e.success||A||(se.toast.success("Added Sales Order"),L(!0)):L(!0)},[a,L,A]),Object(i.useEffect)(function(){var e=u.status;e!==ue.e.failure||M?e!==ue.e.success||M||(se.toast.success("Edited Sales Order"),V(!0)):V(!0)},[u,V,M]),Object(i.useEffect)(function(){var e=d.status,t=d.response;t&&(t.status!==P.a.DELETED||q||(se.toast.success("Deleted Sales Order"),B(!0))),e!==ue.e.failure||q?e!==ue.e.success||q||(t.status===P.a.SENT_FOR_APPROVAL?se.toast.success("Sales Order ".concat(t.status)):t.status===P.a.OPEN_SIV?se.toast.success("Sales Order Approved"):t.status===P.a.REJECTED&&se.toast.success("Sales Order Rejected"),B(!0)):B(!0)},[d,B,q]),Object(i.useEffect)(function(){var e=p.status,t=p.errors;e!==ue.e.failure||J?e!==ue.e.success||J||(se.toast.success("Deleted Sales Order"),G(!0)):(se.toast.error(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return String(Object.values(e))}(t.errors)),G(!0))},[p,G]);return o.a.createElement(ce,{doneAdd:a.status===ue.e.success&&!A,addSalesOrder:function(e){L(!1);var t={order_date:e.order_date,customer:e.customer,sales_region:e.sales_region,sales_person:null,due_date:e.due_date,approved_by:null,approved_date:Object(be.d)(String(new Date)),remarks:e.remarks,sales_order_lines:e[R].map(function(e){return{quantity:Math.round(Number(e.quantity)),discount_method:e.discount_type,item:e.item,unit_of_measurement:e.unit_measure,discount:e.discount_amount}})};s(t)},doneEdit:u.status===ue.e.success&&!M,editSalesOrder:function(e){V(!1);var t={id:e.id,order_date:e.order_date,customer:e.customer,sales_region:e.sales_region,sales_person:null,due_date:e.due_date,approved_by:null,approved_date:Object(be.d)(String(new Date)),remarks:e.remarks,sales_order_lines:e[R].map(function(e){return{quantity:Math.round(Number(e.quantity)),discount_method:e.discount_type,item:e.item,unit_of_measurement:e.unit_measure,discount:e.discount_amount}})};m(t)},donePatch:d.status===ue.e.success&&!q,sendForApproval:function(e){B(!1);var t={id:e.id,status:P.a.SENT_FOR_APPROVAL};f(t)},approveSalesOrder:function(e){B(!1);var t={id:e.id,status:P.a.OPEN_SIV};f(t)},rejectSalesOrder:function(e){B(!1);var t={id:e.id,status:P.a.REJECTED};f(t)},invoiceSalesOrder:function(e){B(!1);var t={id:e.id,status:P.a.INVOICING};f(t)},doneDelete:p.status===ue.e.success&&!J,deleteSalesOrder:function(e){B(!1),f(Object(T.g)(e))},salesOrders:$,salesRegions:g,customers:v,itemCategories:h,items:O.filter(function(e){return E.findIndex(function(t){return t.item.id===e.id})>=0}),UOMs:y,currencies:_,employees:S,status:{selectFetchStatus:T.l,selectAddStatus:T.i,selectEditStatus:T.k,selectPatchStatus:T.m,selectDeleteStatus:T.j},getLoading:T.f})})}}]);
//# sourceMappingURL=19.414bebab.chunk.js.map