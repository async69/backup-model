(window.webpackJsonp=window.webpackJsonp||[]).push([[18,2],{1573:function(e,t,a){"use strict";var n=a(3),r=a(1),c=a.n(r),i=a(27),s=a(28),o=a(33),u=a(34),l=a(23);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var d=function(e){Object(o.a)(a,e);var t=m(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("thead",null,c.a.createElement("tr",null,this.props.columns.map(function(e){return c.a.createElement("th",{key:e.path||e.key},e.label)})))}}]),a}(r.Component),p=a(1583),f=a.n(p),b=a(53),v=a(43),h=/[0-9\-+#]/,g=/[^\d\-+#]/g;function O(e){return e.search(h)}function y(e,t,a){var n=!1,r={value:e};e<0&&(n=!0,r.value=-r.value),r.sign=n?"-":"",r.value=Number(r.value).toFixed(t.fraction&&t.fraction.length),r.value=Number(r.value).toString();var c=t.fraction&&t.fraction.lastIndexOf("0"),i=r.value.split("."),s=Object(v.a)(i,2),o=s[0],u=void 0===o?"0":o,l=s[1],m=void 0===l?"":l;return(!m||m&&m.length<=c)&&(m=c<0?"":Number("0."+m).toFixed(c+1).replace("0.","")),r.integer=u,r.fraction=m,function(e,t){e.result="";var a=t.integer.split(t.separator),n=a.join(""),r=n&&n.indexOf("0");if(r>-1)for(;e.integer.length<n.length-r;)e.integer="0"+e.integer;else 0===Number(e.integer)&&(e.integer="");var c=a[1]&&a[a.length-1].length;if(c)for(var i=e.integer.length,s=i%c,o=0;o<i;o++)e.result+=e.integer.charAt(o),!((o-s+1)%c)&&o<i-c&&(e.result+=t.separator);else e.result=e.integer;e.result+=t.fraction&&e.fraction?t.decimal+e.fraction:""}(r,t),"0"!==r.result&&""!==r.result||(n=!1,r.sign=""),!n&&t.maskHasPositiveSign?r.sign="+":n&&t.maskHasPositiveSign?r.sign="-":n&&(r.sign=a&&a.enforceMaskSign&&!t.maskHasNegativeSign?"":"-"),r}var j=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||isNaN(Number(t)))return t;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#.##",t={},a=e.length,n=O(e);t.prefix=n>0?e.substring(0,n):"";var r=O(e.split("").reverse().join("")),c=a-r,i=e.substring(c,c+1),s=c+("."===i||","===i?1:0);t.suffix=r>0?e.substring(s,a):"",t.mask=e.substring(n,s),t.maskHasNegativeSign="-"===t.mask.charAt(0),t.maskHasPositiveSign="+"===t.mask.charAt(0);var o=t.mask.match(g);return t.decimal=o&&o[o.length-1]||".",t.separator=o&&o[1]&&o[0]||",",o=t.mask.split(t.decimal),t.integer=o[0],t.fraction=o[1],t}(e),r=y(t,n,a);return n.prefix+r.sign+r.result+n.suffix},E=a(1578),_=a(1584);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var k=function(e){Object(o.a)(a,e);var t=S(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).renderCell=function(e,t,a){if(console.log("loaded",a),t.content)return t.content(e,a);var n=f.a.get(e,t.path),r=E.findIndex(function(e){return e===String(t.path)});return _.findIndex(function(e){return e===String(t.path)})>=0?Object(b.e)(n):r>=0?j("#,###.00",n,{enforceMaskSign:!0}):n?String(n):""},e.createKey=function(e,t){return e._id+(t.path||t.key)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.columns;return c.a.createElement("tbody",null,a.map(function(t){return c.a.createElement("tr",{key:t.id},n.map(function(a){return c.a.createElement("td",{key:e.createKey(t,a)},e.renderCell(t,a,e.props.loading))}))}))}}]),a}(r.Component),C=a(1643),N=a(1644),x=a(1645),I=a(109),D=a(1575),A=function(){var e=Object(r.useContext)(I.a),t=e.rootState,a=e.dispatch,n=Object(r.useState)(0),i=Object(v.a)(n,2),s=i[0],o=i[1],u=Object(r.useState)(0),l=Object(v.a)(u,2),m=l[0],d=l[1],p=Object(r.useState)(0),f=Object(v.a)(p,2),b=f[0],h=f[1],g=Object(r.useState)(0),O=Object(v.a)(g,2),y=O[0],j=O[1],E=Object(r.useState)(!1),_=Object(v.a)(E,2),S=_[0],k=_[1],A=Object(r.useState)(!1),P=Object(v.a)(A,2),T=P[0],w=P[1],R=Object(r.useState)({count:0,results:[]}),L=Object(v.a)(R,2),M=L[0],F=L[1],q=Object(r.useState)(0),U=Object(v.a)(q,2),B=U[0],V=U[1],z=Object(r.useState)(""),H=Object(v.a)(z,2),G=H[0],J=H[1];Object(r.useEffect)(function(){Object(D.a)(t)},[t]),Object(r.useEffect)(function(){var e=M.count,t=M.results;0===t.length&&0===e||(j(Math.ceil(e/t.length)),d(t.length),h(e),k(!0))},[G,j,d,h,k]),Object(r.useEffect)(function(){if(B){var e=M.count,t=M.results;m<=t.length&&(j(Math.ceil(e/t.length)),d(t.length),h(e),k(!0))}},[B,M]),Object(r.useEffect)(function(){try{var e=Object(D.b)(t),a=e.results,n=e.amount,r=e.activeTab;if(""!==r?J(r):console.warn("Pass active tab for paginations"),n!==B&&"undefined"!==typeof n&&(V(n),F(a)),"undefined"!==String(a)&&!S){var c=a.count,i=a.results;j(Math.ceil(c/i.length)),d(i.length),h(c),k(!0)}}catch(s){}},[t,V,F]);var Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;T||w(!0),o(e),t&&d(t)};return Object(r.useEffect)(function(){s<b&&T&&Object(D.c)({},a,{offset:s,limit:m,onClick:T})},[s,m]),c.a.createElement("div",null,c.a.createElement(C.a,{className:"pagination left",size:"md",color:"primary"},c.a.createElement(N.a,{disabled:0===s},c.a.createElement(x.a,{first:!0,href:"#",onClick:function(){return Y(0)}},"First")),c.a.createElement(N.a,null,c.a.createElement(x.a,{previous:!0,disabled:0===s,onClick:function(){return Y(s-m)}})),Array(y).fill("").map(function(e,t){return c.a.createElement(N.a,{active:t===Math.floor(s/m)},c.a.createElement(x.a,{onClick:function(){return Y(t*m)}},t+1))}),c.a.createElement(N.a,null,c.a.createElement(x.a,{next:!0,onClick:function(){return Y(s+m)},disabled:s+m>=b})),c.a.createElement(N.a,{disabled:s+m>=b},c.a.createElement(x.a,{last:!0,onClick:function(){return Y((y-1)*m)}},"Last"))))},P=a(1549),T=a(1554),w=a(1619),R=a(177);t.a=Object(R.b)(function(e,t){return Object(n.a)({state:e},t)})(function(e){var t=e.columns,a=e.data,n=e.title,i=e.state,s=e.getLoading;Object(r.useEffect)(function(){"function"===typeof s&&console.log("result",s(i,{isPatch:!0}))},[i,s]);var o=Object(r.useContext)(I.a).rootState;return Object(r.useEffect)(function(){},[o]),console.log(s(i,{isPatch:!0})),c.a.createElement(P.a,{className:"p-2"},c.a.createElement(T.a,{className:"tableHeaders border-0"},c.a.createElement("div",null,""+n?n:"")),c.a.createElement(w.a,{size:"md",responsive:!0,striped:!0},c.a.createElement(d,{columns:t}),c.a.createElement(k,{data:a,columns:t,loading:"fucntion"===typeof s?s(i,{isPatch:!0}):{}}),c.a.createElement(A,null)))})},1574:function(e,t,a){"use strict";var n=a(32),r=a(1),c=a.n(r),i=(a(110),a(47)),s=a(1787),o=a(1788),u=a(1789),l=a(1790),m=a(1555),d=a(1589),p=a(17),f=i.a.create("page"),b=function(e){var t=e.title,a=e.breadcrumbs,r=e.tag,i=e.className,b=e.children,v=e.editable,h=Object(n.a)(e,["title","breadcrumbs","tag","className","children","editable"]),g=f.b("px-3",i);return c.a.createElement(r,Object.assign({className:g},h),c.a.createElement(s.a,null,c.a.createElement(o.a,{md:9,sm:12,xs:12},c.a.createElement("div",{className:f.e("header")},t&&"string"===typeof t?c.a.createElement(d.a,{type:"h4",className:f.e("title")},c.a.createElement("i",null,t)):t,a&&c.a.createElement(u.a,{size:"lg",className:f.e("breadcrumb")},a.length&&a.map(function(e,t){var a=e.name;e.active;return c.a.createElement(l.a,{key:t},c.a.createElement("small",null,a))}),a.length&&a.map(function(e,t){var a=e.name1,n=e.active;return c.a.createElement(l.a,{key:t,active:n},c.a.createElement("small",null,a))})))),v&&c.a.createElement(o.a,{md:3,sm:12,xs:12,className:"mt-1"},c.a.createElement(m.a,{size:"sm",className:"pr-5 pl-5 m-2",outline:!0},c.a.createElement(p.s,null)),c.a.createElement(m.a,{size:"sm",className:"pr-5 pl-5",outline:!0,color:"danger"},c.a.createElement(p.p,null)))),b)};b.defaultProps={tag:"div",title:""},t.a=b},1575:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"d",function(){return c}),a.d(t,"a",function(){return i}),a.d(t,"c",function(){return s});var n=a(38),r=function(e){return e.page_values?e.page_values:null},c=function(e,t,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if("undefined"!==typeof a){if(0===a.count)return null;t({type:n.a.UPDATE,stateName:"page_values",payload:{results:a,options:c,pageLimit:a.length?5*Math.ceil(a.length/5):5,amount:r(e)?r(e).amount+1:0,activeTab:i}})}},i=function(e){var t=e.page_values;try{var a=t.pageLimit?t.pageLimit:0;return a||0}catch(n){}},s=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{offset:0,limit:0};t({type:n.a.UPDATE,stateName:"page_values",payload:{options:a}})}},1577:function(e,t,a){"use strict";var n=a(3),r=a(7),c=a(43),i=a(27),s=a(28),o=a(33),u=a(34),l=a(23),m=a(1),d=a.n(m),p=a(1576),f=a.n(p),b=a(1555),v=a(32),h=a(2363),g=a(2364),O=a(1557),y=a(2365),j=function(e){var t=e.name,a=e.label,n=e.error,r=Object(v.a)(e,["name","label","error"]);return d.a.createElement(h.a,null,d.a.createElement(g.a,{for:t},a),d.a.createElement(O.a,Object.assign({},r,{name:t,id:t})),d.a.createElement(y.a,null,n))},E=function(e){var t=e.name,a=e.label,n=e.error,r=Object(v.a)(e,["name","label","error"]);return d.a.createElement(h.a,{check:!0},d.a.createElement(g.a,{check:!0},d.a.createElement(O.a,Object.assign({type:"checkbox",name:t},r))," ",a),d.a.createElement(y.a,null,n))},_=function(e){var t=e.name,a=e.label,n=e.options,r=e.error,c=e.optionsFrom,i=Object(v.a)(e,["name","label","options","error","optionsFrom"]);return d.a.createElement(h.a,null,d.a.createElement(g.a,{for:t},a),d.a.createElement(O.a,Object.assign({name:t,id:t,type:"select"},i),d.a.createElement("option",{value:""}),"client"===c?n.map(function(e){return d.a.createElement("option",{key:e,value:e},e)}):n.map(function(e){return d.a.createElement("option",{key:e.id,value:e.id},e.name)})),d.a.createElement(y.a,null,r))},S=a(102);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var C=function(e){Object(o.a)(a,e);var t=k(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).toast={success:function(e){S.toast.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},error:function(e){S.toast.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},info:function(e){S.toast.info(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},e}return a}(m.Component),N=a(181),x=a(1583),I=a.n(x),D=a(1712),A={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},P={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},T={display:"flex",minWidth:0,overflow:"hidden"},w={display:"block",width:"auto",height:"100%"};var R=function(e){var t,a=e.name,n=e.label,r=e.value,i=e.onDrop,s=Object(m.useState)([]),o=Object(c.a)(s,2),u=o[0],l=o[1],p=Object(D.a)({accept:"image/*",onDrop:function(e){l(e.map(function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),i(a,e)}}),f=p.getRootProps,b=p.getInputProps;return t=u.length>0?u.map(function(e){return d.a.createElement("div",{style:P,key:e.name},d.a.createElement("div",{style:T},d.a.createElement("img",{src:e.preview,style:w,alt:""})))}):d.a.createElement("div",{style:P},d.a.createElement("div",{style:T},d.a.createElement("img",{src:r,style:w,alt:""}))),Object(m.useEffect)(function(){return function(){u.forEach(function(e){return URL.revokeObjectURL(e.preview)})}},[u]),d.a.createElement("section",{className:"container"},d.a.createElement("div",f({className:"dropzone"}),d.a.createElement("input",Object.assign({},b(),{alt:""})),d.a.createElement("p",null,"Drag and drop ",n,d.a.createElement("hr",null),"or click to select files")),d.a.createElement("aside",{style:A},t))},L=a(53),M=a(1584);function F(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,c=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw c}}}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var B=function(e){Object(o.a)(a,e);var t=U(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).enabledDefaultDates=!0,e.fieldsPopulated=!1,e}return Object(s.a)(a,[{key:"populateDefaults",value:function(){var e=Object(n.a)({},this.state.data);for(var t in this.state.data){M.findIndex(function(e){return e===t})>=0&&(console.log("prop",t),I.a.set(e,t,L.n))}this.fieldsPopulated||(this.setState({data:e}),this.fieldsPopulated=!0)}}]),a}(function(e){Object(o.a)(a,e);var t=U(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return(e=t.call.apply(t,[this].concat(o))).state={data:{},errors:{},lock:!1},e.validate=function(){var t=f.a.validate(e.state.data,e.schema,{abortEarly:!1}).error;if(!t)return null;var a,n={},r=F(t.details);try{for(r.s();!(a=r.n()).done;){var c=a.value;n[c.path[0]]=c.message}}catch(i){r.e(i)}finally{r.f()}return n},e.validateProperty=function(t){var a=t.name,n=t.value,i=a.split(".").slice(-1),s=Object(c.a)(i,1)[0],o=Object(r.a)({},s,n),u=Object(r.a)({},s,I.a.get(e.nestedSchema,a)?I.a.get(e.nestedSchema,a):I.a.get(e.schema,a)),l=f.a.validate(o,u).error;return l?l.details[0].message:null},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();console.log("Validation ERRORS",a),e.setState({errors:a||{}}),a||e.doSubmit()},e.handleChange=function(t){var a=t.currentTarget,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=Object(n.a)({},e.state.errors),i=e.validateProperty(a);i?I.a.set(c,a.name,i):I.a.set(c,a.name,null);var s=Object(n.a)({},e.state.data);if(I.a.set(s,a.name,a.value),e.setState({data:s,errors:c}),r){var o=r.name,u=r.value;I.a.isArray(o)?o.forEach(function(e){I.a.set(s,e.name,e.value)}):I.a.set(s,o,u),e.setState({data:s,errors:c})}},e.updateStateData=function(t,a){e.handleChange({currentTarget:{name:t,value:a}})},e.handleFileDrop=function(t,a){var r=Object(n.a)({},e.state.data);I.a.set(r,t,a[0]),e.setState({data:r}),console.log(a,"files"),console.log(t,"name")},e.getErrors=function(e){if("string"===typeof e)return e;for(var t in e)if(e.hasOwnProperty(t))return e[t][0]},e.handleToggleLineModal=function(){e.setState(function(e){return{lineModal:!e.lineModal,selectedLine:""}})},e.handleLineSubmit=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lines",r=e.state.lineCounter,c=Object(n.a)({},JSON.parse(JSON.stringify(e.state.data)));if(t.id){var i=c[a].findIndex(function(e){return e.id===t.id});try{c[a][i]=t}catch(s){}}else t.id=r,r++,c[a].push(t);e.setState({data:c,lineCounter:r})},e.handleLineEdit=function(t){e.setState({selectedLine:t})},e.handleLineDelete=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lines",r=Object(n.a)({},e.state.data),c=r[a].findIndex(function(e){return e.id===t.id});r[a].splice(c,1),e.setState({data:r})},e}return Object(s.a)(a,[{key:"renderButton",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.props.disabled&&d.a.createElement(b.a,{size:"sm",outline:!0,className:"pr-3 pl-3",color:"info",disabled:this.props.loading},this.props.loading||t?d.a.createElement(N.a,null):e)}},{key:"renderSelect",value:function(e,t,a){var r=this,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"client",i={};"object"===typeof e?i=Object(n.a)({optionsFrom:"client"},e):(i.name=e,i.label=t,i.options=a,i.optionsFrom=c);var s=this.state,o=s.data,u=s.errors;return d.a.createElement(_,Object.assign({},i,{size:"sm",name:i.name,value:I.a.get(o,i.name),label:i.label,onChange:i.callback?function(e){return r.handleChange(e,i.callback(e.currentTarget.value))}:this.handleChange,error:I.a.get(u,i.name),placeholder:i.label,invalid:!!I.a.get(u,i.name),disabled:this.props.disabled||i.disabled}))}},{key:"renderCheckbox",value:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null},c={};"object"===typeof e?c=Object(n.a)({},e):(c.name=e,c.label=t);var i=this.state,s=i.data,o=i.errors;return d.a.createElement(E,Object.assign({},c,{label:c.label,name:c.name,value:I.a.get(s,c.name),checked:I.a.get(s,c.name),onChange:function(e){var t=e.currentTarget,n=t.name,c=t.checked;a.handleChange({currentTarget:{name:n,value:c}}),r(c)},error:I.a.get(o,c.name),invalid:!!I.a.get(o,c.name),disabled:this.props.disabled||c.disabled}))}},{key:"renderInput",value:function(e,t){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i={};"object"===typeof e?i=Object(n.a)({},e):(i.name=e,i.label=t,i.type=r,i.className=c);var s=this.state,o=s.data,u=s.errors;return d.a.createElement(j,Object.assign({},i,{size:"sm",type:i.type,className:i.className,name:i.name,value:I.a.get(o,i.name),label:i.label,onChange:i.callback?function(e){return a.handleChange(e,i.callback(e.currentTarget.value))}:this.handleChange,error:I.a.get(u,i.name),placeholder:i.label,invalid:!!I.a.get(u,i.name),disabled:this.props.disabled||i.disabled}))}},{key:"renderFileUploader",value:function(e,t){var a=this.state.data;return d.a.createElement(R,{value:I.a.get(a,e),label:t,name:e,onDrop:this.handleFileDrop})}},{key:"resetForm",value:function(){var e=this;this.setState(function(){return e.initialState})}},{key:"clearForm",value:function(){var e={};for(var t in this.state.data)e[t]="";this.setState({data:e,lock:!0})}},{key:"getExtractedLine",value:function(e,t){var a={};for(var n in t)a[n]=t[n].find(function(t){return t.id===e[n]});return a}},{key:"getLineTableData",value:function(e,t){var a=this;return e.length>0&&"object"!==typeof e[0][Object.keys(t)[0]]?e.map(function(e){return Object(n.a)({},e,a.getExtractedLine(e,t))}):e}}]),a}(C));t.a=B},1578:function(e){e.exports=["credit","debit","total","total_amount","paid_amount","account_balance","balance","price","unit_price","tax","unit_cost","tax_amount","amount_excl_vat","quantity","inventory_quantity","account.balance"]},1579:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(1639),i=a(1637),s=a(1638);t.a=function(e){var t=e.className;return r.a.createElement("div",{className:"modal"},r.a.createElement(c.a,{size:"xl",isOpen:e.openModal,className:t},r.a.createElement(i.a,{toggle:function(){return e.toggle({type:"CLOSE"},e.dispatch)}},e.title),r.a.createElement(s.a,null,e.component)))}},1580:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return c});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=void 0;return a.length>0&&(r=e.filter(function(e){var r=n?"":"^";try{return a&&String(e[t]).match(new RegExp(r+a,"gi"))}catch(c){console.error("Tag does not exist: ".concat(String(c)))}return null})),"undefined"===typeof r?e:r},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"posting_date",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=void 0;return a.length>0&&n.length>0&&(r=e.filter(function(e){try{var r=new Date(e[t]).getTime(),c=new Date(a).getTime(),i=new Date(n).getTime();return a&&n&&r<=i&&r>=c}catch(s){console.error("Tag does not exist: ".concat(String(s)))}return null})),"undefined"===typeof r?e:r},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"country",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addresses",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=void 0;return a.length>0&&(c=e.filter(function(e){var c=r?"":"^";try{var i=e[n].findIndex(function(e){return e[t].match(new RegExp(c+a,"gi"))});return a&&i>=0}catch(s){console.error("Tag does not exist: ".concat(String(s)))}return null})),"undefined"===typeof c?e:c}},1581:function(e,t,a){"use strict";var n=a(3),r=a(112),c=a.n(r),i=a(178),s=a(27),o=a(28),u=a(33),l=a(34),m=a(23),d=a(1),p=a.n(d),f=a(1577),b=a(1576),v=a.n(b),h=a(1549),g=a(1550),O=a(1788),y=a(1556),j=a(1622);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var _=function(e){Object(u.a)(a,e);var t=E(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).initialState={data:{posting_date:""},errors:{}},e.state=e.initialState,e.schema={posting_date:v.a.date()},e.doSubmit=Object(i.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.props.submit({id:e.props.data.id,posting_date:e.state.data.posting_date});case 1:case"end":return t.stop()}},t)})),e}return Object(o.a)(a,[{key:"render",value:function(){return p.a.createElement(h.a,{className:"border-0"},p.a.createElement(g.a,null,p.a.createElement(O.a,{md:6,sm:12,xs:12},p.a.createElement(y.a,{onSubmit:this.handleSubmit},p.a.createElement(O.a,{md:12,sm:12,xs:12},this.renderInput("posting_date","Choose Data","date")),p.a.createElement(j.a,null,this.renderButton(this.props.submitButtonLabel?this.props.submitButtonLabel:"Submit"))))))}}]),a}(f.a),S=a(1620);a.d(t,"b",function(){return k}),a.d(t,"a",function(){return C}),a.d(t,"c",function(){return N});var k={openModal:!1,data:{},title:"",Component:p.a.createElement(p.a.Fragment,null),options:{},loader:!1},C=function(e,t){if("CLOSE"===e)return t({type:"CLOSE"}),null;var a=e.type,r=e.title,c=e.data,i=e.Component,s=e.deleteOptions,o=e.options,u=e.loader,l=e.submit,m=e.submitButtonLabel;switch(a){case"VIEW":t({type:"OPEN",data:c,title:r,loader:u,Component:i,props:{disabled:!0,data:c,isView:!0,options:o,title:r}});break;case"ADD":t({type:"OPEN",data:c,Component:i,props:{data:c,options:o,submit:l,isAdd:!0,title:r||""}});break;case"EDIT":t({type:"OPEN",data:c,title:r,loader:u,Component:i,props:{data:c,options:o,isEdit:!0,submit:l,title:r||""}});break;case"PATCH":t({type:"OPEN",data:c,title:r,loader:u,Component:i,props:{data:c,options:o,isPatch:!0,submit:l,title:r||""}});break;case"DELETE":Object(S.a)(Object(n.a)({},s));break;case"CLOSE":t({type:"CLOSE"});break;case"POST":t({type:"OPEN",data:c,title:r,loader:u,Component:_,props:{data:c,options:o,isEdit:!0,submit:l,submitButtonLabel:m,title:r||""}});break;default:return null}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.title,c=t.Component,i=t.props;switch(a){case"OPEN":return Object(n.a)({},e,{openModal:!0,title:r,Component:p.a.createElement(c,i)});case"CLOSE":return Object(n.a)({},e,{openModal:!1});default:return null}}},1582:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}},1584:function(e){e.exports=["approved_date","requested_date","expected_delivery_date","order_date","due_date","request_date","posting_date","employment_start_date","employment_end_date","birth_date"]},1589:function(e,t,a){"use strict";var n=a(7),r=a(32),c=a(16),i=a.n(c),s=a(1),o=a.n(s),u=(a(110),{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"}),l=function(e){var t,a=e.tag,c=e.className,s=e.type,l=Object(r.a)(e,["tag","className","type"]),m=i()(Object(n.a)({},s,!!s),c);return t=a||(!a&&u[s]?u[s]:"p"),o.a.createElement(t,Object.assign({},l,{className:m}))};l.defaultProps={type:"p"},t.a=l},1603:function(e,t,a){"use strict";var n=a(7),r=a(43),c=a(3),i=a(1),s=a.n(i),o=a(1619),u=a(1557),l=a(1555),m=a(17),d="ADDING_LINE",p={addCount:0,status:"IDLE",hasEdit:!0,hasDelete:!0,_data:[]},f="_ADD",b="UPDATE",v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(c.a)({},e,{addCount:e.addCount+1,status:d});case b:return Object(c.a)({},e,{_data:t.payload});default:return e}},h=function(e){return e({type:f})},g=a(1576),O=a.n(g),y=a(1583),j=a.n(y),E=function(){return Math.random().toString(36).substring(7)},_=function(e,t){var a={};for(var n in e)a[n]="";return Object(c.a)({},a,{_id:t})},S="ADDING_LINE",k="IDLE",C="EDIT",N="SAVED",x="CANCELED",I=function(e){var t=e.data,a=e.columns,d=e.hasEdit,p=e.hasDelete,f=e.status,v=e.addCount,h=e.schema,g=e.dispatch,y=e.callback,I=Object(i.useState)([]),D=Object(r.a)(I,2),A=D[0],P=D[1],T=Object(i.useState)(k),w=Object(r.a)(T,2),R=w[0],L=w[1],M=Object(i.useState)(t.map(function(){return!1})),F=Object(r.a)(M,2),q=F[0],U=F[1],B=Object(i.useState)({}),V=Object(r.a)(B,2),z=V[0],H=V[1];Object(i.useEffect)(function(){k!==R&&N!==R&&x!==R||L(f)},[f,L,v]),Object(i.useEffect)(function(){if(t.length>0&&0===A.length){var e=t.map(function(e){var t={};for(var n in e){var r=a.find(function(e){return e.tag===n});r&&(t[r.tag]=j.a.get(e,r.tag))}return Object(c.a)({},t,{_id:E()})});U(e.map(function(){return!1})),P(e)}},[t,P]),Object(i.useEffect)(function(){var e;(e=A,function(t){t({type:b,payload:e})})(g),y(A)},[A,g]);var G=Object(i.useState)({}),J=Object(r.a)(G,2),Y=J[0],Q=J[1],W=Object(i.useState)({}),K=Object(r.a)(W,2),$=K[0],X=K[1],Z=Object(i.useState)(!1),ee=Object(r.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(i.useState)({}),re=Object(r.a)(ne,2),ce=re[0],ie=re[1];Object(i.useEffect)(function(){var e={};a.forEach(function(t){"select"===t.type&&(e[t.tag]=t.options)}),ie(e)},[ie]),Object(i.useEffect)(function(){if(R===S){var e=E();P(A.concat(_(A[0],e))),se(_(A[0],e)),U(q.concat(!0))}},[R]);var se=function(e){X(h),Q(Object(c.a)({},z,e))};Object(i.useEffect)(function(){var e=O.a.validate(Y,$,{abortEarly:!1}).error;e?(console.warn(e),ae(!1)):Object.values(Y).length>1&&ae(!0)},[Y]);var oe=function(e){var t=e.currentTarget,a=t.name,r=t.value,i=t.callback;Q(Object(c.a)({},Y,Object(n.a)({},a,r)));i({name:a,value:r,setOptions:function(e,t){var a=ce;Object.keys(ce).findIndex(function(t){return t===e})>=0&&(a[e]=t,ie(a))},options:ce,setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};e.map(function(e){var a=e.name,n=e.value;return t[a]=n,null}),Q(Object(c.a)({},Y,t))},formData:Y})};return Object(i.useEffect)(function(){var e={};a.forEach(function(t){t.defaultValue&&(e=Object(c.a)({},e,Object(n.a)({},t.tag,t.defaultValue)))}),Object.values(e).length>0&&(Q(Object(c.a)({},Y,e)),H(e))},[a,Q]),s.a.createElement(o.a,{size:"md",responsive:!0,striped:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,a.filter(function(e){return!Boolean(e.isView)}).map(function(e){return s.a.createElement("th",null,e.label)}))),s.a.createElement("tbody",null,A.map(function(e,t){return s.a.createElement("tr",null,a.filter(function(e){return!Boolean(e.isView)}).map(function(a){return q[t]&&!a.noEdit?s.a.createElement("td",null,"select"===a.type?s.a.createElement(u.a,{type:a.type,name:a.tag,value:j.a.get(Y,a.tag),onChange:function(e){var t=e.currentTarget,n=t.name,r=t.value,c=a.callback?a.callback:function(){return null};oe({currentTarget:{name:n,value:r,callback:c}})},disabled:a.disabled},s.a.createElement("option",null),"server"===a.optionsFrom?ce[a.tag].map(function(e){return s.a.createElement("option",{value:e.id},e.name)}):ce[a.tag].map(function(e){return s.a.createElement("option",{value:e},e)})):s.a.createElement(u.a,{type:a.type?a.type:"text",name:a.tag,disabled:a.disabled,value:j.a.get(Y,a.tag),onChange:function(e){var t=e.currentTarget,n=t.name,r=t.value,c=a.callback?a.callback:function(){return null};oe({currentTarget:{name:n,value:r,callback:c}})}})):s.a.createElement("td",null,function(e,t){if("server"!==t.optionsFrom)return e[t.tag];var a=t.options.find(function(a){return String(a.id)===String(e[t.tag])});return a?a.name:void 0}(e,a))}),d?s.a.createElement("td",null,q[t]?s.a.createElement("div",null,s.a.createElement(l.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){P(A.map(function(e){return e._id===Y._id?Object(c.a)({_id:E()},Y):e})),U(q.map(function(){return!1})),L(N)},disabled:!te},"Save"),s.a.createElement(l.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){!function(){if(R===S){var e=A.findIndex(function(e){return e._id===Y._id});e>=0&&(P(A.filter(function(t,a){return e!==a})),U(q.filter(function(t,a){return e!==a}))),ae(!0)}else U(q.map(function(){return!1}));L(x),X({})}()}},"Cancel")):s.a.createElement(l.a,{className:"m-1",size:"sm",outline:!0,color:"warning",onClick:function(){U(q.map(function(e,a){return a===t})),se(e),L(C)}},s.a.createElement(m.s,null))):s.a.createElement(s.a.Fragment,null),p?s.a.createElement("td",null,s.a.createElement(l.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){return function(e){var t=A.findIndex(function(t){return t._id===e});t>=0&&(P(A.filter(function(e,a){return a!==t})),U(q.filter(function(e,a){return a!==t})),L(x))}(e._id)}},s.a.createElement(m.p,null))):s.a.createElement(s.a.Fragment,null))})))},D=a(1788),A=function(e){var t=e.data,a=e.columns,n=e.callback,c=e.schema,o=e.lineTag,u=e.disabled,m=e.startForm,d=Object(i.useReducer)(v,p),f=Object(r.a)(d,2),b=f[0],g=f[1],O=Object(i.useState)(!1),y=Object(r.a)(O,2),j=y[0],E=y[1];Object(i.useEffect)(function(){m&&h(g)},[m,g]);return s.a.createElement("div",null,u?s.a.createElement(s.a.Fragment,null):s.a.createElement(D.a,{align:"right",className:"mb-1 pl-3 pr-3"},s.a.createElement(l.a,{className:"m-1 align-right",size:"sm",outline:!0,color:"info",onClick:function(){return h(g)}},o||"Add Line")),s.a.createElement(I,Object.assign({},b,{dispatch:g,data:t,schema:c,columns:a,callback:function(e){!j&&e.length>0&&Object.values(e[0]).length>1?(n(e),E(!0)):b._data.length>=e.length&&n(e)},hasEdit:!u,hasDelete:!u})))};a.d(t,"a",function(){return I}),a.d(t,"c",function(){return h}),a.d(t,"d",function(){return p}),a.d(t,"e",function(){return v}),a.d(t,"b",function(){return A})},1620:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(3),r=a(1611),c=function(e){return null},i=function(e){return null},s=function(e){var t=e.title,a=e.message,s=e.okCallback,o=e.errCallback,u=e.id,l={title:t||"Confirm to submit",message:a||"Are you sure you want to do this?",okCallback:s?function(){return s(u)}:c,errCallback:o?function(){return o(u)}:i};Object(r.confirmAlert)(Object(n.a)({},l,{buttons:[{label:"Yes",onClick:l.okCallback},{label:"No",onClick:l.errCallback}]}))}},1641:function(e,t,a){"use strict";var n=a(15),r=a(22),c=a(1),i=a.n(c),s=a(180),o=a(2),u=a.n(o),l=a(16),m=a.n(l),d=a(13),p={tag:d.p,activeTab:u.a.any,className:u.a.string,cssModule:u.a.object},f={activeTabId:u.a.any},b=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={activeTab:a.props.activeTab},a}Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null};var a=t.prototype;return a.getChildContext=function(){return{activeTabId:this.state.activeTab}},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.tag,c=Object(d.m)(this.props,Object.keys(p)),s=Object(d.l)(m()("tab-content",t),a);return i.a.createElement(r,Object(n.a)({},c,{className:s}))},t}(c.Component);Object(s.polyfill)(b),t.a=b,b.propTypes=p,b.defaultProps={tag:"div"},b.childContextTypes=f},1642:function(e,t,a){"use strict";a.d(t,"a",function(){return f});var n=a(15),r=a(20),c=a(1),i=a.n(c),s=a(2),o=a.n(s),u=a(16),l=a.n(u),m=a(13),d={tag:m.p,className:o.a.string,cssModule:o.a.object,tabId:o.a.any},p={activeTabId:o.a.any};function f(e,t){var a=e.className,c=e.cssModule,s=e.tabId,o=e.tag,u=Object(r.a)(e,["className","cssModule","tabId","tag"]),d=Object(m.l)(l()("tab-pane",a,{active:s===t.activeTabId}),c);return i.a.createElement(o,Object(n.a)({},u,{className:d}))}f.propTypes=d,f.defaultProps={tag:"div"},f.contextTypes=p},1710:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=new(a(6).a)({stateName:"new_item_masterdata"});n.setInitialState(),n.createSlice(),n.setURL("/warehouse-items"),n.enableResults({fetchEnabled:!1});var r=n.getSelectors(),c=(r.selectAddStatus,r.selectFetchStatus,r.selectEditStatus,r.selectDeleteStatus,r.selectData),i=n.getEntity(),s=(i.stateName,i.reducer,n.getAPIHandles());s.Add,s.Edit,s.Fetch,s.Remove},2005:function(e,t,a){"use strict";a.d(t,"h",function(){return i}),a.d(t,"a",function(){return s}),a.d(t,"f",function(){return o}),a.d(t,"c",function(){return u}),a.d(t,"g",function(){return l}),a.d(t,"d",function(){return m}),a.d(t,"e",function(){return d}),a.d(t,"b",function(){return p});var n=a(7),r=a(1576),c=a.n(r),i="sales_invoice_line",s="sales_invoice_line",o=Object(n.a)({id:c.a.any().allow("").optional(),sivNumber:c.a.string().required().label("sivNumber"),salesOrderNumber:c.a.string().required().label("salesOrderNumber"),customerInvoiceNumber:c.a.string().required().label("customerInvoiceNumber"),customerName:c.a.string().required().label("customerName"),postingDate:c.a.string().required().label("postingDate"),status:c.a.string().allow("").optional(""),totalAmount:c.a.number().required().label("totalAmount"),withholding_tax_type:c.a.string().required().label("postingDate"),remark:c.a.string().allow("").optional()},i,c.a.array().items(c.a.object()).min(1)),u={data:Object(n.a)({sivNumber:"",salesOrderNumber:"",customerName:"",customerInvoiceNumber:"",withholding_tax_type:"",postingDate:"",status:"",totalAmount:"",remark:""},i,[]),errors:{},selectedLine:"",lineCounter:1},l=function(e,t){return Object(n.a)({id:e.id?e.id:"",sivNumber:String(e.siv_no),totalAmount:String(e.total),customerInvoiceNumber:String(e.customer_invoice_no),salesOrderNumber:String(e.sales_order.id),status:String(e.status_update),remark:e.remarks,customerName:e.customer.id,withholding_tax_type:e.withholding_tax_type,postingDate:e.posting_date},i,t())},m=function(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:i].map(function(e){return{_id:e.id,unitPrice:Number(e.unit_price),remaining_quantity:Number(e.remaining_quantity),amount_excl_vat:Number(e.amount_excl_vat),VAT:Number(e.vat_amount),remark:String(e.remark),item:e.item.id,currency:e.currency,totalAmount:Number(e.total),quantity:Number(e.quantity),itemCategory:e.catagory.id,quantityInvoiced:Number(e.quantity_invoiced),unit_of_measurement:e.unit_of_measurement}})},d={_id:c.a.any().allow("").optional(),item:c.a.string(),itemCategory:c.a.string(),currency:c.a.string(),quantity:c.a.number(),unitPrice:c.a.number(),quantityInvoiced:c.a.number(),remaining_quantity:c.a.number(),totalAmount:c.a.number(),VAT:c.a.number(),amount_excl_vat:c.a.number(),unit_of_measurement:c.a.string(),remark:c.a.string().allow("").optional()},p=function(e){var t=e.currencies;return[{tag:"item",label:"Item Name",type:"select",options:e.itemMasterDatas,optionsFrom:"server"},{tag:"itemCategory",label:"Item Category",type:"select",options:e.itemCategories,optionsFrom:"server"},{tag:"currency",label:"Currency",type:"select",options:t,optionsFrom:"server"},{tag:"quantity",label:"Quantity",type:"number"},{tag:"unitPrice",label:"Unit Price",type:"number"},{tag:"quantityInvoiced",label:"Quantity Invoiced",type:"number"},{tag:"remaining_quantity",label:"Remaining Quantity",type:"number"},{tag:"totalAmount",label:"Total Amount",type:"number"},{tag:"VAT",label:"VAT",type:"number"},{tag:"amount_excl_vat",label:"Amount Excluing VAT",type:"number"},{tag:"unit_of_measurement",label:"Unit of Measurement",type:"select",options:e.UOMs,optionsFrom:"server"},{tag:"remark",label:"Remarks",type:"text"}]}},2014:function(e,t,a){"use strict";var n=a(7),r=a(3),c=a(112),i=a.n(c),s=a(178),o=a(27),u=a(28),l=a(179),m=a(33),d=a(34),p=a(23),f=a(1),b=a.n(f),v=a(1549),h=a(1550),g=a(1556),O=a(1787),y=a(1788),j=a(1577),E=a(1603),_=a(2005),S=a(2015),k=a(177),C=a(114);function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var x=function(e){Object(m.a)(a,e);var t=N(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).doSubmit=Object(s.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.submit(n.state.data);case 1:case"end":return e.stop()}},e)})),n.initialState=_.c,n.state=JSON.parse(JSON.stringify(n.initialState)),n.schema=_.f,n.handleLineSave=n.handleLineSave.bind(Object(l.a)(n)),n.populateState=n.populateState.bind(Object(l.a)(n)),n.updateLines=n.updateLines.bind(Object(l.a)(n)),n.lineMapper=n.lineMapper.bind(Object(l.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"lineMapper",value:function(){return this.props.isEdit||this.props.isView||this.props.isPatch?Object(_.d)(this.props.data,_.a):[]}},{key:"populateState",value:function(e){var t=Object(_.g)(e,this.lineMapper);this.setState({lockUpdate:!0,data:t})}},{key:"updateLines",value:function(e){(e.length>0||this.state.data[_.h].length>0)&&this.setState({data:Object(r.a)({},this.state.data,Object(n.a)({},_.h,e))})}},{key:"componentDidUpdate",value:function(){(this.props.isEdit||this.props.isView||this.props.isPatch)&&!this.state.lockUpdate&&this.populateState(this.props.data)}},{key:"handleLineSave",value:function(e){this.setState({data:Object(r.a)({},this.state.data,Object(n.a)({},_.h,e))})}},{key:"render",value:function(){var e=this.props.options,t=e.customers,a=e.salesOrders;return b.a.createElement(v.a,{className:"border-0"},b.a.createElement(h.a,null,b.a.createElement(g.a,{onSubmit:this.handleSubmit},b.a.createElement(O.a,null,b.a.createElement(y.a,{md:3,sm:12,xs:12},this.renderInput({name:"sivNumber",label:"SIV Number"})),b.a.createElement(y.a,{md:3,sm:12,xs:12},this.renderSelect({name:"salesOrderNumber",label:"Sales Order No.",options:a,optionsFrom:"server"})),b.a.createElement(y.a,{md:3,sm:12,xs:12},this.renderSelect({name:"customerName",label:"Customer Name",options:t,optionsFrom:"server"})),b.a.createElement(y.a,{className:"mb-3",md:3,sm:12,xs:12},this.renderInput({name:"customerInvoiceNumber",label:"Customer Invoice Number"})),b.a.createElement(y.a,{className:"mb-3",md:3,sm:12,xs:12},this.renderInput({name:"postingDate",label:"Posting Date",type:"date"})),this.props.isView&&b.a.createElement(y.a,{className:"mb-3",md:3,sm:12,xs:12},this.renderInput({name:"status",label:"Status",disabled:!0})),b.a.createElement(y.a,{className:"mb-3",md:3,sm:12,xs:12},this.renderInput({name:"totalAmount",label:"Total Amount",type:"number"})),b.a.createElement(y.a,{className:"mb-3",md:3,sm:12,xs:12},this.renderSelect({name:"withholding_tax_type",label:"Item Type",options:S})),b.a.createElement(y.a,{md:12,sm:12,xs:12},this.renderInput("remark","Remarks","textarea")),b.a.createElement(y.a,{md:12,sm:12,xs:12},b.a.createElement(E.b,{columns:Object(_.b)(this.props.options),disabled:this.props.disabled,data:this.state.data[_.h],callback:this.updateLines,startForm:this.props.isAdd,schema:_.e})),b.a.createElement(y.a,{size:"xl",align:"right"},this.renderButton("Save"))))))}}]),a}(j.a);t.a=Object(k.b)(C.f)(x)},2015:function(e){e.exports=["Product","Service"]},2034:function(e,t,a){"use strict";var n=a(3),r=a(27),c=a(28),i=a(33),s=a(34),o=a(23),u=a(1),l=a.n(u),m=a(1577),d=a(1576),p=a.n(d),f=a(1549),b=a(1550),v=a(1556),h=a(1787),g=a(1788),O=a(1622),y=a(53);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(o.a)(e);if(t){var r=Object(o.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var E=function(e){Object(i.a)(a,e);var t=j(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).initialState={data:{id:"",invoice:"",cash_account:"",posting_date:y.n,paid_amount:"",is_cash_account:!1},accounts:[],errors:{},lockUpdate:!1},n.state=n.initialState,n.schema={id:p.a.string().allow("").optional(),invoice:p.a.string().required().label("invoice"),cash_account:p.a.string().required().label("Fiscal Year"),posting_date:p.a.string().required().label("Start Date"),paid_amount:p.a.number().required().label("End Date"),is_cash_account:p.a.boolean().required().allow(!1).optional()},n}return Object(c.a)(a,[{key:"populateState",value:function(e){console.log("heree",e),this.setState({data:Object(n.a)({},this.state.data,{invoice:e.id?e.id:"",paid_amount:Number(e.total)}),lockUpdate:!0})}},{key:"componentDidUpdate",value:function(){(this.props.isEdit||this.props.isView||this.props.isPatch)&&!this.state.lockUpdate&&this.populateState(this.props.data)}},{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"doSubmit",value:function(){this.props.submit(this.state.data)}},{key:"render",value:function(){var e=this.props.options,t=e.accounts,a=e.bankAccounts;return l.a.createElement(f.a,{className:"border-0"},l.a.createElement(b.a,null,l.a.createElement(v.a,{onSubmit:this.handleSubmit},l.a.createElement(h.a,null,l.a.createElement(g.a,{md:4,sm:12,xs:12},this.renderSelect({name:"cash_account",label:"Cash Account",options:Boolean(this.state.data.is_cash_account)?t:a,optionsFrom:"server"})),l.a.createElement(g.a,{md:4,sm:12,xs:12},this.renderInput({name:"posting_date",label:"Posting Date",type:"date"})),l.a.createElement(g.a,{md:4,sm:12,xs:12},this.renderInput({name:"paid_amount",label:"Payed Amount",type:"number",disabled:!0})),l.a.createElement(g.a,{className:"ml-5",md:4,sm:12,xs:12},this.renderCheckbox("is_cash_account","Is Cash Account?"))),l.a.createElement(O.a,{align:"center"},this.renderButton("Save")))))}}]),a}(m.a);t.a=E},2035:function(e,t,a){"use strict";var n=a(3),r=a(27),c=a(28),i=a(33),s=a(34),o=a(23),u=a(1),l=a.n(u),m=a(1577),d=a(1576),p=a.n(d),f=a(1549),b=a(1554),v=a(1550),h=a(1556),g=a(1787),O=a(1788),y=a(1622);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(o.a)(e);if(t){var r=Object(o.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var E=function(e){Object(i.a)(a,e);var t=j(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).initialState={data:{id:"",posting_date:""},errors:{}},n.state=n.initialState,n.schema={id:p.a.string().allow("").optional(),posting_date:p.a.string().required().label("Posting Date")},n}return Object(c.a)(a,[{key:"populateState",value:function(e){var t=Object(n.a)({},this.state,{data:{id:e.id?e.id:"",posting_date:e.posting_date?e.posting_date:""},lockUpdate:!0});this.setState(t)}},{key:"componentDidUpdate",value:function(){!this.props.isEdit&&!this.props.isView||this.state.lockUpdate||this.populateState(this.props.data)}},{key:"doSubmit",value:function(){this.props.submit(Object(n.a)({},this.state.data,{id:this.props.data.id}))}},{key:"render",value:function(){return console.log(this.props.data),l.a.createElement(f.a,{className:"border-0"},l.a.createElement(b.a,{className:"border-0"},this.props.title),l.a.createElement(v.a,null,l.a.createElement(h.a,{onSubmit:this.handleSubmit},l.a.createElement(g.a,null,l.a.createElement(O.a,{md:4,sm:12,xs:12},this.renderInput({name:"posting_date",label:"Posting Date",type:"date"}))),l.a.createElement(y.a,{align:"center"},this.renderButton("Post")))))}}]),a}(m.a);t.a=E},2104:function(e,t,a){"use strict";a.r(t);var n,r,c=a(43),i=a(1),s=a.n(i),o=a(1547),u=a(1548),l=a(1558),m=a(1641),d=a(1642),p=a(1787),f=a(1788),b=a(7),v=a(3),h=a(1574),g=a(1555),O=a(1549),y=a(112),j=a.n(y),E=a(178),_=a(27),S=a(28),k=a(179),C=a(33),N=a(34),x=a(23),I=a(1550),D=a(1556),A=a(1577),P=a(1603),T=a(1576),w=a.n(T),R="customer_address_lines",L="customer_contact_lines",M=(n={id:w.a.string().allow("").optional(),number:w.a.string().allow("").optional(),name:w.a.string(),tin_number:w.a.string(),currency:w.a.string(),customer_posting_group:w.a.string(),credit_limit:w.a.number(),remarks:w.a.string().allow("").optional()},Object(b.a)(n,R,w.a.array().items(w.a.object()).min(1)),Object(b.a)(n,L,w.a.array().items(w.a.object()).min(1)),n),F={data:(r={id:"",number:"",name:"",tin_number:"",currency:"",customer_posting_group:"",credit_limit:"",remarks:""},Object(b.a)(r,L,[]),Object(b.a)(r,R,[]),r),lineCounter:1,errors:{}},q=function(e){return console.log("some",e),e[R].map(function(e){return{country:e.country,region:e.region,city:e.city,p_o_box:e.p_o_box,is_head_office:e.is_head_office?"Yes":"No",office_telephone_no:e.office_telephone_no,remarks:e.remarks}})},U=function(e){return e[L].map(function(e){return{_id:e.id,name:e.name,office_telephone_number:e.office_telephone_number,mob_number:e.mob_number,email:e.email,remarks:e.remarks}})},B={_id:w.a.any().allow("").optional(),country:w.a.string(),region:w.a.string(),city:w.a.string(),p_o_box:w.a.string(),is_head_office:w.a.string(),office_telephone_no:w.a.string(),remarks:w.a.string().allow("").optional()},V={_id:w.a.any().allow("").optional(),name:w.a.string(),office_telephone_number:w.a.string(),mob_number:w.a.string(),email:w.a.string(),remarks:w.a.string().allow("").optional()};function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(x.a)(e);if(t){var r=Object(x.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(N.a)(this,a)}}var H=function(e){Object(C.a)(a,e);var t=z(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).doSubmit=Object(E.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.submit(n.state.data);case 1:case"end":return e.stop()}},e)})),n.initialState=F,n.state=JSON.parse(JSON.stringify(n.initialState)),n.schema=M,n.populateState=n.populateState.bind(Object(k.a)(n)),n.updateAddressLines=n.updateAddressLines.bind(Object(k.a)(n)),n.updateContactLines=n.updateContactLines.bind(Object(k.a)(n)),n.lineMapper=n.lineMapper.bind(Object(k.a)(n)),n}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"lineMapper",value:function(){return this.props.isEdit||this.props.isView?q(this.props.data):[]}},{key:"populateState",value:function(e){var t=function(e){var t;return t={id:e.id?e.id:"",number:e.document_number,name:e.name,tin_number:e.tin_number,currency:e.currency,customer_posting_group:e.customer_posting_group.id,credit_limit:e.credit_limit,remarks:e.remarks},Object(b.a)(t,R,q(e)),Object(b.a)(t,L,U(e)),t}(e);this.setState({lockUpdate:!0,data:t})}},{key:"updateAddressLines",value:function(e){(e.length>0||this.state.data[R].length>0)&&this.setState({data:Object(v.a)({},this.state.data,Object(b.a)({},R,e))})}},{key:"updateContactLines",value:function(e){(e.length>0||this.state.data[L].length>0)&&this.setState({data:Object(v.a)({},this.state.data,Object(b.a)({},L,e))})}},{key:"componentDidUpdate",value:function(){!this.props.isEdit&&!this.props.isView||this.state.lockUpdate||this.populateState(this.props.data)}},{key:"render",value:function(){var e,t=this.props.options,a=t.postingGroups,n=t.currencies;return s.a.createElement(O.a,{className:"border-0"},s.a.createElement(I.a,null,s.a.createElement(D.a,{onSubmit:this.handleSubmit},s.a.createElement(p.a,null,this.props.isView&&s.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput({name:"number",label:"Customer Number"})),s.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput({name:"name",label:"Customer Name"})),s.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput({name:"tin_number",label:"Tin Number",type:"number"})),s.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderSelect({name:"currency",label:"Currency",options:n,optionsFrom:"server"})),s.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderSelect({name:"customer_posting_group",label:"Customer Posting Group",options:a,optionsFrom:"server"})),s.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput({name:"credit_limit",label:"Credit Limit",type:"number"})),s.a.createElement(f.a,{md:12,sm:12,xs:12},this.renderInput("remarks","Remarks","textarea")),s.a.createElement(f.a,{md:12,sm:12,xs:12},"Address Line",s.a.createElement(P.b,{columns:(e=this.props.options,[{tag:"country",label:"Country",type:"select",options:e.countries,optionsFrom:"server"},{tag:"region",label:"Region",type:"select",options:e.regions,optionsFrom:"server"},{tag:"city",label:"Cities",type:"select",options:e.cities,optionsFrom:"server"},{tag:"p_o_box",label:"Postal Code",type:"text"},{tag:"is_head_office",label:"Is Head Office",type:"select",options:["Yes","No"]},{tag:"office_telephone_no",label:"Office Telephone Number",type:"text"},{tag:"remarks",label:"Remarks",type:"text"}]),disabled:this.props.disabled,data:this.state.data[R],callback:this.updateAddressLines,schema:B,startForm:this.props.isAdd})),s.a.createElement(f.a,{md:12,sm:12,xs:12},"Contact Line",s.a.createElement(P.b,{columns:[{tag:"name",label:"Name",type:"text"},{tag:"office_telephone_number",label:"Office Telephone Number",type:"text"},{tag:"mob_number",label:"Mobile Number",type:"text"},{tag:"email",label:"Email",type:"text"},{tag:"remarks",label:"Remarks",type:"text"}],disabled:this.props.disabled,data:this.state.data[L],callback:this.updateContactLines,schema:V,startForm:this.props.isAdd})),s.a.createElement(f.a,{size:"xl",align:"right"},this.renderButton("Save"))))))}}]),a}(A.a),G=a(17),J=a(1582),Y=a(1573),Q=a(1581),W=a(1579),K=function(e){var t=e.customers,a=(e.addCustomer,e.editCustomer),n=e.deleteCustomer,r=e.doneAdd,o=e.doneEdit,u=e.postingGroups,l=e.currencies,m=e.countries,d=e.regions,p=e.cities,f=Object(i.useReducer)(Q.c,Q.b),b=Object(c.a)(f,2),y=b[0],j=b[1],E=[{path:"document_number",label:"Customer No."},{path:"name",label:"Customer Name"},{path:"currency",label:"Currency"},{path:"credit_limit",label:"Credit Limit"},{key:"view",content:function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){Object(Q.a)({type:"VIEW",Component:H,data:e,title:" Customers",options:{postingGroups:u,currencies:l,countries:m,regions:d,cities:p}},j)}},s.a.createElement(G.M,null)),s.a.createElement(g.a,{className:"m-1",size:"sm",outline:!0,color:"warning",onClick:function(){Object(Q.a)({type:"EDIT",Component:H,submit:a,title:"Edit Customer details",isEdit:!0,data:e,options:{postingGroups:u,currencies:l,countries:m,regions:d,cities:p}},j)}},s.a.createElement(G.s,null)),s.a.createElement(g.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){Object(Q.a)({type:"DELETE",deleteOptions:{okCallback:_,title:"Are you sure?",id:e.id,message:""}},j)}},s.a.createElement(G.p,null)))}}],_=function(e){n(e)};return Object(i.useEffect)(function(){(r||o)&&Object(Q.a)({type:"CLOSE"},j)},[r,o]),s.a.createElement("div",null,s.a.createElement(h.a,null,s.a.createElement(W.a,{data:y.data,openModal:y.openModal,component:y.Component,toggle:Q.a,dispatch:j,title:y.title}),s.a.createElement(O.a,{className:"border-0"},s.a.createElement(Y.a,{title:"Customers",columns:E,data:Object(J.a)(t.map(function(e){return Object(v.a)({},e,{currency:"string"===typeof e.currency?String(""+e.currency):""})}))}))))},$=a(66),X=a(177),Z=a(102),ee=a(19),te=a(54),ae=a(36),ne=a(1575),re=a(1580),ce=a(1557),ie=a(71),se=a(55),oe=a(64),ue=a(58),le=a(45),me=a(60),de=Object(X.b)(function(e,t){return Object(v.a)({},t,{fetchStatus:Object($.l)(e),addStatus:Object($.h)(e),customers:Object($.i)(e),editStatus:Object($.k)(e),deleteStatus:Object($.j)(e),postingGroups:Object(ie.h)(e),currencies:Object(se.g)(e),countries:Object(oe.g)(e),regions:Object(ue.j)(e),cities:Object(le.g)(e),companyID:Object(me.c)(e)})},function(e){return{fetchCustomers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e(Object($.c)(t))},addCustomer:function(t){return e(Object($.a)(t))},editCustomer:function(t){return e(Object($.b)(t))},deleteCustomer:function(t){return e(Object($.e)(t))}}})(function(e){var t=e.fetchStatus,a=e.addStatus,n=e.fetchCustomers,r=e.addCustomer,o=e.editStatus,u=e.editCustomer,l=e.deleteStatus,m=e.deleteCustomer,d=e.customers,p=e.postingGroups,f=e.currencies,h=e.countries,g=e.regions,O=e.cities,y=e.companyID,j=e.activeTab,E=Object(i.useState)([]),_=Object(c.a)(E,2),S=_[0],k=_[1],C=Object(i.useState)(!0),N=Object(c.a)(C,2),x=N[0],I=N[1],D=Object(i.useState)(!0),A=Object(c.a)(D,2),P=A[0],T=A[1],w=Object(i.useState)(!0),M=Object(c.a)(w,2),F=M[0],q=M[1],U=Object(i.useState)(!0),B=Object(c.a)(U,2),V=B[0],z=B[1],H=Object(i.useState)("document_number"),G=Object(c.a)(H,2),J=G[0],Y=G[1],Q=Object(i.useContext)(te.b),W=Q.rootState,$=Q.dispatch;Object(i.useEffect)(function(){try{var e=Object(ne.b)(W).options,t=e.offset,a=e.limit;e.onClick&&n([{key:"offset",value:t},{key:"limit",value:a}])}catch(r){}},[Object(ne.b)(W)]),Object(i.useEffect)(function(){k(d)},[d,k]);var X=function(){var e=Object(i.useState)(J),t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(i.useEffect)(function(){return Y(a)},[a]),s.a.createElement(s.a.Fragment,null,s.a.createElement(ce.a,{type:"select",onChange:function(e){var t=e.currentTarget.value;return n(t)}},s.a.createElement("option",{value:"document_number"},"By Customer Number"),s.a.createElement("option",{value:"name"},"Customer Name"),s.a.createElement("option",{value:"tin_number"},"Tin Number"),s.a.createElement("option",{value:"region"},"Region"),s.a.createElement("option",{value:"country"},"Country")))};Object(i.useEffect)(function(){Object(ae.e)({},$,!1),Object(ae.a)({},$,X)},[$]);var ie=Object(i.useContext)(te.c).searchValue;Object(i.useEffect)(function(){var e=[];e="country"===J||"region"===J?Object(re.c)(d,J,ie,"addresses"):Object(re.b)(d,J,ie,"document_number"===J),k(e)},[ie,k,J]),Object(i.useEffect)(function(){I(!1),n()},[n,I]),Object(i.useEffect)(function(){var e=t.status,a=t.response;e!==ee.e.failure||x?j===Ae.CUSTOMERS&&Object(ne.d)(W,$,a,"",j):(Z.toast.error("Failed fetching customers"),I(!0))},[t,I,$,j]),Object(i.useEffect)(function(){var e=a.status;e!==ee.e.failure||P?e!==ee.e.success||P||(Z.toast.success("Added Customer"),T(!0)):T(!0)},[a,T]),Object(i.useEffect)(function(){var e=o.status;e!==ee.e.failure||F?e!==ee.e.success||F||(Z.toast.success("Edited Customer"),q(!0)):q(!0)},[o,q]),Object(i.useEffect)(function(){var e=l.status;e!==ee.e.failure||V?e!==ee.e.success||V||(Z.toast.success("Deleted Customer"),z(!0)):z(!0)},[l,z]);return s.a.createElement(K,{doneAdd:a.status===ee.e.success&&!P,addCustomer:function(e){var t;T(!1);var a=(t={id:e.id,name:e.name,tin_number:e.tin_number,currency:e.currency,customer_posting_group:e.customer_posting_group,credit_limit:e.credit_limit,remarks:e.remarks,company:y},Object(b.a)(t,L,e[L]),Object(b.a)(t,R,e[R].map(function(e){return Object(v.a)({},e,{is_head_office:"Yes"===e.is_head_office})})),t);r(a)},doneEdit:o.status===ee.e.success&&!F,editCustomer:function(e){var t;q(!1);var a=(t={id:e.id,name:e.name,tin_number:e.tin_number,currency:e.currency,customer_posting_group:e.customer_posting_group,credit_limit:e.credit_limit,remarks:e.remarks,company:y},Object(b.a)(t,L,e[L]),Object(b.a)(t,R,e[R].map(function(e){return Object(v.a)({},e,{is_head_office:"Yes"===e.is_head_office})})),t);u(a)},doneDelete:l.status===ee.e.success&&!V,deleteCustomer:function(e){z(!1),m(e)},customers:S,postingGroups:p,currencies:f,countries:h,cities:O,regions:g})}),pe=a(2014),fe=a(2034),be=a(2035),ve=a(53),he=a(103),ge=a(1709),Oe=function(e){var t=e.salesInvoices,a=e.doneAdd,n=e.doneEdit,r=e.editSalesInvoice,o=e.donePatch,u=e.postSalesInvoice,l=e.deleteSalesInvoice,m=e.approveSalesInvoice,d=e.customers,p=e.currencies,f=e.itemMasterDatas,b=e.itemCategories,y=e.UOMs,j=e.COAs,E=e.bankAccounts,_=e.addCashPayment,S=e.salesOrders,k=Object(i.useReducer)(Q.c,Q.b),C=Object(c.a)(k,2),N=C[0],x=C[1],I=[{path:"sales_order.document_number",label:"Sales Order No."},{path:"customer_name",label:"Customer Name"},{path:"posting_date",label:"Posting Date"},{path:"status_update",label:"Status"},{path:"total",label:"Total Amount"},{key:"view",content:function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){Object(Q.a)({type:"VIEW",Component:pe.a,data:e,title:"View Sales Invoice",options:{customers:d,currencies:p,itemMasterDatas:f,itemCategories:b,UOMs:y,salesOrders:S}},x)}},s.a.createElement(G.M,null)),Boolean(e.status===he.a.POSTED)&&s.a.createElement(g.a,{className:"m-1",size:"sm",outline:!0,color:"warning",disabled:!Boolean(e.status===he.a.POSTED),onClick:function(){Object(Q.a)({type:"PATCH",Component:fe.a,data:e,title:"Collect Invoice",options:{accounts:j,bankAccounts:E.map(function(e){return Object(v.a)({},e,{name:e.account_number})})},submit:_},x)}},s.a.createElement(ge.c,null)," Collect Cash"),Boolean(e.status===he.a.APPROVED)&&s.a.createElement(g.a,{className:"m-1",size:"sm",color:"success",disabled:!Boolean(e.status===he.a.APPROVED),onClick:function(){Object(Q.a)({type:"PATCH",Component:be.a,data:e,submit:u,title:"Post Sales Invoice"},x)}},s.a.createElement(G.A,null)," Post"),Boolean(e.status===he.a.OPEN)&&s.a.createElement(g.a,{className:"m-1",size:"sm",outline:!0,color:"success",disabled:!Boolean(e.status===he.a.OPEN),onClick:function(){return m(e)}},s.a.createElement(ge.d,null)," Approve"),Boolean(e.status===he.a.OPEN)&&s.a.createElement(g.a,{className:"m-1",size:"sm",outline:!0,color:"warning",disabled:!Boolean(e.status===he.a.OPEN),onClick:function(){Object(Q.a)({type:"PATCH",Component:pe.a,data:e,submit:r,title:"Edit Sales Invoice",options:{customers:d,currencies:p,itemMasterDatas:f,itemCategories:b,UOMs:y,salesOrders:S}},x)}},s.a.createElement(G.s,null)),Boolean(e.status===he.a.OPEN)&&s.a.createElement(g.a,{className:"m-1",size:"sm",outline:!0,color:"danger",disabled:!Boolean(e.status===he.a.OPEN),onClick:function(){Object(Q.a)({type:"DELETE",deleteOptions:{okCallback:D,title:"Are you sure?",id:e.id,message:""}},x)}},s.a.createElement(G.p,null)))}}],D=function(e){l(e)};Object(i.useEffect)(function(){(a||n||o)&&Object(Q.a)({type:"CLOSE"},x)},[a,n||o]);return s.a.createElement("div",null,s.a.createElement(W.a,{title:N.title,data:N.data,openModal:N.openModal,component:N.Component,toggle:Q.a,dispatch:x}),s.a.createElement(h.a,null,s.a.createElement(O.a,{className:"border-0"},s.a.createElement(Y.a,{title:"Sales Invoices",columns:I,data:t.map(function(e){return Object(v.a)({},e,{customer_name:e.customer.name,approved_date:Object(ve.d)(e.approved_date),status_update:(t=e.status,t===he.a.POSTED?he.a.INVOICED:t===he.a.PENDING_PAYMENT?he.a.INVOICED:t)});var t})}))))},ye=a(114),je=a(121),Ee=a(77),_e=a(1710),Se=a(61),ke=a(72),Ce=a(44),Ne=a(69),xe=a(113),Ie=a(2005),De=Object(X.b)(function(e,t){return Object(v.a)({},t,{fetchStatus:Object(ye.k)(e),addStatus:Object(ye.h)(e),editStatus:Object(ye.j)(e),patchStatus:Object(ye.l)(e),deleteStatus:Object(ye.i)(e),salesInvoices:Object(ye.m)(e),customers:Object(Ee.c)(e),currencies:Object(se.g)(e),itemMasterDatas:Object(_e.a)(e),itemCategories:Object(Se.c)(e),UOMs:Object(ke.c)(e),COAs:Object(Ce.h)(e),bankAccounts:Object(Ne.h)(e),cashAddStatus:Object(je.c)(e),salesOrders:Object(xe.n)(e)})},function(e){return{fetchSalesInvoices:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e(Object(ye.c)(t))},fetchSalesOrders:function(){return e(Object(xe.c)())},addSalesInvoice:function(t){return e(Object(ye.a)(t))},editSalesInvoice:function(t){return e(Object(ye.b)(t))},patchSalesInvoice:function(t){return e(Object(ye.d)(t))},deleteSalesInvoice:function(t){return e(Object(ye.e)(t))},addCashPayment:function(t){return e(Object(je.a)(t))}}})(function(e){var t=e.salesInvoices,a=e.fetchStatus,n=e.addStatus,r=e.fetchSalesInvoices,o=e.addSalesInvoice,u=e.editStatus,l=(e.editSalesInvoice,e.patchStatus),m=e.patchSalesInvoice,d=e.deleteStatus,p=e.deleteSalesInvoice,f=e.customers,b=e.currencies,h=e.itemMasterDatas,g=e.itemCategories,O=e.UOMs,y=e.activeTab,j=e.COAs,E=e.bankAccounts,_=e.cashAddStatus,S=e.addCashPayment,k=e.salesOrders,C=e.fetchSalesOrders,N=Object(i.useState)(!0),x=Object(c.a)(N,2),I=x[0],D=x[1],A=Object(i.useState)(!0),P=Object(c.a)(A,2),T=P[0],w=P[1],R=Object(i.useState)(!0),L=Object(c.a)(R,2),M=L[0],F=L[1],q=Object(i.useState)(!0),U=Object(c.a)(q,2),B=U[0],V=U[1],z=Object(i.useState)(!0),H=Object(c.a)(z,2),G=H[0],J=H[1],Y=Object(i.useState)("document_number"),Q=Object(c.a)(Y,2),W=Q[0],K=Q[1],$=Object(i.useState)([]),X=Object(c.a)($,2),ie=X[0],se=X[1],oe=Object(i.useContext)(te.b),ue=oe.rootState,le=oe.dispatch,me=Object(i.useContext)(te.c).searchValue,de=function(){var e=Object(i.useState)(W),t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(i.useEffect)(function(){return K(a)},[a]),s.a.createElement(s.a.Fragment,null,s.a.createElement(ce.a,{type:"select",onChange:function(e){var t=e.currentTarget.value;return n(t)}},s.a.createElement("option",{value:"document_number"},"By Document Number")))};Object(i.useEffect)(function(){Object(ae.e)({},le,!1),Object(ae.a)({},le,de)},[le]),Object(i.useEffect)(function(){var e;e=Object(re.b)(t,W,me,"document_number"===W),se(e)},[me,se,W]),Object(i.useEffect)(function(){t.length>0&&se(t)},[t,se]),Object(i.useEffect)(function(){try{var e=Object(ne.b)(ue).options,t=e.offset,a=e.limit;e.onClick&&r([{key:"offset",value:t},{key:"limit",value:a}])}catch(n){}},[Object(ne.b)(ue)]),Object(i.useEffect)(function(){D(!1),r(),C()},[r,C,D]),Object(i.useEffect)(function(){var e=a.status,t=a.response;e!==ee.e.failure||I?y===Ae.SALES_INVOICE&&Object(ne.d)(ue,le,t,"",y):(Z.toast.error("Failed Fetching Sales Invoices"),D(!0))},[a,D,le,y]),Object(i.useEffect)(function(){var e=n.status;e!==ee.e.failure||T?e!==ee.e.success||T||(Z.toast.success("Saved Sales Invoice"),w(!0)):w(!0)},[n,w]),Object(i.useEffect)(function(){var e=_.status;try{var t=_.response.invoice;se(ie.map(function(e){return e.id===t?Object(v.a)({},e,{status:he.a.PENDING_PAYMENT}):e}))}catch(a){}e!==ee.e.failure||T?e!==ee.e.success||T||(Z.toast.success("Collected Sales Invoice"),w(!0)):w(!0)},[_,w,se]),Object(i.useEffect)(function(){var e=u.status;e!==ee.e.failure||M?e!==ee.e.success||M||(Z.toast.success("Edited Sales Invoice"),F(!0)):F(!0)},[u,F]),Object(i.useEffect)(function(){var e=l.status,t=l.response;e!==ee.e.failure||B?e!==ee.e.success||B||(Z.toast.success("".concat(t.status," Sales Invoice")),V(!0)):V(!0)},[l,V]),Object(i.useEffect)(function(){var e=d.status;e!==ee.e.failure||G?e!==ee.e.success||G||(Z.toast.success("Deleted Sales Invoice"),J(!0)):J(!0)},[d,J]);return s.a.createElement(Oe,{salesInvoices:ie,doneAdd:n.status===ee.e.success&&!T||_.status===ee.e.success&&!T,addSalesInvoice:function(e){w(!1);var t={approvedBy:e.approvedBy,approved_date:new Date,customer_invoice_no:e.customerInvoiceNumber,customer:e.customerName,posted_date:e.postingDate,remarks:e.remark,sales_order:e.salesOrderNumber,salesType:e.salesType,siv_no:e.sivNumber,paid_amount:e.totalAmount,sales_invoice_line:e[Ie.a].map(function(e){return{quantity:e.quantity,quantity_invoiced:e.quantityInvoiced,unit_of_measurement:e.unit_of_measurement,unit_price:e.unitPrice,currency:"Birr",item:e.item,remaining_quantity:e.remainingQuantity,category:e.itemCategory,amount_excl_vat:e.amount_excl_vat}})};o(t)},doneEdit:u.status===ee.e.success&&!M,editSalesInvoice:function(e){V(!1);var t={id:e.id,approvedBy:e.approvedBy,customer_invoice_no:e.customerInvoiceNumber,customer:e.customerName,posted_date:e.postingDate,remarks:e.remark,sales_order:e.salesOrderNumber,salesType:e.salesType,siv_no:e.sivNumber,paid_amount:e.totalAmount,sales_invoice_line:e[Ie.a].map(function(e){return{id:e.id,quantity:e.quantity,quantity_invoiced:e.quantityInvoiced,unit_of_measurement:e.unit_of_measurement,unit_price:e.unitPrice,currency:e.currency,item:e.item,remaining_quantity:e.remainingQuantity,category:e.itemCategory,amount_excl_vat:e.amount_excl_vat}})};m(t)},donePatch:l.status===ee.e.success&&!B,approveSalesInvoice:function(e){V(!1);var t={id:e.id,status:"Approved",posting_date:"2020-01-01"};m(t)},postSalesInvoice:function(e){V(!1),console.log(e);var t={id:e.id,status:"Posted",posting_date:e.posting_date?e.posting_date:""};m(t)},doneDelete:d.status===ee.e.success&&!G,deleteSalesInvoice:function(e){J(!1),p(e)},customers:f,currencies:b,itemMasterDatas:h,itemCategories:g,UOMs:O,COAs:j,bankAccounts:E,addCashPayment:function(e){w(!1);var t={invoice:e.invoice?e.invoice:"",cash_account:e.cash_account?e.cash_account:"",posting_date:e.posting_date?e.posting_date:"",paid_amount:e.paid_amount?Number(e.paid_amount):"",is_bank_account:!Boolean(e.is_cash_account)};S(t)},salesOrders:k.map(function(e){return Object(v.a)({},e,{name:e.id})})})});a.d(t,"activeTabs",function(){return Ae});var Ae={CUSTOMERS:"1",SALES_INVOICE:"2"};t.default=function(){var e=Object(i.useState)("2"),t=Object(c.a)(e,2),a=t[0],n=t[1],r=function(e){a!==e&&n(e)};return s.a.createElement("div",null,s.a.createElement(h.a,null,s.a.createElement(o.a,{tabs:!0,className:"mb-2"},s.a.createElement(u.a,null,s.a.createElement(l.a,{className:a===Ae.SALES_INVOICE?"activepageTabBlue":"notactivePageTabBlue",onClick:function(){r(Ae.SALES_INVOICE)}},"Sales Invoice")),s.a.createElement(u.a,null,s.a.createElement(l.a,{className:a===Ae.CUSTOMERS?"activepageTabBlue":"notactivePageTabBlue",onClick:function(){r(Ae.CUSTOMERS)}},"Customers"))),s.a.createElement(m.a,{activeTab:a},s.a.createElement(d.a,{tabId:Ae.SALES_INVOICE},s.a.createElement(p.a,null,s.a.createElement(f.a,null,s.a.createElement(De,{activeTab:a})))),s.a.createElement(d.a,{tabId:Ae.CUSTOMERS},s.a.createElement(p.a,null,s.a.createElement(f.a,null,s.a.createElement(de,{activeTab:a})))))))}}}]);
//# sourceMappingURL=18.19c5f6c1.chunk.js.map