(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{1573:function(e,t,a){"use strict";var n=a(3),r=a(1),c=a.n(r),o=a(27),i=a(28),l=a(33),u=a(34),s=a(23);function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var d=function(e){Object(l.a)(a,e);var t=f(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("thead",null,c.a.createElement("tr",null,this.props.columns.map(function(e){return c.a.createElement("th",{key:e.path||e.key},e.label)})))}}]),a}(r.Component),m=a(1583),b=a.n(m),p=a(53),g=a(43),v=/[0-9\-+#]/,h=/[^\d\-+#]/g;function y(e){return e.search(v)}function j(e,t,a){var n=!1,r={value:e};e<0&&(n=!0,r.value=-r.value),r.sign=n?"-":"",r.value=Number(r.value).toFixed(t.fraction&&t.fraction.length),r.value=Number(r.value).toString();var c=t.fraction&&t.fraction.lastIndexOf("0"),o=r.value.split("."),i=Object(g.a)(o,2),l=i[0],u=void 0===l?"0":l,s=i[1],f=void 0===s?"":s;return(!f||f&&f.length<=c)&&(f=c<0?"":Number("0."+f).toFixed(c+1).replace("0.","")),r.integer=u,r.fraction=f,function(e,t){e.result="";var a=t.integer.split(t.separator),n=a.join(""),r=n&&n.indexOf("0");if(r>-1)for(;e.integer.length<n.length-r;)e.integer="0"+e.integer;else 0===Number(e.integer)&&(e.integer="");var c=a[1]&&a[a.length-1].length;if(c)for(var o=e.integer.length,i=o%c,l=0;l<o;l++)e.result+=e.integer.charAt(l),!((l-i+1)%c)&&l<o-c&&(e.result+=t.separator);else e.result=e.integer;e.result+=t.fraction&&e.fraction?t.decimal+e.fraction:""}(r,t),"0"!==r.result&&""!==r.result||(n=!1,r.sign=""),!n&&t.maskHasPositiveSign?r.sign="+":n&&t.maskHasPositiveSign?r.sign="-":n&&(r.sign=a&&a.enforceMaskSign&&!t.maskHasNegativeSign?"":"-"),r}var O=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||isNaN(Number(t)))return t;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#.##",t={},a=e.length,n=y(e);t.prefix=n>0?e.substring(0,n):"";var r=y(e.split("").reverse().join("")),c=a-r,o=e.substring(c,c+1),i=c+("."===o||","===o?1:0);t.suffix=r>0?e.substring(i,a):"",t.mask=e.substring(n,i),t.maskHasNegativeSign="-"===t.mask.charAt(0),t.maskHasPositiveSign="+"===t.mask.charAt(0);var l=t.mask.match(h);return t.decimal=l&&l[l.length-1]||".",t.separator=l&&l[1]&&l[0]||",",l=t.mask.split(t.decimal),t.integer=l[0],t.fraction=l[1],t}(e),r=j(t,n,a);return n.prefix+r.sign+r.result+n.suffix},S=a(1578),E=a(1584);function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var k=function(e){Object(l.a)(a,e);var t=x(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).renderCell=function(e,t,a){if(console.log("loaded",a),t.content)return t.content(e,a);var n=b.a.get(e,t.path),r=S.findIndex(function(e){return e===String(t.path)});return E.findIndex(function(e){return e===String(t.path)})>=0?Object(p.e)(n):r>=0?O("#,###.00",n,{enforceMaskSign:!0}):n?String(n):""},e.createKey=function(e,t){return e._id+(t.path||t.key)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.columns;return c.a.createElement("tbody",null,a.map(function(t){return c.a.createElement("tr",{key:t.id},n.map(function(a){return c.a.createElement("td",{key:e.createKey(t,a)},e.renderCell(t,a,e.props.loading))}))}))}}]),a}(r.Component),T=a(1643),I=a(1644),_=a(1645),C=a(109),N=a(1575),D=function(){var e=Object(r.useContext)(C.a),t=e.rootState,a=e.dispatch,n=Object(r.useState)(0),o=Object(g.a)(n,2),i=o[0],l=o[1],u=Object(r.useState)(0),s=Object(g.a)(u,2),f=s[0],d=s[1],m=Object(r.useState)(0),b=Object(g.a)(m,2),p=b[0],v=b[1],h=Object(r.useState)(0),y=Object(g.a)(h,2),j=y[0],O=y[1],S=Object(r.useState)(!1),E=Object(g.a)(S,2),x=E[0],k=E[1],D=Object(r.useState)(!1),w=Object(g.a)(D,2),R=w[0],P=w[1],A=Object(r.useState)({count:0,results:[]}),M=Object(g.a)(A,2),F=M[0],H=M[1],q=Object(r.useState)(0),L=Object(g.a)(q,2),U=L[0],z=L[1],V=Object(r.useState)(""),B=Object(g.a)(V,2),J=B[0],K=B[1];Object(r.useEffect)(function(){Object(N.a)(t)},[t]),Object(r.useEffect)(function(){var e=F.count,t=F.results;0===t.length&&0===e||(O(Math.ceil(e/t.length)),d(t.length),v(e),k(!0))},[J,O,d,v,k]),Object(r.useEffect)(function(){if(U){var e=F.count,t=F.results;f<=t.length&&(O(Math.ceil(e/t.length)),d(t.length),v(e),k(!0))}},[U,F]),Object(r.useEffect)(function(){try{var e=Object(N.b)(t),a=e.results,n=e.amount,r=e.activeTab;if(""!==r?K(r):console.warn("Pass active tab for paginations"),n!==U&&"undefined"!==typeof n&&(z(n),H(a)),"undefined"!==String(a)&&!x){var c=a.count,o=a.results;O(Math.ceil(c/o.length)),d(o.length),v(c),k(!0)}}catch(i){}},[t,z,H]);var W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;R||P(!0),l(e),t&&d(t)};return Object(r.useEffect)(function(){i<p&&R&&Object(N.c)({},a,{offset:i,limit:f,onClick:R})},[i,f]),c.a.createElement("div",null,c.a.createElement(T.a,{className:"pagination left",size:"md",color:"primary"},c.a.createElement(I.a,{disabled:0===i},c.a.createElement(_.a,{first:!0,href:"#",onClick:function(){return W(0)}},"First")),c.a.createElement(I.a,null,c.a.createElement(_.a,{previous:!0,disabled:0===i,onClick:function(){return W(i-f)}})),Array(j).fill("").map(function(e,t){return c.a.createElement(I.a,{active:t===Math.floor(i/f)},c.a.createElement(_.a,{onClick:function(){return W(t*f)}},t+1))}),c.a.createElement(I.a,null,c.a.createElement(_.a,{next:!0,onClick:function(){return W(i+f)},disabled:i+f>=p})),c.a.createElement(I.a,{disabled:i+f>=p},c.a.createElement(_.a,{last:!0,onClick:function(){return W((j-1)*f)}},"Last"))))},w=a(1549),R=a(1554),P=a(1619),A=a(177);t.a=Object(A.b)(function(e,t){return Object(n.a)({state:e},t)})(function(e){var t=e.columns,a=e.data,n=e.title,o=e.state,i=e.getLoading;Object(r.useEffect)(function(){"function"===typeof i&&console.log("result",i(o,{isPatch:!0}))},[o,i]);var l=Object(r.useContext)(C.a).rootState;return Object(r.useEffect)(function(){},[l]),console.log(i(o,{isPatch:!0})),c.a.createElement(w.a,{className:"p-2"},c.a.createElement(R.a,{className:"tableHeaders border-0"},c.a.createElement("div",null,""+n?n:"")),c.a.createElement(P.a,{size:"md",responsive:!0,striped:!0},c.a.createElement(d,{columns:t}),c.a.createElement(k,{data:a,columns:t,loading:"fucntion"===typeof i?i(o,{isPatch:!0}):{}}),c.a.createElement(D,null)))})},1575:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"d",function(){return c}),a.d(t,"a",function(){return o}),a.d(t,"c",function(){return i});var n=a(38),r=function(e){return e.page_values?e.page_values:null},c=function(e,t,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if("undefined"!==typeof a){if(0===a.count)return null;t({type:n.a.UPDATE,stateName:"page_values",payload:{results:a,options:c,pageLimit:a.length?5*Math.ceil(a.length/5):5,amount:r(e)?r(e).amount+1:0,activeTab:o}})}},o=function(e){var t=e.page_values;try{var a=t.pageLimit?t.pageLimit:0;return a||0}catch(n){}},i=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{offset:0,limit:0};t({type:n.a.UPDATE,stateName:"page_values",payload:{options:a}})}},1578:function(e){e.exports=["credit","debit","total","total_amount","paid_amount","account_balance","balance","price","unit_price","tax","unit_cost","tax_amount","amount_excl_vat","quantity","inventory_quantity","account.balance"]},1580:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return c});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=void 0;return a.length>0&&(r=e.filter(function(e){var r=n?"":"^";try{return a&&String(e[t]).match(new RegExp(r+a,"gi"))}catch(c){console.error("Tag does not exist: ".concat(String(c)))}return null})),"undefined"===typeof r?e:r},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"posting_date",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=void 0;return a.length>0&&n.length>0&&(r=e.filter(function(e){try{var r=new Date(e[t]).getTime(),c=new Date(a).getTime(),o=new Date(n).getTime();return a&&n&&r<=o&&r>=c}catch(i){console.error("Tag does not exist: ".concat(String(i)))}return null})),"undefined"===typeof r?e:r},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"country",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addresses",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=void 0;return a.length>0&&(c=e.filter(function(e){var c=r?"":"^";try{var o=e[n].findIndex(function(e){return e[t].match(new RegExp(c+a,"gi"))});return a&&o>=0}catch(i){console.error("Tag does not exist: ".concat(String(i)))}return null})),"undefined"===typeof c?e:c}},2437:function(e,t,a){"use strict";a.r(t);var n=a(43),r=a(1),c=a.n(r),o=a(1574),i=a(1555),l=a(1788),u=a(1549),s=a(1550),f=a(1579),d=a(3),m=a(27),b=a(28),p=a(33),g=a(34),v=a(23),h=a(1577),y=a(1576),j=a.n(y),O=a(1554),S=a(1556),E=a(1787),x=a(1622);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(g.a)(this,a)}}var T=function(e){Object(p.a)(a,e);var t=k(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).initialState={data:{id:"",from_salary:"",to_salary:"",deduction:"",tax:"",remarks:""},errors:{}},n.state=n.initialState,n.schema={id:j.a.string().allow("").optional(),from_salary:j.a.string().required().label("From Salary"),to_salary:j.a.string().required().label("To Salary"),deduction:j.a.string().required().label("Deduction"),tax:j.a.string().required().label("Tax"),remarks:j.a.string().allow("").optional()},n}return Object(b.a)(a,[{key:"populateState",value:function(e){var t=Object(d.a)({},this.state,{data:{id:e.id?e.id:"",from_salary:e.from_salary?e.from_salary:"",to_salary:e.to_salary?e.to_salary:"",deduction:e.deduction?e.deduction:"",tax:e.tax?e.tax:"",remarks:e.remarks?e.remarks:""},lockUpdate:!0});this.setState(t)}},{key:"componentDidUpdate",value:function(){!this.props.isEdit&&!this.props.isView||this.state.lockUpdate||this.populateState(this.props.data)}},{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"doSubmit",value:function(){this.props.submit(this.state.data)}},{key:"render",value:function(){return c.a.createElement(u.a,{className:"border-0"},c.a.createElement(O.a,{className:"border-0"},this.props.title),c.a.createElement(s.a,null,c.a.createElement(S.a,{onSubmit:this.handleSubmit},c.a.createElement(E.a,null,c.a.createElement(l.a,{md:6,sm:12,xs:12},this.renderInput({name:"from_salary",label:"From Salary",type:"number"})),c.a.createElement(l.a,{md:6,sm:12,xs:12},this.renderInput({name:"to_salary",label:"To Salary",type:"number"})),c.a.createElement(l.a,{md:6,sm:12,xs:12},this.renderInput({name:"deduction",label:"Deduction",type:"number"})),c.a.createElement(l.a,{md:6,sm:12,xs:12},this.renderInput({name:"tax",label:"Tax %",type:"number"})),c.a.createElement(l.a,{md:12,sm:12,xs:12},this.renderInput({name:"remarks",label:"Remarks",type:"textarea"}))),c.a.createElement(x.a,{align:"center"},this.renderButton("Save")))))}}]),a}(h.a),I=a(17),_=a(1573),C=a(1581),N=function(e){var t=e.doneAdd,a=e.addSalaryIncomeTax,d=e.doneEdit,m=e.editSalaryIncomeTax,b=(e.deleteSalaryIncomeTax,e.salaryIncomeTaxes),p=Object(r.useReducer)(C.c,C.b),g=Object(n.a)(p,2),v=g[0],h=g[1],y=[{path:"from_salary",label:"From Salary"},{path:"to_salary",label:"To Salary"},{path:"deduction",label:"Deduction"},{path:"tax",label:"Tax"},{path:"remarks",label:"Remarks"},{key:"view",content:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){Object(C.a)({type:"VIEW",Component:T,data:e,title:"View Salary Income Tax"},h)}},c.a.createElement(I.M,null)),c.a.createElement(i.a,{className:"m-1",size:"sm",outline:!0,color:"warning",onClick:function(){Object(C.a)({type:"EDIT",Component:T,submit:m,data:e,title:"Edit Salary Income Tax"},h)}},c.a.createElement(I.s,null)))}}];return Object(r.useEffect)(function(){(t||d)&&Object(C.a)({type:"CLOSE"},h)},[t,d]),c.a.createElement("div",null,c.a.createElement(o.a,{title:"Salary Income Tax",breadcrumbs:[{name:"Human Resource",active:!0}]},c.a.createElement(f.a,{data:v.data,openModal:v.openModal,component:v.Component,toggle:C.a,dispatch:h,title:v.title}),c.a.createElement(l.a,{align:"right",className:"mb-1 pl-3 pr-3"},c.a.createElement(i.a,{onClick:function(){return Object(C.a)({type:"ADD",Component:T,submit:a,title:"New Salary Income Tax"},h)},outline:!0,size:"sm"},"New Salary Income Tax")),c.a.createElement(u.a,{className:"border-0"},c.a.createElement(s.a,null,c.a.createElement(_.a,{title:"Salary Income Taxes",columns:y,data:b})))))},D=a(147),w=a(177),R=a(102),P=a(19),A=a(54),M=a(36),F=a(1580),H=a(1557);t.default=Object(w.b)(function(e){return{fetchStatus:Object(D.i)(e),addStatus:Object(D.f)(e),editStatus:Object(D.h)(e),deleteStatus:Object(D.g)(e),salaryIncomeTaxes:Object(D.j)(e)}},function(e){return{selectSalaryIncomeTaxes:function(){return e(Object(D.c)())},addSalaryIncomeTax:function(t){return e(Object(D.a)(t))},editSalaryIncomeTax:function(t){return e(Object(D.b)(t))},deleteSalaryIncomeTax:function(t){return e(Object(D.d)(t))}}})(function(e){var t=e.fetchStatus,a=e.addStatus,o=e.selectSalaryIncomeTaxes,i=e.addSalaryIncomeTax,l=e.editStatus,u=e.editSalaryIncomeTax,s=e.deleteStatus,f=e.deleteSalaryIncomeTax,d=e.salaryIncomeTaxes,m=Object(r.useState)([]),b=Object(n.a)(m,2),p=b[0],g=b[1],v=Object(r.useState)(!0),h=Object(n.a)(v,2),y=h[0],j=h[1],O=Object(r.useState)(!0),S=Object(n.a)(O,2),E=S[0],x=S[1],k=Object(r.useState)(!0),T=Object(n.a)(k,2),I=T[0],_=T[1],C=Object(r.useState)(!0),D=Object(n.a)(C,2),w=D[0],q=D[1],L=Object(r.useState)("name"),U=Object(n.a)(L,2),z=U[0],V=U[1];Object(r.useEffect)(function(){g(d)},[d,g]);var B=Object(r.useContext)(A.c).searchValue,J=Object(r.useContext)(A.b).dispatch,K=function(){return c.a.createElement(H.a,{type:"select",onChange:function(e){var t=e.currentTarget.value;return V(t)}},c.a.createElement("option",{value:"name"},"By Name"),c.a.createElement("option",{value:"code"},"By Code"))};Object(r.useEffect)(function(){Object(M.a)({},J,K)},[J]),Object(r.useEffect)(function(){g(Object(F.b)(d,z,B))},[B,g,z]),Object(r.useEffect)(function(){j(!1),o()},[o,j]),Object(r.useEffect)(function(){t.status!==P.e.failure||y||(R.toast.error("Failed fetching Salary Income Taxes"),j(!0))},[t,j]),Object(r.useEffect)(function(){var e=a.status,t=a.errors;e!==P.e.failure||E?e!==P.e.success||E||(R.toast.success("Added Salary Income Tax"),x(!0)):(R.toast.error(String(Object.values(t.errors))),x(!0))},[a,x]),Object(r.useEffect)(function(){var e=l.status,t=l.errors;e!==P.e.failure||I?e!==P.e.success||I||(R.toast.success("Edited Salary Income Tax"),_(!0)):(R.toast.error(String(Object.values(t.errors))),R.toast.error("Failed editing Salary Income Tax"),_(!0))},[l,_]),Object(r.useEffect)(function(){var e=s.status;e!==P.e.failure||w?e!==P.e.success||w||(R.toast.success("Deleted Salary Income Tax"),q(!0)):q(!0)},[s,q]);return c.a.createElement(N,{doneAdd:a.status===P.e.success&&!E,addSalaryIncomeTax:function(e){x(!1);var t={from_salary:e.from_salary,to_salary:e.to_salary,deduction:e.deduction,tax:e.tax,remarks:e.remarks};i(t)},doneEdit:l.status===P.e.success&&!I,editSalaryIncomeTax:function(e){_(!1);var t={id:e.id,from_salary:e.from_salary,to_salary:e.to_salary,deduction:e.deduction,tax:e.tax,remarks:e.remarks};u(t)},doneDelete:s.status===P.e.success&&!w,deleteSalaryIncomeTax:function(e){q(!1),f(e)},salaryIncomeTaxes:p})})}}]);
//# sourceMappingURL=97.a5f012d1.chunk.js.map