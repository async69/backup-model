(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{1573:function(e,t,a){"use strict";var n=a(3),l=a(1),o=a.n(l),c=a(27),r=a(28),s=a(33),i=a(34),u=a(23);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var l=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var f=function(e){Object(s.a)(a,e);var t=d(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("thead",null,o.a.createElement("tr",null,this.props.columns.map(function(e){return o.a.createElement("th",{key:e.path||e.key},e.label)})))}}]),a}(l.Component),m=a(1583),p=a.n(m),b=a(53),y=a(43),_=/[0-9\-+#]/,O=/[^\d\-+#]/g;function j(e){return e.search(_)}function v(e,t,a){var n=!1,l={value:e};e<0&&(n=!0,l.value=-l.value),l.sign=n?"-":"",l.value=Number(l.value).toFixed(t.fraction&&t.fraction.length),l.value=Number(l.value).toString();var o=t.fraction&&t.fraction.lastIndexOf("0"),c=l.value.split("."),r=Object(y.a)(c,2),s=r[0],i=void 0===s?"0":s,u=r[1],d=void 0===u?"":u;return(!d||d&&d.length<=o)&&(d=o<0?"":Number("0."+d).toFixed(o+1).replace("0.","")),l.integer=i,l.fraction=d,function(e,t){e.result="";var a=t.integer.split(t.separator),n=a.join(""),l=n&&n.indexOf("0");if(l>-1)for(;e.integer.length<n.length-l;)e.integer="0"+e.integer;else 0===Number(e.integer)&&(e.integer="");var o=a[1]&&a[a.length-1].length;if(o)for(var c=e.integer.length,r=c%o,s=0;s<c;s++)e.result+=e.integer.charAt(s),!((s-r+1)%o)&&s<c-o&&(e.result+=t.separator);else e.result=e.integer;e.result+=t.fraction&&e.fraction?t.decimal+e.fraction:""}(l,t),"0"!==l.result&&""!==l.result||(n=!1,l.sign=""),!n&&t.maskHasPositiveSign?l.sign="+":n&&t.maskHasPositiveSign?l.sign="-":n&&(l.sign=a&&a.enforceMaskSign&&!t.maskHasNegativeSign?"":"-"),l}var h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||isNaN(Number(t)))return t;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#.##",t={},a=e.length,n=j(e);t.prefix=n>0?e.substring(0,n):"";var l=j(e.split("").reverse().join("")),o=a-l,c=e.substring(o,o+1),r=o+("."===c||","===c?1:0);t.suffix=l>0?e.substring(r,a):"",t.mask=e.substring(n,r),t.maskHasNegativeSign="-"===t.mask.charAt(0),t.maskHasPositiveSign="+"===t.mask.charAt(0);var s=t.mask.match(O);return t.decimal=s&&s[s.length-1]||".",t.separator=s&&s[1]&&s[0]||",",s=t.mask.split(t.decimal),t.integer=s[0],t.fraction=s[1],t}(e),l=v(t,n,a);return n.prefix+l.sign+l.result+n.suffix},E=a(1578),g=a(1584);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var l=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var S=function(e){Object(s.a)(a,e);var t=P(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).renderCell=function(e,t,a){if(console.log("loaded",a),t.content)return t.content(e,a);var n=p.a.get(e,t.path),l=E.findIndex(function(e){return e===String(t.path)});return g.findIndex(function(e){return e===String(t.path)})>=0?Object(b.e)(n):l>=0?h("#,###.00",n,{enforceMaskSign:!0}):n?String(n):""},e.createKey=function(e,t){return e._id+(t.path||t.key)},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.columns;return o.a.createElement("tbody",null,a.map(function(t){return o.a.createElement("tr",{key:t.id},n.map(function(a){return o.a.createElement("td",{key:e.createKey(t,a)},e.renderCell(t,a,e.props.loading))}))}))}}]),a}(l.Component),x=a(1643),T=a(1644),k=a(1645),D=a(109),C=a(1575),N=function(){var e=Object(l.useContext)(D.a),t=e.rootState,a=e.dispatch,n=Object(l.useState)(0),c=Object(y.a)(n,2),r=c[0],s=c[1],i=Object(l.useState)(0),u=Object(y.a)(i,2),d=u[0],f=u[1],m=Object(l.useState)(0),p=Object(y.a)(m,2),b=p[0],_=p[1],O=Object(l.useState)(0),j=Object(y.a)(O,2),v=j[0],h=j[1],E=Object(l.useState)(!1),g=Object(y.a)(E,2),P=g[0],S=g[1],N=Object(l.useState)(!1),I=Object(y.a)(N,2),w=I[0],A=I[1],L=Object(l.useState)({count:0,results:[]}),R=Object(y.a)(L,2),M=R[0],V=R[1],F=Object(l.useState)(0),z=Object(y.a)(F,2),B=z[0],U=z[1],J=Object(l.useState)(""),H=Object(y.a)(J,2),G=H[0],q=H[1];Object(l.useEffect)(function(){Object(C.a)(t)},[t]),Object(l.useEffect)(function(){var e=M.count,t=M.results;0===t.length&&0===e||(h(Math.ceil(e/t.length)),f(t.length),_(e),S(!0))},[G,h,f,_,S]),Object(l.useEffect)(function(){if(B){var e=M.count,t=M.results;d<=t.length&&(h(Math.ceil(e/t.length)),f(t.length),_(e),S(!0))}},[B,M]),Object(l.useEffect)(function(){try{var e=Object(C.b)(t),a=e.results,n=e.amount,l=e.activeTab;if(""!==l?q(l):console.warn("Pass active tab for paginations"),n!==B&&"undefined"!==typeof n&&(U(n),V(a)),"undefined"!==String(a)&&!P){var o=a.count,c=a.results;h(Math.ceil(o/c.length)),f(c.length),_(o),S(!0)}}catch(r){}},[t,U,V]);var K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;w||A(!0),s(e),t&&f(t)};return Object(l.useEffect)(function(){r<b&&w&&Object(C.c)({},a,{offset:r,limit:d,onClick:w})},[r,d]),o.a.createElement("div",null,o.a.createElement(x.a,{className:"pagination left",size:"md",color:"primary"},o.a.createElement(T.a,{disabled:0===r},o.a.createElement(k.a,{first:!0,href:"#",onClick:function(){return K(0)}},"First")),o.a.createElement(T.a,null,o.a.createElement(k.a,{previous:!0,disabled:0===r,onClick:function(){return K(r-d)}})),Array(v).fill("").map(function(e,t){return o.a.createElement(T.a,{active:t===Math.floor(r/d)},o.a.createElement(k.a,{onClick:function(){return K(t*d)}},t+1))}),o.a.createElement(T.a,null,o.a.createElement(k.a,{next:!0,onClick:function(){return K(r+d)},disabled:r+d>=b})),o.a.createElement(T.a,{disabled:r+d>=b},o.a.createElement(k.a,{last:!0,onClick:function(){return K((v-1)*d)}},"Last"))))},I=a(1549),w=a(1554),A=a(1619),L=a(177);t.a=Object(L.b)(function(e,t){return Object(n.a)({state:e},t)})(function(e){var t=e.columns,a=e.data,n=e.title,c=e.state,r=e.getLoading;Object(l.useEffect)(function(){"function"===typeof r&&console.log("result",r(c,{isPatch:!0}))},[c,r]);var s=Object(l.useContext)(D.a).rootState;return Object(l.useEffect)(function(){},[s]),console.log(r(c,{isPatch:!0})),o.a.createElement(I.a,{className:"p-2"},o.a.createElement(w.a,{className:"tableHeaders border-0"},o.a.createElement("div",null,""+n?n:"")),o.a.createElement(A.a,{size:"md",responsive:!0,striped:!0},o.a.createElement(f,{columns:t}),o.a.createElement(S,{data:a,columns:t,loading:"fucntion"===typeof r?r(c,{isPatch:!0}):{}}),o.a.createElement(N,null)))})},1575:function(e,t,a){"use strict";a.d(t,"b",function(){return l}),a.d(t,"d",function(){return o}),a.d(t,"a",function(){return c}),a.d(t,"c",function(){return r});var n=a(38),l=function(e){return e.page_values?e.page_values:null},o=function(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if("undefined"!==typeof a){if(0===a.count)return null;t({type:n.a.UPDATE,stateName:"page_values",payload:{results:a,options:o,pageLimit:a.length?5*Math.ceil(a.length/5):5,amount:l(e)?l(e).amount+1:0,activeTab:c}})}},c=function(e){var t=e.page_values;try{var a=t.pageLimit?t.pageLimit:0;return a||0}catch(n){}},r=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{offset:0,limit:0};t({type:n.a.UPDATE,stateName:"page_values",payload:{options:a}})}},1578:function(e){e.exports=["credit","debit","total","total_amount","paid_amount","account_balance","balance","price","unit_price","tax","unit_cost","tax_amount","amount_excl_vat","quantity","inventory_quantity","account.balance"]},1580:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return l}),a.d(t,"c",function(){return o});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=void 0;return a.length>0&&(l=e.filter(function(e){var l=n?"":"^";try{return a&&String(e[t]).match(new RegExp(l+a,"gi"))}catch(o){console.error("Tag does not exist: ".concat(String(o)))}return null})),"undefined"===typeof l?e:l},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"posting_date",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=void 0;return a.length>0&&n.length>0&&(l=e.filter(function(e){try{var l=new Date(e[t]).getTime(),o=new Date(a).getTime(),c=new Date(n).getTime();return a&&n&&l<=c&&l>=o}catch(r){console.error("Tag does not exist: ".concat(String(r)))}return null})),"undefined"===typeof l?e:l},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"country",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addresses",l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=void 0;return a.length>0&&(o=e.filter(function(e){var o=l?"":"^";try{var c=e[n].findIndex(function(e){return e[t].match(new RegExp(o+a,"gi"))});return a&&c>=0}catch(r){console.error("Tag does not exist: ".concat(String(r)))}return null})),"undefined"===typeof o?e:o}},1603:function(e,t,a){"use strict";var n=a(7),l=a(43),o=a(3),c=a(1),r=a.n(c),s=a(1619),i=a(1557),u=a(1555),d=a(17),f="ADDING_LINE",m={addCount:0,status:"IDLE",hasEdit:!0,hasDelete:!0,_data:[]},p="_ADD",b="UPDATE",y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(o.a)({},e,{addCount:e.addCount+1,status:f});case b:return Object(o.a)({},e,{_data:t.payload});default:return e}},_=function(e){return e({type:p})},O=a(1576),j=a.n(O),v=a(1583),h=a.n(v),E=function(){return Math.random().toString(36).substring(7)},g=function(e,t){var a={};for(var n in e)a[n]="";return Object(o.a)({},a,{_id:t})},P="ADDING_LINE",S="IDLE",x="EDIT",T="SAVED",k="CANCELED",D=function(e){var t=e.data,a=e.columns,f=e.hasEdit,m=e.hasDelete,p=e.status,y=e.addCount,_=e.schema,O=e.dispatch,v=e.callback,D=Object(c.useState)([]),C=Object(l.a)(D,2),N=C[0],I=C[1],w=Object(c.useState)(S),A=Object(l.a)(w,2),L=A[0],R=A[1],M=Object(c.useState)(t.map(function(){return!1})),V=Object(l.a)(M,2),F=V[0],z=V[1],B=Object(c.useState)({}),U=Object(l.a)(B,2),J=U[0],H=U[1];Object(c.useEffect)(function(){S!==L&&T!==L&&k!==L||R(p)},[p,R,y]),Object(c.useEffect)(function(){if(t.length>0&&0===N.length){var e=t.map(function(e){var t={};for(var n in e){var l=a.find(function(e){return e.tag===n});l&&(t[l.tag]=h.a.get(e,l.tag))}return Object(o.a)({},t,{_id:E()})});z(e.map(function(){return!1})),I(e)}},[t,I]),Object(c.useEffect)(function(){var e;(e=N,function(t){t({type:b,payload:e})})(O),v(N)},[N,O]);var G=Object(c.useState)({}),q=Object(l.a)(G,2),K=q[0],W=q[1],Q=Object(c.useState)({}),X=Object(l.a)(Q,2),Y=X[0],Z=X[1],$=Object(c.useState)(!1),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=Object(c.useState)({}),le=Object(l.a)(ne,2),oe=le[0],ce=le[1];Object(c.useEffect)(function(){var e={};a.forEach(function(t){"select"===t.type&&(e[t.tag]=t.options)}),ce(e)},[ce]),Object(c.useEffect)(function(){if(L===P){var e=E();I(N.concat(g(N[0],e))),re(g(N[0],e)),z(F.concat(!0))}},[L]);var re=function(e){Z(_),W(Object(o.a)({},J,e))};Object(c.useEffect)(function(){var e=j.a.validate(K,Y,{abortEarly:!1}).error;e?(console.warn(e),ae(!1)):Object.values(K).length>1&&ae(!0)},[K]);var se=function(e){var t=e.currentTarget,a=t.name,l=t.value,c=t.callback;W(Object(o.a)({},K,Object(n.a)({},a,l)));c({name:a,value:l,setOptions:function(e,t){var a=oe;Object.keys(oe).findIndex(function(t){return t===e})>=0&&(a[e]=t,ce(a))},options:oe,setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};e.map(function(e){var a=e.name,n=e.value;return t[a]=n,null}),W(Object(o.a)({},K,t))},formData:K})};return Object(c.useEffect)(function(){var e={};a.forEach(function(t){t.defaultValue&&(e=Object(o.a)({},e,Object(n.a)({},t.tag,t.defaultValue)))}),Object.values(e).length>0&&(W(Object(o.a)({},K,e)),H(e))},[a,W]),r.a.createElement(s.a,{size:"md",responsive:!0,striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,a.filter(function(e){return!Boolean(e.isView)}).map(function(e){return r.a.createElement("th",null,e.label)}))),r.a.createElement("tbody",null,N.map(function(e,t){return r.a.createElement("tr",null,a.filter(function(e){return!Boolean(e.isView)}).map(function(a){return F[t]&&!a.noEdit?r.a.createElement("td",null,"select"===a.type?r.a.createElement(i.a,{type:a.type,name:a.tag,value:h.a.get(K,a.tag),onChange:function(e){var t=e.currentTarget,n=t.name,l=t.value,o=a.callback?a.callback:function(){return null};se({currentTarget:{name:n,value:l,callback:o}})},disabled:a.disabled},r.a.createElement("option",null),"server"===a.optionsFrom?oe[a.tag].map(function(e){return r.a.createElement("option",{value:e.id},e.name)}):oe[a.tag].map(function(e){return r.a.createElement("option",{value:e},e)})):r.a.createElement(i.a,{type:a.type?a.type:"text",name:a.tag,disabled:a.disabled,value:h.a.get(K,a.tag),onChange:function(e){var t=e.currentTarget,n=t.name,l=t.value,o=a.callback?a.callback:function(){return null};se({currentTarget:{name:n,value:l,callback:o}})}})):r.a.createElement("td",null,function(e,t){if("server"!==t.optionsFrom)return e[t.tag];var a=t.options.find(function(a){return String(a.id)===String(e[t.tag])});return a?a.name:void 0}(e,a))}),f?r.a.createElement("td",null,F[t]?r.a.createElement("div",null,r.a.createElement(u.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){I(N.map(function(e){return e._id===K._id?Object(o.a)({_id:E()},K):e})),z(F.map(function(){return!1})),R(T)},disabled:!te},"Save"),r.a.createElement(u.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){!function(){if(L===P){var e=N.findIndex(function(e){return e._id===K._id});e>=0&&(I(N.filter(function(t,a){return e!==a})),z(F.filter(function(t,a){return e!==a}))),ae(!0)}else z(F.map(function(){return!1}));R(k),Z({})}()}},"Cancel")):r.a.createElement(u.a,{className:"m-1",size:"sm",outline:!0,color:"warning",onClick:function(){z(F.map(function(e,a){return a===t})),re(e),R(x)}},r.a.createElement(d.s,null))):r.a.createElement(r.a.Fragment,null),m?r.a.createElement("td",null,r.a.createElement(u.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){return function(e){var t=N.findIndex(function(t){return t._id===e});t>=0&&(I(N.filter(function(e,a){return a!==t})),z(F.filter(function(e,a){return a!==t})),R(k))}(e._id)}},r.a.createElement(d.p,null))):r.a.createElement(r.a.Fragment,null))})))},C=a(1788),N=function(e){var t=e.data,a=e.columns,n=e.callback,o=e.schema,s=e.lineTag,i=e.disabled,d=e.startForm,f=Object(c.useReducer)(y,m),p=Object(l.a)(f,2),b=p[0],O=p[1],j=Object(c.useState)(!1),v=Object(l.a)(j,2),h=v[0],E=v[1];Object(c.useEffect)(function(){d&&_(O)},[d,O]);return r.a.createElement("div",null,i?r.a.createElement(r.a.Fragment,null):r.a.createElement(C.a,{align:"right",className:"mb-1 pl-3 pr-3"},r.a.createElement(u.a,{className:"m-1 align-right",size:"sm",outline:!0,color:"info",onClick:function(){return _(O)}},s||"Add Line")),r.a.createElement(D,Object.assign({},b,{dispatch:O,data:t,schema:o,columns:a,callback:function(e){!h&&e.length>0&&Object.values(e[0]).length>1?(n(e),E(!0)):b._data.length>=e.length&&n(e)},hasEdit:!i,hasDelete:!i})))};a.d(t,"a",function(){return D}),a.d(t,"c",function(){return _}),a.d(t,"d",function(){return m}),a.d(t,"e",function(){return y}),a.d(t,"b",function(){return N})},2382:function(e,t,a){"use strict";a.r(t);var n=a(3),l=a(43),o=a(1),c=a.n(o),r=a(1547),s=a(1548),i=a(1558),u=a(1641),d=a(1642),f=a(1787),m=a(1788),p=a(1574),b=a(1555),y=a(1549),_=a(1550),O=a(1579),j=a(1581),v=a(17),h=a(1573),E=a(181),g=a(7),P=a(112),S=a.n(P),x=a(178),T=a(27),k=a(28),D=a(179),C=a(33),N=a(34),I=a(23),w=a(1554),A=a(1556),L=a(2364),R=a(1577),M=a(1603),V=a(1576),F=a.n(V),z={from_date:F.a.any(),to_date:F.a.any(),total_employee_pension:F.a.any(),total_income_tax:F.a.any(),total_loan:F.a.any(),total_local_sales:F.a.any(),total_overtime:F.a.any(),total_pension_contribution:F.a.any(),total_salary:F.a.any(),total_transport_allowance:F.a.any(),payroll_lines:F.a.array().items(F.a.object()).min(1)},B={data:{from_date:"",to_date:"",total_employee_pension:"",total_income_tax:"",total_loan:"",total_local_sales:"",total_overtime:"",total_pension_contribution:"",total_salary:"",total_transport_allowance:"",payroll_lines:[]},errors:{},selectedLine:"",lineCounter:1},U={_id:F.a.any().allow("").optional(),employee_name:F.a.any(),employee_department:F.a.any(),employee_position:F.a.any(),basic_salary:F.a.any(),employee_pension:F.a.any(),employer_pension:F.a.any(),income_tax:F.a.any(),net_salary:F.a.any(),non_taxable_income:F.a.any(),taxable_income:F.a.any(),total_deduction:F.a.any()};function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(I.a)(e);if(t){var l=Object(I.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(N.a)(this,a)}}var H=function(e){Object(C.a)(a,e);var t=J(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).doSubmit=Object(x.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.submit(n.state.data);case 1:case"end":return e.stop()}},e)})),n.initialState=B,n.state=JSON.parse(JSON.stringify(n.initialState)),n.schema=z,n.handleLineSave=n.handleLineSave.bind(Object(D.a)(n)),n.populateState=n.populateState.bind(Object(D.a)(n)),n.updateLines=n.updateLines.bind(Object(D.a)(n)),n.lineMapper=n.lineMapper.bind(Object(D.a)(n)),n.updateData=n.updateData.bind(Object(D.a)(n)),n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"lineMapper",value:function(){return this.props.isEdit||this.props.isView?function(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"payroll_lines"].map(function(e){return{_id:e.employee.id,employee_name:e.employee.first_name+" "+e.employee.father_name,employee_department:e.employee.department,employee_position:e.employee.position,basic_salary:e.basic_salary,employee_pension:e.employee_pension,employer_pension:e.employer_pension,income_tax:e.income_tax,net_salary:e.net_salary,non_taxable_income:e.non_taxable_income,taxable_income:e.taxable_income,total_deduction:e.total_deduction}})}(this.props.data,"payroll_lines"):[]}},{key:"populateState",value:function(e){var t,a,n=(t=e,a=this.lineMapper,Object(g.a)({from_date:t.from_date,to_date:t.to_date,total_employee_pension:t.total_employee_pension,total_income_tax:t.total_income_tax,total_loan:t.total_loan,total_local_sales:t.total_local_sales,total_overtime:t.total_overtime,total_pension_contribution:t.total_pension_contribution,total_salary:t.total_salary,total_transport_allowance:t.total_transport_allowance},"payroll_lines",a()));this.setState({lockUpdate:!0,data:n})}},{key:"updateLines",value:function(e){(e.length>0||this.state.data.payroll_lines.length>0)&&this.setState({data:Object(n.a)({},this.state.data,Object(g.a)({},"payroll_lines",e))})}},{key:"componentDidUpdate",value:function(){!this.props.isEdit&&!this.props.isView||this.state.lockUpdate||this.populateState(this.props.data)}},{key:"handleLineSave",value:function(e){this.setState({data:Object(n.a)({},this.state.data,Object(g.a)({},"payroll_lines",e))})}},{key:"updateData",value:function(e,t){this.setState({data:Object(n.a)({},this.state.data,Object(g.a)({},e,t))})}},{key:"render",value:function(){return c.a.createElement(y.a,{className:"border-0"},c.a.createElement(w.a,{className:"border-0"},"Payroll Process"),c.a.createElement(_.a,null,c.a.createElement(A.a,{onSubmit:this.handleSubmit},c.a.createElement(f.a,null,c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput("from_date","From Date","date")),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput("to_date","To Date","date")),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_employee_pension",label:"Total Employee Pension"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_income_tax",label:"Total Income Tax"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_loan",label:"Total Loan"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_local_sales",label:"Total Local Sales"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_overtime",label:"Total Overtime"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_pension_contribution",label:"Total Pension Contribution"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_salary",label:"Total Salary"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_transport_allowance",label:"Total Transport Allowance"})),c.a.createElement(m.a,{md:12,sm:12,xs:12},c.a.createElement(L.a,null,"Lines "),c.a.createElement(_.a,null,c.a.createElement(M.b,{columns:(this.props,[{tag:"employee_name",label:"Name",type:"text"},{tag:"employee_department",label:"Department",type:"text"},{tag:"employee_position",label:"Position",type:"text"},{tag:"basic_salary",label:"Basic Salary",type:"text"},{tag:"employee_pension",label:"Employee Pension",type:"text"},{tag:"employer_pension",label:"Employer Pension",type:"text"},{tag:"income_tax",label:"Income Tax",type:"text"},{tag:"net_salary",label:"Net Salary",type:"text"},{tag:"non_taxable_income",label:"Non Taxable Income",type:"text"},{tag:"taxable_income",label:"Taxable Income",type:"text"},{tag:"total_deduction",label:"Total Deduction",type:"text"}]),disabled:this.props.disabled,data:this.state.data.payroll_lines,callback:this.updateLines,schema:U,startForm:this.props.isAdd}))),c.a.createElement(m.a,{size:"xl",align:"center"},this.renderButton("Save"))))))}}]),a}(R.a),G=a(1583),q=a.n(G),K=a(103);function W(e){var t=e.payrollProcesss,a=e.doneAdd,n=e.doneEdit,r=e.savePayrollProcess,s=e.saveAddStatus,i=e.postPayrollProcess,u=Object(o.useReducer)(j.c,j.b),d=Object(l.a)(u,2),f=d[0],g=d[1],P=[{path:"from_date",label:"From Date"},{path:"to_date",label:"To Date"},{path:"total_employee_pension",label:"Total Employee Pension"},{path:"total_loan",label:"Total Loan"},{path:"total_local_sales",label:"Total Local Sales"},{path:"total_overtime",label:"Total Overtime"},{path:"total_pension_contribution",label:"Total Pension Contribution"},{path:"total_salary",label:"Total Salary"},{path:"total_transport_allowance",label:"Total Transport Allowance"},{path:"status",label:"Status"},{key:"view",content:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){Object(j.a)({type:"VIEW",Component:H,data:e,title:"View Payroll"},g)}},c.a.createElement(v.M,null)),e.status===K.a.SAVED&&c.a.createElement(b.a,{className:"m-1",size:"sm",outline:!0,color:"success",onClick:function(){Object(j.a)({type:"POST",submit:i,submitButtonLabel:"Post",data:e,title:"Post"},g)}},c.a.createElement(v.A,null)," Post"))}}];Object(o.useEffect)(function(){(a||n)&&Object(j.a)({type:"CLOSE"},g)},[a,n]);var S=function(){r(t)};return console.log("payrollProcesss",t),c.a.createElement("div",null,c.a.createElement(p.a,null,c.a.createElement(O.a,{data:f.data,openModal:f.openModal,component:f.Component,toggle:j.a,dispatch:g,title:f.title}),c.a.createElement(m.a,{align:"right",className:"mb-1 pl-3 pr-3"},!q.a.isEmpty(t)&&c.a.createElement(b.a,{onClick:function(){Object(j.a)({type:"DELETE",deleteOptions:{okCallback:S,title:"Are you sure?",message:""}},g)},outline:!0,size:"sm",disabled:"pending"===s},"pending"===s?c.a.createElement(E.a,null):"Save")),c.a.createElement(y.a,{className:"border-0"},c.a.createElement(_.a,null,!q.a.isEmpty(t)&&c.a.createElement(h.a,{title:" Payroll Process",columns:P,data:[t]})))))}var Q=a(128),X=a(116),Y=a(177),Z=a(102),$=a(19),ee=a(54),te=a(36),ae=a(1580),ne=a(1557),le=a(53),oe=Object(Y.b)(function(e,t){return Object(n.a)({},t,{fetchStatus:Object(Q.i)(e),addStatus:Object(Q.f)(e),editStatus:Object(Q.h)(e),patchStatus:Object(X.k)(e),deleteStatus:Object(Q.g)(e),payrollProcesss:Object(Q.j)(e),saveAddStatus:Object(X.g)(e)})},function(e){return{fetchPayrollProcesss:function(t){return e(Object(Q.c)(t))},addPayrollProcess:function(t){return e(Object(Q.a)(t))},editPayrollProcess:function(t){return e(Object(Q.b)(t))},deletePayrollProcess:function(t){return e(Object(Q.d)(t))},savePayrollProcess:function(t){return e(Object(X.a)(t))},patchPayrollProcess:function(t){return e(Object(X.d)(t))}}})(function(e){var t=e.fetchStatus,a=e.addStatus,r=e.patchStatus,s=e.fetchPayrollProcesss,i=e.addPayrollProcess,u=e.editStatus,d=e.editPayrollProcess,f=e.deleteStatus,m=e.deletePayrollProcess,p=e.payrollProcesss,b=e.savePayrollProcess,y=e.saveAddStatus,_=e.patchPayrollProcess,O=Object(o.useState)([]),j=Object(l.a)(O,2),v=j[0],h=j[1],E=Object(o.useState)(!0),g=Object(l.a)(E,2),P=g[0],S=g[1],x=Object(o.useState)(!0),T=Object(l.a)(x,2),k=T[0],D=T[1],C=Object(o.useState)(!0),N=Object(l.a)(C,2),I=N[0],w=N[1],A=Object(o.useState)(!0),L=Object(l.a)(A,2),R=L[0],M=L[1],V=Object(o.useState)(!0),F=Object(l.a)(V,2),z=F[0],B=F[1],U=Object(o.useState)("name"),J=Object(l.a)(U,1)[0],H=Object(o.useContext)(ee.c).searchValue,G=Object(o.useContext)(ee.b).dispatch,q=Object(o.useState)(le.l),Q=Object(l.a)(q,2),X=Q[0],Y=Q[1],oe=Object(o.useState)(le.c),ce=Object(l.a)(oe,2),re=ce[0],se=ce[1];Object(o.useEffect)(function(){h(p)},[p,h]);var ie=function(){var e=Object(o.useState)(le.l),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(le.c),s=Object(l.a)(r,2),i=s[0],u=s[1];return Object(o.useEffect)(function(){return Y(a)},[a,Y]),Object(o.useEffect)(function(){return se(i)},[i,se]),c.a.createElement(c.a.Fragment,null,"Start Date"," ",c.a.createElement(ne.a,{type:"date",value:a,onChange:function(e){var t=e.currentTarget.value;return n(t)}}),"End Date",c.a.createElement(ne.a,{type:"date",value:i,onChange:function(e){var t=e.currentTarget.value;return u(t)}}))};Object(o.useEffect)(function(){Object(te.e)({},G,!1),Object(te.a)({},G,ie)},[G]),Object(o.useEffect)(function(){h(Object(ae.b)(p,J,H))},[H,h,J]),Object(o.useEffect)(function(){S(!1),s([{key:"from_date",value:X},{key:"to_date",value:re}])},[s,S,X,re]),Object(o.useEffect)(function(){t.status!==$.e.failure||P||S(!0)},[t,S]),Object(o.useEffect)(function(){var e=a.status;e!==$.e.failure||k?e!==$.e.success||k||(Z.toast.success("Added PayrollProcess"),D(!0)):D(!0)},[a,D]),Object(o.useEffect)(function(){var e=y.status,t=y.response;if(console.log(t,"saved"),e!==$.e.failure||k){if(e===$.e.success&&!k){if(Z.toast.success("Saved!"),t){var a=Object(n.a)({},p,{status:t.status,id:t.id});h(a)}D(!0)}}else D(!0)},[y,D]),Object(o.useEffect)(function(){var e=r.status,t=r.response;e!==$.e.failure||z?e!==$.e.success||z||(t.status===K.a.POSTED?(Z.toast.success("Payroll ".concat(t.status)),B(!0)):t.status===K.a.OPEN_SIV?(Z.toast.success("Payroll Approved"),B(!0)):t.status===K.a.REJECTED&&(Z.toast.success("Payroll Rejected"),B(!0)),B(!0)):B(!0)},[r,B]),Object(o.useEffect)(function(){var e=u.status;e!==$.e.failure||I?e!==$.e.success||I||(Z.toast.success("Edited PayrollProcess"),w(!0)):w(!0)},[u,w]),Object(o.useEffect)(function(){var e=f.status;e!==$.e.failure||R?e!==$.e.success||R||(Z.toast.success("Deleted PayrollProcess"),M(!0)):M(!0)},[f,M]);return c.a.createElement(W,{doneAdd:a.status===$.e.success&&!k,addPayrollProcess:function(e){D(!1),i(e)},doneEdit:u.status===$.e.success&&!I,editPayrollProcess:function(e){w(!1),d(e)},doneDelete:f.status===$.e.success&&!R,deletePayrollProcess:function(e){M(!1),m(e)},payrollProcesss:v,savePayrollProcess:function(e){D(!1);var t=Object(n.a)({},e);t.payroll_lines=t.payroll_lines.map(function(e){return Object(n.a)({},e,{employee:e.employee.id})}),console.log("request body",t),b(t)},saveAddStatus:y.status,postPayrollProcess:function(e){console.log(e,"payroll_data"),B(!1);var t={id:e.id,posting_date:e.posting_date,status:K.a.POSTED};_(t)}})}),ce={from_date:F.a.any(),to_date:F.a.any(),total_employee_pension:F.a.any(),total_income_tax:F.a.any(),total_loan:F.a.any(),total_local_sales:F.a.any(),total_overtime:F.a.any(),total_pension_contribution:F.a.any(),total_salary:F.a.any(),total_transport_allowance:F.a.any(),payroll_lines:F.a.array().items(F.a.object()).min(1)},re={data:{from_date:"",to_date:"",total_employee_pension:"",total_income_tax:"",total_loan:"",total_local_sales:"",total_overtime:"",total_pension_contribution:"",total_salary:"",total_transport_allowance:"",payroll_lines:[]},errors:{},selectedLine:"",lineCounter:1},se={_id:F.a.any().allow("").optional(),employee_name:F.a.any(),employee_department:F.a.any(),employee_position:F.a.any(),basic_salary:F.a.any(),employee_pension:F.a.any(),employer_pension:F.a.any(),income_tax:F.a.any(),net_salary:F.a.any(),non_taxable_income:F.a.any(),taxable_income:F.a.any(),total_deduction:F.a.any()};function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(I.a)(e);if(t){var l=Object(I.a)(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return Object(N.a)(this,a)}}var ue=function(e){Object(C.a)(a,e);var t=ie(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).doSubmit=Object(x.a)(S.a.mark(function e(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.props.submit(n.state.data);case 1:case"end":return e.stop()}},e)})),n.initialState=re,n.state=JSON.parse(JSON.stringify(n.initialState)),n.schema=ce,n.handleLineSave=n.handleLineSave.bind(Object(D.a)(n)),n.populateState=n.populateState.bind(Object(D.a)(n)),n.updateLines=n.updateLines.bind(Object(D.a)(n)),n.lineMapper=n.lineMapper.bind(Object(D.a)(n)),n.updateData=n.updateData.bind(Object(D.a)(n)),n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"lineMapper",value:function(){return this.props.isEdit||this.props.isView?function(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"payroll_lines"].map(function(e){return{_id:e.employee.id,employee_name:e.employee.first_name+" "+e.employee.father_name,employee_department:e.employee.department,employee_position:e.employee.position,basic_salary:e.basic_salary,employee_pension:e.employee_pension,employer_pension:e.employer_pension,income_tax:e.income_tax,net_salary:e.net_salary,non_taxable_income:e.non_taxable_income,taxable_income:e.taxable_income,total_deduction:e.total_deduction}})}(this.props.data,"payroll_lines"):[]}},{key:"populateState",value:function(e){var t,a,n=(t=e,a=this.lineMapper,Object(g.a)({from_date:t.from_date,to_date:t.to_date,total_employee_pension:t.total_employee_pension,total_income_tax:t.total_income_tax,total_loan:t.total_loan,total_local_sales:t.total_local_sales,total_overtime:t.total_overtime,total_pension_contribution:t.total_pension_contribution,total_salary:t.total_salary,total_transport_allowance:t.total_transport_allowance},"payroll_lines",a()));this.setState({lockUpdate:!0,data:n})}},{key:"updateLines",value:function(e){(e.length>0||this.state.data.payroll_lines.length>0)&&this.setState({data:Object(n.a)({},this.state.data,Object(g.a)({},"payroll_lines",e))})}},{key:"componentDidUpdate",value:function(){!this.props.isEdit&&!this.props.isView||this.state.lockUpdate||this.populateState(this.props.data)}},{key:"handleLineSave",value:function(e){this.setState({data:Object(n.a)({},this.state.data,Object(g.a)({},"payroll_lines",e))})}},{key:"updateData",value:function(e,t){this.setState({data:Object(n.a)({},this.state.data,Object(g.a)({},e,t))})}},{key:"render",value:function(){return c.a.createElement(y.a,{className:"border-0"},c.a.createElement(w.a,{className:"border-0"},"Saved Processes"),c.a.createElement(_.a,null,c.a.createElement(A.a,{onSubmit:this.handleSubmit},c.a.createElement(f.a,null,c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput("from_date","From Date","date")),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput("to_date","To Date","date")),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_employee_pension",label:"Total Employee Pension"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_income_tax",label:"Total Income Tax"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_loan",label:"Total Loan"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_local_sales",label:"Total Local Sales"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_overtime",label:"Total Overtime"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_pension_contribution",label:"Total Pension Contribution"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_salary",label:"Total Salary"})),c.a.createElement(m.a,{md:3,sm:12,xs:12},this.renderInput({name:"total_transport_allowance",label:"Total Transport Allowance"})),c.a.createElement(m.a,{md:12,sm:12,xs:12},c.a.createElement(L.a,null,"Lines "),c.a.createElement(_.a,null,c.a.createElement(M.b,{columns:(this.props,[{tag:"employee_name",label:"Name",type:"text"},{tag:"employee_department",label:"Department",type:"text"},{tag:"employee_position",label:"Position",type:"text"},{tag:"basic_salary",label:"Basic Salary",type:"text"},{tag:"employee_pension",label:"Employee Pension",type:"text"},{tag:"employer_pension",label:"Employer Pension",type:"text"},{tag:"income_tax",label:"Income Tax",type:"text"},{tag:"net_salary",label:"Net Salary",type:"text"},{tag:"non_taxable_income",label:"Non Taxable Income",type:"text"},{tag:"taxable_income",label:"Taxable Income",type:"text"},{tag:"total_deduction",label:"Total Deduction",type:"text"}]),disabled:this.props.disabled,data:this.state.data.payroll_lines,callback:this.updateLines,schema:se,startForm:this.props.isAdd}))),c.a.createElement(m.a,{size:"xl",align:"center"},this.renderButton("Save"))))))}}]),a}(R.a);function de(e){var t=e.payrollProcesss,a=e.doneAdd,n=e.doneEdit,r=(e.savePayrollProcess,e.postPayrollProcess),s=e.donePatch,i=Object(o.useReducer)(j.c,j.b),u=Object(l.a)(i,2),d=u[0],f=u[1],E=[{path:"from_date",label:"From Date"},{path:"to_date",label:"To Date"},{path:"total_employee_pension",label:"Total Employee Pension"},{path:"total_loan",label:"Total Loan"},{path:"total_local_sales",label:"Total Local Sales"},{path:"total_overtime",label:"Total Overtime"},{path:"total_pension_contribution",label:"Total Pension Contribution"},{path:"total_salary",label:"Total Salary"},{path:"total_transport_allowance",label:"Total Transport Allowance"},{path:"status",label:"Status"},{key:"view",content:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){Object(j.a)({type:"VIEW",Component:ue,data:e,title:"View Payroll"},f)}},c.a.createElement(v.M,null)),e.status===K.a.SAVED&&c.a.createElement(b.a,{className:"m-1",size:"sm",outline:!0,color:"success",onClick:function(){Object(j.a)({type:"POST",submit:r,submitButtonLabel:"Post",data:e,title:"Post"},f)}},c.a.createElement(v.A,null)," Post"))}}];return Object(o.useEffect)(function(){(a||n||s)&&Object(j.a)({type:"CLOSE"},f)},[a,n,s]),console.log("payrollProcesss",t),c.a.createElement("div",null,c.a.createElement(p.a,null,c.a.createElement(O.a,{data:d.data,openModal:d.openModal,component:d.Component,toggle:j.a,dispatch:f,title:d.title}),c.a.createElement(m.a,{align:"right",className:"mb-1 pl-3 pr-3"}),c.a.createElement(y.a,{className:"border-0"},c.a.createElement(_.a,null,c.a.createElement(h.a,{title:"Saved Payroll Process",columns:E,data:t})))))}var fe=Object(Y.b)(function(e,t){return Object(n.a)({},t,{fetchStatus:Object(X.j)(e),addStatus:Object(X.g)(e),editStatus:Object(X.i)(e),patchStatus:Object(X.k)(e),deleteStatus:Object(X.h)(e),payrollProcesss:Object(X.l)(e)})},function(e){return{fetchPayrollProcesss:function(t){return e(Object(X.c)())},addPayrollProcess:function(t){return e(Object(X.a)(t))},editPayrollProcess:function(t){return e(Object(X.b)(t))},deletePayrollProcess:function(t){return e(Object(X.e)(t))},patchPayrollProcess:function(t){return e(Object(X.d)(t))}}})(function(e){var t=e.fetchStatus,a=e.addStatus,n=e.patchStatus,r=e.fetchPayrollProcesss,s=e.addPayrollProcess,i=e.editStatus,u=e.editPayrollProcess,d=e.deleteStatus,f=e.deletePayrollProcess,m=e.payrollProcesss,p=(e.saveAddStatus,e.patchPayrollProcess),b=Object(o.useState)([]),y=Object(l.a)(b,2),_=y[0],O=y[1],j=Object(o.useState)(!0),v=Object(l.a)(j,2),h=v[0],E=v[1],g=Object(o.useState)(!0),P=Object(l.a)(g,2),S=P[0],x=P[1],T=Object(o.useState)(!0),k=Object(l.a)(T,2),D=k[0],C=k[1],N=Object(o.useState)(!0),I=Object(l.a)(N,2),w=I[0],A=I[1],L=Object(o.useState)(!0),R=Object(l.a)(L,2),M=R[0],V=R[1],F=Object(o.useState)("name"),z=Object(l.a)(F,1)[0],B=Object(o.useContext)(ee.c).searchValue,U=Object(o.useContext)(ee.b).dispatch,J=Object(o.useState)(le.l),H=Object(l.a)(J,2),G=H[0],q=H[1],W=Object(o.useState)(le.c),Q=Object(l.a)(W,2),X=Q[0],Y=Q[1];Object(o.useEffect)(function(){O(m)},[m,O]);var oe=function(){var e=Object(o.useState)(le.l),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(le.c),s=Object(l.a)(r,2),i=s[0],u=s[1];return Object(o.useEffect)(function(){return q(a)},[a,q]),Object(o.useEffect)(function(){return Y(i)},[i,Y]),c.a.createElement(c.a.Fragment,null,"Start Date"," ",c.a.createElement(ne.a,{type:"date",value:a,onChange:function(e){var t=e.currentTarget.value;return n(t)}}),"End Date",c.a.createElement(ne.a,{type:"date",value:i,onChange:function(e){var t=e.currentTarget.value;return u(t)}}))};Object(o.useEffect)(function(){Object(te.e)({},U,!1),Object(te.a)({},U,oe)},[U]),Object(o.useEffect)(function(){O(Object(ae.b)(m,z,B))},[B,O,z]),Object(o.useEffect)(function(){E(!1),r([{key:"from_date",value:G},{key:"to_date",value:X}])},[r,E,G,X]),Object(o.useEffect)(function(){t.status!==$.e.failure||h||E(!0)},[t,E]),Object(o.useEffect)(function(){var e=a.status;e!==$.e.failure||S?e!==$.e.success||S||(Z.toast.success("Added PayrollProcess"),x(!0)):x(!0)},[a,x]),Object(o.useEffect)(function(){var e=n.status,t=n.response;e!==$.e.failure||M?e!==$.e.success||M||(t.status===K.a.POSTED?(Z.toast.success("Payroll ".concat(t.status)),V(!0)):t.status===K.a.OPEN_SIV?(Z.toast.success("Payroll Approved"),V(!0)):t.status===K.a.REJECTED&&(Z.toast.success("Payroll Rejected"),V(!0)),V(!0)):V(!0)},[n,V]),Object(o.useEffect)(function(){var e=i.status;e!==$.e.failure||D?e!==$.e.success||D||(Z.toast.success("Edited PayrollProcess"),C(!0)):C(!0)},[i,C]),Object(o.useEffect)(function(){var e=d.status;e!==$.e.failure||w?e!==$.e.success||w||(Z.toast.success("Deleted PayrollProcess"),A(!0)):A(!0)},[d,A]);return c.a.createElement(de,{doneAdd:a.status===$.e.success&&!S,addPayrollProcess:function(e){x(!1),s(e)},doneEdit:i.status===$.e.success&&!D,editPayrollProcess:function(e){C(!1),u(e)},doneDelete:d.status===$.e.success&&!w,donePatch:n.status===$.e.success&&!M,deletePayrollProcess:function(e){A(!1),f(e)},payrollProcesss:_,savePayrollProcess:function(e){x(!1)},postPayrollProcess:function(e){console.log(e,"payroll_data"),V(!1);var t={id:e.id,posting_date:e.posting_date,status:K.a.POSTED};p(t)}})}),me=function(){var e=Object(o.useState)("1"),t=Object(l.a)(e,2),a=t[0],n=t[1],b=function(e){a!==e&&n(e)};return c.a.createElement("div",null,c.a.createElement(p.a,null,c.a.createElement(r.a,{tabs:!0,className:"mb-2"},c.a.createElement(s.a,null,c.a.createElement(i.a,{className:"1"===a?"activepageTabBlue":"notactivePageTabBlue",onClick:function(){b("1")}},"Payroll Process")),c.a.createElement(s.a,null,c.a.createElement(i.a,{className:"2"===a?"activepageTabBlue":"notactivePageTabBlue",onClick:function(){b("2")}},"Saved Process"))),c.a.createElement(u.a,{activeTab:a},c.a.createElement(d.a,{tabId:"1"},"1"===a?c.a.createElement(f.a,null,c.a.createElement(m.a,null,c.a.createElement(oe,null))):null),c.a.createElement(d.a,{tabId:"2"},"2"===a?c.a.createElement(f.a,null,c.a.createElement(m.a,null,c.a.createElement(fe,null))):null))))};t.default=Object(Y.b)(function(e,t){return Object(n.a)({},t,{fetchStatus:Object(Q.i)(e),addStatus:Object(Q.f)(e),editStatus:Object(Q.h)(e),patchStatus:Object(X.k)(e),deleteStatus:Object(Q.g)(e),payrollProcesss:Object(Q.j)(e),saveAddStatus:Object(X.g)(e)})},function(e){return{fetchPayrollProcesss:function(t){return e(Object(Q.c)(t))},addPayrollProcess:function(t){return e(Object(Q.a)(t))},editPayrollProcess:function(t){return e(Object(Q.b)(t))},deletePayrollProcess:function(t){return e(Object(Q.d)(t))},savePayrollProcess:function(t){return e(Object(X.a)(t))},patchPayrollProcess:function(t){return e(Object(X.d)(t))}}})(function(e){var t=e.fetchStatus,a=e.addStatus,r=e.patchStatus,s=e.fetchPayrollProcesss,i=e.addPayrollProcess,u=e.editStatus,d=e.editPayrollProcess,f=e.deleteStatus,m=e.deletePayrollProcess,p=e.payrollProcesss,b=e.savePayrollProcess,y=e.saveAddStatus,_=e.patchPayrollProcess,O=Object(o.useState)([]),j=Object(l.a)(O,2),v=j[0],h=j[1],E=Object(o.useState)(!0),g=Object(l.a)(E,2),P=g[0],S=g[1],x=Object(o.useState)(!0),T=Object(l.a)(x,2),k=T[0],D=T[1],C=Object(o.useState)(!0),N=Object(l.a)(C,2),I=N[0],w=N[1],A=Object(o.useState)(!0),L=Object(l.a)(A,2),R=L[0],M=L[1],V=Object(o.useState)(!0),F=Object(l.a)(V,2),z=F[0],B=F[1],U=Object(o.useState)("name"),J=Object(l.a)(U,1)[0],H=Object(o.useContext)(ee.c).searchValue,G=Object(o.useContext)(ee.b).dispatch,q=Object(o.useState)(le.l),W=Object(l.a)(q,2),Q=W[0],X=W[1],Y=Object(o.useState)(le.c),oe=Object(l.a)(Y,2),ce=oe[0],re=oe[1];Object(o.useEffect)(function(){h(p)},[p,h]);var se=function(){var e=Object(o.useState)(le.l),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(le.c),s=Object(l.a)(r,2),i=s[0],u=s[1];return Object(o.useEffect)(function(){return X(a)},[a,X]),Object(o.useEffect)(function(){return re(i)},[i,re]),c.a.createElement(c.a.Fragment,null,"Start Date"," ",c.a.createElement(ne.a,{type:"date",value:a,onChange:function(e){var t=e.currentTarget.value;return n(t)}}),"End Date",c.a.createElement(ne.a,{type:"date",value:i,onChange:function(e){var t=e.currentTarget.value;return u(t)}}))};Object(o.useEffect)(function(){Object(te.e)({},G,!1),Object(te.a)({},G,se)},[G]),Object(o.useEffect)(function(){h(Object(ae.b)(p,J,H))},[H,h,J]),Object(o.useEffect)(function(){S(!1),s([{key:"from_date",value:Q},{key:"to_date",value:ce}])},[s,S,Q,ce]),Object(o.useEffect)(function(){t.status!==$.e.failure||P||S(!0)},[t,S]),Object(o.useEffect)(function(){var e=a.status;e!==$.e.failure||k?e!==$.e.success||k||(Z.toast.success("Added PayrollProcess"),D(!0)):D(!0)},[a,D]),Object(o.useEffect)(function(){var e=y.status,t=y.response;if(console.log(t,"saved"),e!==$.e.failure||k){if(e===$.e.success&&!k){if(Z.toast.success("Saved!"),t){var a=Object(n.a)({},p,{status:t.status,id:t.id});h(a)}D(!0)}}else D(!0)},[y,D]),Object(o.useEffect)(function(){var e=r.status,t=r.response;e!==$.e.failure||z?e!==$.e.success||z||(t.status===K.a.POSTED?(Z.toast.success("Good Receiving Note ".concat(t.status)),B(!0)):t.status===K.a.OPEN_SIV?(Z.toast.success("Good Receiving Note Approved"),B(!0)):t.status===K.a.REJECTED&&(Z.toast.success("Good Receiving Note Rejected"),B(!0)),B(!0)):B(!0)},[r,B]),Object(o.useEffect)(function(){var e=u.status;e!==$.e.failure||I?e!==$.e.success||I||(Z.toast.success("Edited PayrollProcess"),w(!0)):w(!0)},[u,w]),Object(o.useEffect)(function(){var e=f.status;e!==$.e.failure||R?e!==$.e.success||R||(Z.toast.success("Deleted PayrollProcess"),M(!0)):M(!0)},[f,M]);return c.a.createElement(me,{doneAdd:a.status===$.e.success&&!k,addPayrollProcess:function(e){D(!1),i(e)},doneEdit:u.status===$.e.success&&!I,editPayrollProcess:function(e){w(!1),d(e)},doneDelete:f.status===$.e.success&&!R,deletePayrollProcess:function(e){M(!1),m(e)},payrollProcesss:v,savePayrollProcess:function(e){D(!1);var t=Object(n.a)({},e);t.payroll_lines=t.payroll_lines.map(function(e){return Object(n.a)({},e,{employee:e.employee.id})}),console.log("request body",t),b(t)},saveAddStatus:y.status,postPayrollProcess:function(e){console.log(e,"payroll_data"),B(!1);var t={id:e.id,posting_date:e.posting_date,status:K.a.POSTED};_(t)}})})}}]);
//# sourceMappingURL=77.6989eb1a.chunk.js.map