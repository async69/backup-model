(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{1573:function(e,t,a){"use strict";var n=a(3),r=a(1),i=a.n(r),c=a(27),u=a(28),o=a(33),l=a(34),s=a(23);function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var d=function(e){Object(o.a)(a,e);var t=f(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return i.a.createElement("thead",null,i.a.createElement("tr",null,this.props.columns.map(function(e){return i.a.createElement("th",{key:e.path||e.key},e.label)})))}}]),a}(r.Component),m=a(1583),p=a.n(m),b=a(53),v=a(43),g=/[0-9\-+#]/,h=/[^\d\-+#]/g;function y(e){return e.search(g)}function O(e,t,a){var n=!1,r={value:e};e<0&&(n=!0,r.value=-r.value),r.sign=n?"-":"",r.value=Number(r.value).toFixed(t.fraction&&t.fraction.length),r.value=Number(r.value).toString();var i=t.fraction&&t.fraction.lastIndexOf("0"),c=r.value.split("."),u=Object(v.a)(c,2),o=u[0],l=void 0===o?"0":o,s=u[1],f=void 0===s?"":s;return(!f||f&&f.length<=i)&&(f=i<0?"":Number("0."+f).toFixed(i+1).replace("0.","")),r.integer=l,r.fraction=f,function(e,t){e.result="";var a=t.integer.split(t.separator),n=a.join(""),r=n&&n.indexOf("0");if(r>-1)for(;e.integer.length<n.length-r;)e.integer="0"+e.integer;else 0===Number(e.integer)&&(e.integer="");var i=a[1]&&a[a.length-1].length;if(i)for(var c=e.integer.length,u=c%i,o=0;o<c;o++)e.result+=e.integer.charAt(o),!((o-u+1)%i)&&o<c-i&&(e.result+=t.separator);else e.result=e.integer;e.result+=t.fraction&&e.fraction?t.decimal+e.fraction:""}(r,t),"0"!==r.result&&""!==r.result||(n=!1,r.sign=""),!n&&t.maskHasPositiveSign?r.sign="+":n&&t.maskHasPositiveSign?r.sign="-":n&&(r.sign=a&&a.enforceMaskSign&&!t.maskHasNegativeSign?"":"-"),r}var j=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||isNaN(Number(t)))return t;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#.##",t={},a=e.length,n=y(e);t.prefix=n>0?e.substring(0,n):"";var r=y(e.split("").reverse().join("")),i=a-r,c=e.substring(i,i+1),u=i+("."===c||","===c?1:0);t.suffix=r>0?e.substring(u,a):"",t.mask=e.substring(n,u),t.maskHasNegativeSign="-"===t.mask.charAt(0),t.maskHasPositiveSign="+"===t.mask.charAt(0);var o=t.mask.match(h);return t.decimal=o&&o[o.length-1]||".",t.separator=o&&o[1]&&o[0]||",",o=t.mask.split(t.decimal),t.integer=o[0],t.fraction=o[1],t}(e),r=O(t,n,a);return n.prefix+r.sign+r.result+n.suffix},E=a(1578),S=a(1584);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var T=function(e){Object(o.a)(a,e);var t=k(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderCell=function(e,t,a){if(console.log("loaded",a),t.content)return t.content(e,a);var n=p.a.get(e,t.path),r=E.findIndex(function(e){return e===String(t.path)});return S.findIndex(function(e){return e===String(t.path)})>=0?Object(b.e)(n):r>=0?j("#,###.00",n,{enforceMaskSign:!0}):n?String(n):""},e.createKey=function(e,t){return e._id+(t.path||t.key)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.columns;return i.a.createElement("tbody",null,a.map(function(t){return i.a.createElement("tr",{key:t.id},n.map(function(a){return i.a.createElement("td",{key:e.createKey(t,a)},e.renderCell(t,a,e.props.loading))}))}))}}]),a}(r.Component),x=a(1643),C=a(1644),N=a(1645),Q=a(109),R=a(1575),D=function(){var e=Object(r.useContext)(Q.a),t=e.rootState,a=e.dispatch,n=Object(r.useState)(0),c=Object(v.a)(n,2),u=c[0],o=c[1],l=Object(r.useState)(0),s=Object(v.a)(l,2),f=s[0],d=s[1],m=Object(r.useState)(0),p=Object(v.a)(m,2),b=p[0],g=p[1],h=Object(r.useState)(0),y=Object(v.a)(h,2),O=y[0],j=y[1],E=Object(r.useState)(!1),S=Object(v.a)(E,2),k=S[0],T=S[1],D=Object(r.useState)(!1),w=Object(v.a)(D,2),_=w[0],A=w[1],L=Object(r.useState)({count:0,results:[]}),P=Object(v.a)(L,2),M=P[0],q=P[1],I=Object(r.useState)(0),F=Object(v.a)(I,2),H=F[0],U=F[1],z=Object(r.useState)(""),V=Object(v.a)(z,2),B=V[0],J=V[1];Object(r.useEffect)(function(){Object(R.a)(t)},[t]),Object(r.useEffect)(function(){var e=M.count,t=M.results;0===t.length&&0===e||(j(Math.ceil(e/t.length)),d(t.length),g(e),T(!0))},[B,j,d,g,T]),Object(r.useEffect)(function(){if(H){var e=M.count,t=M.results;f<=t.length&&(j(Math.ceil(e/t.length)),d(t.length),g(e),T(!0))}},[H,M]),Object(r.useEffect)(function(){try{var e=Object(R.b)(t),a=e.results,n=e.amount,r=e.activeTab;if(""!==r?J(r):console.warn("Pass active tab for paginations"),n!==H&&"undefined"!==typeof n&&(U(n),q(a)),"undefined"!==String(a)&&!k){var i=a.count,c=a.results;j(Math.ceil(i/c.length)),d(c.length),g(i),T(!0)}}catch(u){}},[t,U,q]);var K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_||A(!0),o(e),t&&d(t)};return Object(r.useEffect)(function(){u<b&&_&&Object(R.c)({},a,{offset:u,limit:f,onClick:_})},[u,f]),i.a.createElement("div",null,i.a.createElement(x.a,{className:"pagination left",size:"md",color:"primary"},i.a.createElement(C.a,{disabled:0===u},i.a.createElement(N.a,{first:!0,href:"#",onClick:function(){return K(0)}},"First")),i.a.createElement(C.a,null,i.a.createElement(N.a,{previous:!0,disabled:0===u,onClick:function(){return K(u-f)}})),Array(O).fill("").map(function(e,t){return i.a.createElement(C.a,{active:t===Math.floor(u/f)},i.a.createElement(N.a,{onClick:function(){return K(t*f)}},t+1))}),i.a.createElement(C.a,null,i.a.createElement(N.a,{next:!0,onClick:function(){return K(u+f)},disabled:u+f>=b})),i.a.createElement(C.a,{disabled:u+f>=b},i.a.createElement(N.a,{last:!0,onClick:function(){return K((O-1)*f)}},"Last"))))},w=a(1549),_=a(1554),A=a(1619),L=a(177);t.a=Object(L.b)(function(e,t){return Object(n.a)({state:e},t)})(function(e){var t=e.columns,a=e.data,n=e.title,c=e.state,u=e.getLoading;Object(r.useEffect)(function(){"function"===typeof u&&console.log("result",u(c,{isPatch:!0}))},[c,u]);var o=Object(r.useContext)(Q.a).rootState;return Object(r.useEffect)(function(){},[o]),console.log(u(c,{isPatch:!0})),i.a.createElement(w.a,{className:"p-2"},i.a.createElement(_.a,{className:"tableHeaders border-0"},i.a.createElement("div",null,""+n?n:"")),i.a.createElement(A.a,{size:"md",responsive:!0,striped:!0},i.a.createElement(d,{columns:t}),i.a.createElement(T,{data:a,columns:t,loading:"fucntion"===typeof u?u(c,{isPatch:!0}):{}}),i.a.createElement(D,null)))})},1575:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"d",function(){return i}),a.d(t,"a",function(){return c}),a.d(t,"c",function(){return u});var n=a(38),r=function(e){return e.page_values?e.page_values:null},i=function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if("undefined"!==typeof a){if(0===a.count)return null;t({type:n.a.UPDATE,stateName:"page_values",payload:{results:a,options:i,pageLimit:a.length?5*Math.ceil(a.length/5):5,amount:r(e)?r(e).amount+1:0,activeTab:c}})}},c=function(e){var t=e.page_values;try{var a=t.pageLimit?t.pageLimit:0;return a||0}catch(n){}},u=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{offset:0,limit:0};t({type:n.a.UPDATE,stateName:"page_values",payload:{options:a}})}},1578:function(e){e.exports=["credit","debit","total","total_amount","paid_amount","account_balance","balance","price","unit_price","tax","unit_cost","tax_amount","amount_excl_vat","quantity","inventory_quantity","account.balance"]},1580:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return i});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=void 0;return a.length>0&&(r=e.filter(function(e){var r=n?"":"^";try{return a&&String(e[t]).match(new RegExp(r+a,"gi"))}catch(i){console.error("Tag does not exist: ".concat(String(i)))}return null})),"undefined"===typeof r?e:r},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"posting_date",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=void 0;return a.length>0&&n.length>0&&(r=e.filter(function(e){try{var r=new Date(e[t]).getTime(),i=new Date(a).getTime(),c=new Date(n).getTime();return a&&n&&r<=c&&r>=i}catch(u){console.error("Tag does not exist: ".concat(String(u)))}return null})),"undefined"===typeof r?e:r},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"country",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addresses",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=void 0;return a.length>0&&(i=e.filter(function(e){var i=r?"":"^";try{var c=e[n].findIndex(function(e){return e[t].match(new RegExp(i+a,"gi"))});return a&&c>=0}catch(u){console.error("Tag does not exist: ".concat(String(u)))}return null})),"undefined"===typeof i?e:i}},1582:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}},2394:function(e,t,a){"use strict";a.r(t);var n=a(43),r=a(1),i=a.n(r),c=a(3),u=a(1574),o=a(1555),l=a(1788),s=a(1549),f=a(1550),d=a(1579),m=a(27),p=a(28),b=a(33),v=a(34),g=a(23),h=a(1577),y=a(1576),O=a.n(y),j=a(1554),E=a(1556),S=a(1787),k=a(1622);function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(g.a)(e);if(t){var r=Object(g.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(v.a)(this,a)}}var x=function(e){Object(b.a)(a,e);var t=T(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).initialState={data:{id:"",name:"",code:"",remarks:""},errors:{}},n.state=n.initialState,n.schema={id:O.a.string().allow("").optional(),name:O.a.string().required().label("Name"),code:O.a.string().required().label("Code"),remarks:O.a.string().allow("").optional()},n}return Object(p.a)(a,[{key:"populateState",value:function(e){var t=Object(c.a)({},this.state,{data:{id:e.id?e.id:"",name:e.name?e.name:"",code:e.code?e.code:"",remarks:e.remarks?e.remarks:""},lockUpdate:!0});this.setState(t)}},{key:"componentDidUpdate",value:function(){!this.props.isEdit&&!this.props.isView||this.state.lockUpdate||this.populateState(this.props.data)}},{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"doSubmit",value:function(){this.props.submit(this.state.data)}},{key:"render",value:function(){return i.a.createElement(s.a,{className:"border-0"},i.a.createElement(j.a,{className:"border-0"},this.props.title),i.a.createElement(f.a,null,i.a.createElement(E.a,{onSubmit:this.handleSubmit},i.a.createElement(S.a,null,i.a.createElement(l.a,{md:6,sm:12,xs:12},this.renderInput({name:"name",label:"Name"})),i.a.createElement(l.a,{md:6,sm:12,xs:12},this.renderInput({name:"code",label:"Code"})),i.a.createElement(l.a,{md:12,sm:12,xs:12},this.renderInput({name:"remarks",label:"Remarks",type:"textarea"}))),i.a.createElement(k.a,{align:"center"},this.renderButton("Save")))))}}]),a}(h.a),C=a(17),N=a(1582),Q=a(1573),R=a(1581),D=a(53),w=function(e){var t=e.doneAdd,a=e.addQualificationType,m=e.doneEdit,p=e.editQualificationType,b=e.deleteQualificationType,v=e.qualificationTypes,g=Object(r.useReducer)(R.c,R.b),h=Object(n.a)(g,2),y=h[0],O=h[1],j=[{path:"name",label:"Name"},{path:"code",label:"Code"},{path:"remarks",label:"Remarks"},{path:"updated_at",label:"Last Modified Date"},{key:"view",content:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){Object(R.a)({type:"VIEW",Component:x,data:e,title:"View Qualification Type"},O)}},i.a.createElement(C.M,null)),i.a.createElement(o.a,{className:"m-1",size:"sm",outline:!0,color:"warning",onClick:function(){Object(R.a)({type:"EDIT",Component:x,submit:p,data:e,title:"Edit Qualification Type"},O)}},i.a.createElement(C.s,null)),i.a.createElement(o.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){Object(R.a)({type:"DELETE",deleteOptions:{okCallback:E,title:"Are you sure?",id:e.id,message:""}},O)}},i.a.createElement(C.p,null)))}}];Object(r.useEffect)(function(){(t||m)&&Object(R.a)({type:"CLOSE"},O)},[t,m]);var E=function(e){b(e)};return i.a.createElement("div",null,i.a.createElement(u.a,{title:"Qualification Type",breadcrumbs:[{name:"Human Resource",active:!0}]},i.a.createElement(d.a,{data:y.data,openModal:y.openModal,component:y.Component,toggle:R.a,dispatch:O,title:y.title}),i.a.createElement(l.a,{align:"right",className:"mb-1 pl-3 pr-3"},i.a.createElement(o.a,{onClick:function(){return Object(R.a)({type:"ADD",Component:x,submit:a,title:"New Qualification Type"},O)},outline:!0,size:"sm"},"New Qualification Type")),i.a.createElement(s.a,{className:"border-0"},i.a.createElement(f.a,null,i.a.createElement(Q.a,{title:"Qualification Types",columns:j,data:Object(N.a)(v.map(function(e){return Object(c.a)({},e,{updated_at:Object(D.d)(e.updated_at)})}))})))))},_=new(a(6).a)({stateName:"qualification_type"});_.setURL("/qualification-type"),_.createSlice();var A=_.getEntity();A.stateName,A.reducer;_.enableResults({fetchEnabled:!1});var L=_.getSelectors(),P=L.selectAddStatus,M=L.selectFetchStatus,q=L.selectEditStatus,I=L.selectDeleteStatus,F=L.selectData,H=_.getAPIHandles(),U=H.Add,z=H.Fetch,V=H.Edit,B=H.Remove,J=(H.Patch,a(177)),K=a(102),W=a(19),G=a(54),X=a(36),Y=a(1580),Z=a(1557);t.default=Object(J.b)(function(e){return{fetchStatus:M(e),addStatus:P(e),editStatus:q(e),deleteStatus:I(e),qualificationTypes:F(e)}},function(e){return{fetchQualificationTypes:function(){return e(z())},addQualificationType:function(t){return e(U(t))},editQualificationType:function(t){return e(V(t))},deleteQualificationType:function(t){return e(B(t))}}})(function(e){var t=e.fetchStatus,a=e.addStatus,c=e.fetchQualificationTypes,u=e.addQualificationType,o=e.editStatus,l=e.editQualificationType,s=e.deleteStatus,f=e.deleteQualificationType,d=e.qualificationTypes,m=Object(r.useState)([]),p=Object(n.a)(m,2),b=p[0],v=p[1],g=Object(r.useState)(!0),h=Object(n.a)(g,2),y=h[0],O=h[1],j=Object(r.useState)(!0),E=Object(n.a)(j,2),S=E[0],k=E[1],T=Object(r.useState)(!0),x=Object(n.a)(T,2),C=x[0],N=x[1],Q=Object(r.useState)(!0),R=Object(n.a)(Q,2),D=R[0],_=R[1],A=Object(r.useState)("name"),L=Object(n.a)(A,2),P=L[0],M=L[1];Object(r.useEffect)(function(){v(d)},[d,v]);var q=Object(r.useContext)(G.c).searchValue,I=Object(r.useContext)(G.b).dispatch,F=function(){return i.a.createElement(Z.a,{type:"select",onChange:function(e){var t=e.currentTarget.value;return M(t)}},i.a.createElement("option",{value:"name"},"By Name"),i.a.createElement("option",{value:"code"},"By Code"))};Object(r.useEffect)(function(){Object(X.a)({},I,F)},[I]),Object(r.useEffect)(function(){v(Object(Y.b)(d,P,q))},[q,v,P]),Object(r.useEffect)(function(){O(!1),c()},[c,O]),Object(r.useEffect)(function(){t.status!==W.e.failure||y||(K.toast.error("Failed fetching Qualification Level Types"),O(!0))},[t,O]),Object(r.useEffect)(function(){var e=a.status,t=a.errors;e!==W.e.failure||S?e!==W.e.success||S||(K.toast.success("Added Qualification Level Type"),k(!0)):(K.toast.error(String(Object.values(t.errors))),k(!0))},[a,k]),Object(r.useEffect)(function(){var e=o.status,t=o.errors;e!==W.e.failure||C?e!==W.e.success||C||(K.toast.success("Edited Qualification Level Type"),N(!0)):(K.toast.error(String(Object.values(t.errors))),K.toast.error("Failed editing Qualification Level Type"),N(!0))},[o,N]),Object(r.useEffect)(function(){var e=s.status;e!==W.e.failure||D?e!==W.e.success||D||(K.toast.success("Deleted Qualification Level Type"),_(!0)):(K.toast.error(s.errors.errors.detail[0]),_(!0))},[s,_]);return i.a.createElement(w,{doneAdd:a.status===W.e.success&&!S,addQualificationType:function(e){k(!1);var t={name:e.name,code:e.code,remarks:e.remarks};u(t)},doneEdit:o.status===W.e.success&&!C,editQualificationType:function(e){N(!1);var t={id:e.id,name:e.name,code:e.code,remarks:e.remarks};l(t)},doneDelete:s.status===W.e.success&&!D,deleteQualificationType:function(e){_(!1),f(e)},qualificationTypes:b})})}}]);
//# sourceMappingURL=74.c2ec5059.chunk.js.map