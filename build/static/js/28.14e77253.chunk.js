(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1573:function(e,t,a){"use strict";var n=a(3),c=a(1),r=a.n(c),o=a(27),u=a(28),i=a(33),s=a(34),l=a(23);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var c=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,c)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var m=function(e){Object(i.a)(a,e);var t=b(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("thead",null,r.a.createElement("tr",null,this.props.columns.map(function(e){return r.a.createElement("th",{key:e.path||e.key},e.label)})))}}]),a}(c.Component),d=a(1583),f=a.n(d),p=a(53),h=a(43),O=/[0-9\-+#]/,v=/[^\d\-+#]/g;function g(e){return e.search(O)}function k(e,t,a){var n=!1,c={value:e};e<0&&(n=!0,c.value=-c.value),c.sign=n?"-":"",c.value=Number(c.value).toFixed(t.fraction&&t.fraction.length),c.value=Number(c.value).toString();var r=t.fraction&&t.fraction.lastIndexOf("0"),o=c.value.split("."),u=Object(h.a)(o,2),i=u[0],s=void 0===i?"0":i,l=u[1],b=void 0===l?"":l;return(!b||b&&b.length<=r)&&(b=r<0?"":Number("0."+b).toFixed(r+1).replace("0.","")),c.integer=s,c.fraction=b,function(e,t){e.result="";var a=t.integer.split(t.separator),n=a.join(""),c=n&&n.indexOf("0");if(c>-1)for(;e.integer.length<n.length-c;)e.integer="0"+e.integer;else 0===Number(e.integer)&&(e.integer="");var r=a[1]&&a[a.length-1].length;if(r)for(var o=e.integer.length,u=o%r,i=0;i<o;i++)e.result+=e.integer.charAt(i),!((i-u+1)%r)&&i<o-r&&(e.result+=t.separator);else e.result=e.integer;e.result+=t.fraction&&e.fraction?t.decimal+e.fraction:""}(c,t),"0"!==c.result&&""!==c.result||(n=!1,c.sign=""),!n&&t.maskHasPositiveSign?c.sign="+":n&&t.maskHasPositiveSign?c.sign="-":n&&(c.sign=a&&a.enforceMaskSign&&!t.maskHasNegativeSign?"":"-"),c}var y=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||isNaN(Number(t)))return t;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#.##",t={},a=e.length,n=g(e);t.prefix=n>0?e.substring(0,n):"";var c=g(e.split("").reverse().join("")),r=a-c,o=e.substring(r,r+1),u=r+("."===o||","===o?1:0);t.suffix=c>0?e.substring(u,a):"",t.mask=e.substring(n,u),t.maskHasNegativeSign="-"===t.mask.charAt(0),t.maskHasPositiveSign="+"===t.mask.charAt(0);var i=t.mask.match(v);return t.decimal=i&&i[i.length-1]||".",t.separator=i&&i[1]&&i[0]||",",i=t.mask.split(t.decimal),t.integer=i[0],t.fraction=i[1],t}(e),c=k(t,n,a);return n.prefix+c.sign+c.result+n.suffix},j=a(1578),A=a(1584);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var c=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,c)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var C=function(e){Object(i.a)(a,e);var t=E(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).renderCell=function(e,t,a){if(console.log("loaded",a),t.content)return t.content(e,a);var n=f.a.get(e,t.path),c=j.findIndex(function(e){return e===String(t.path)});return A.findIndex(function(e){return e===String(t.path)})>=0?Object(p.e)(n):c>=0?y("#,###.00",n,{enforceMaskSign:!0}):n?String(n):""},e.createKey=function(e,t){return e._id+(t.path||t.key)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.columns;return r.a.createElement("tbody",null,a.map(function(t){return r.a.createElement("tr",{key:t.id},n.map(function(a){return r.a.createElement("td",{key:e.createKey(t,a)},e.renderCell(t,a,e.props.loading))}))}))}}]),a}(c.Component),N=a(1643),S=a(1644),_=a(1645),T=a(109),x=a(1575),B=function(){var e=Object(c.useContext)(T.a),t=e.rootState,a=e.dispatch,n=Object(c.useState)(0),o=Object(h.a)(n,2),u=o[0],i=o[1],s=Object(c.useState)(0),l=Object(h.a)(s,2),b=l[0],m=l[1],d=Object(c.useState)(0),f=Object(h.a)(d,2),p=f[0],O=f[1],v=Object(c.useState)(0),g=Object(h.a)(v,2),k=g[0],y=g[1],j=Object(c.useState)(!1),A=Object(h.a)(j,2),E=A[0],C=A[1],B=Object(c.useState)(!1),D=Object(h.a)(B,2),R=D[0],I=D[1],w=Object(c.useState)({count:0,results:[]}),P=Object(h.a)(w,2),M=P[0],F=P[1],q=Object(c.useState)(0),U=Object(h.a)(q,2),L=U[0],H=U[1],z=Object(c.useState)(""),V=Object(h.a)(z,2),K=V[0],W=V[1];Object(c.useEffect)(function(){Object(x.a)(t)},[t]),Object(c.useEffect)(function(){var e=M.count,t=M.results;0===t.length&&0===e||(y(Math.ceil(e/t.length)),m(t.length),O(e),C(!0))},[K,y,m,O,C]),Object(c.useEffect)(function(){if(L){var e=M.count,t=M.results;b<=t.length&&(y(Math.ceil(e/t.length)),m(t.length),O(e),C(!0))}},[L,M]),Object(c.useEffect)(function(){try{var e=Object(x.b)(t),a=e.results,n=e.amount,c=e.activeTab;if(""!==c?W(c):console.warn("Pass active tab for paginations"),n!==L&&"undefined"!==typeof n&&(H(n),F(a)),"undefined"!==String(a)&&!E){var r=a.count,o=a.results;y(Math.ceil(r/o.length)),m(o.length),O(r),C(!0)}}catch(u){}},[t,H,F]);var G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;R||I(!0),i(e),t&&m(t)};return Object(c.useEffect)(function(){u<p&&R&&Object(x.c)({},a,{offset:u,limit:b,onClick:R})},[u,b]),r.a.createElement("div",null,r.a.createElement(N.a,{className:"pagination left",size:"md",color:"primary"},r.a.createElement(S.a,{disabled:0===u},r.a.createElement(_.a,{first:!0,href:"#",onClick:function(){return G(0)}},"First")),r.a.createElement(S.a,null,r.a.createElement(_.a,{previous:!0,disabled:0===u,onClick:function(){return G(u-b)}})),Array(k).fill("").map(function(e,t){return r.a.createElement(S.a,{active:t===Math.floor(u/b)},r.a.createElement(_.a,{onClick:function(){return G(t*b)}},t+1))}),r.a.createElement(S.a,null,r.a.createElement(_.a,{next:!0,onClick:function(){return G(u+b)},disabled:u+b>=p})),r.a.createElement(S.a,{disabled:u+b>=p},r.a.createElement(_.a,{last:!0,onClick:function(){return G((k-1)*b)}},"Last"))))},D=a(1549),R=a(1554),I=a(1619),w=a(177);t.a=Object(w.b)(function(e,t){return Object(n.a)({state:e},t)})(function(e){var t=e.columns,a=e.data,n=e.title,o=e.state,u=e.getLoading;Object(c.useEffect)(function(){"function"===typeof u&&console.log("result",u(o,{isPatch:!0}))},[o,u]);var i=Object(c.useContext)(T.a).rootState;return Object(c.useEffect)(function(){},[i]),console.log(u(o,{isPatch:!0})),r.a.createElement(D.a,{className:"p-2"},r.a.createElement(R.a,{className:"tableHeaders border-0"},r.a.createElement("div",null,""+n?n:"")),r.a.createElement(I.a,{size:"md",responsive:!0,striped:!0},r.a.createElement(m,{columns:t}),r.a.createElement(C,{data:a,columns:t,loading:"fucntion"===typeof u?u(o,{isPatch:!0}):{}}),r.a.createElement(B,null)))})},1575:function(e,t,a){"use strict";a.d(t,"b",function(){return c}),a.d(t,"d",function(){return r}),a.d(t,"a",function(){return o}),a.d(t,"c",function(){return u});var n=a(38),c=function(e){return e.page_values?e.page_values:null},r=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if("undefined"!==typeof a){if(0===a.count)return null;t({type:n.a.UPDATE,stateName:"page_values",payload:{results:a,options:r,pageLimit:a.length?5*Math.ceil(a.length/5):5,amount:c(e)?c(e).amount+1:0,activeTab:o}})}},o=function(e){var t=e.page_values;try{var a=t.pageLimit?t.pageLimit:0;return a||0}catch(n){}},u=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{offset:0,limit:0};t({type:n.a.UPDATE,stateName:"page_values",payload:{options:a}})}},1578:function(e){e.exports=["credit","debit","total","total_amount","paid_amount","account_balance","balance","price","unit_price","tax","unit_cost","tax_amount","amount_excl_vat","quantity","inventory_quantity","account.balance"]},1580:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return c}),a.d(t,"c",function(){return r});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=void 0;return a.length>0&&(c=e.filter(function(e){var c=n?"":"^";try{return a&&String(e[t]).match(new RegExp(c+a,"gi"))}catch(r){console.error("Tag does not exist: ".concat(String(r)))}return null})),"undefined"===typeof c?e:c},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"posting_date",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=void 0;return a.length>0&&n.length>0&&(c=e.filter(function(e){try{var c=new Date(e[t]).getTime(),r=new Date(a).getTime(),o=new Date(n).getTime();return a&&n&&c<=o&&c>=r}catch(u){console.error("Tag does not exist: ".concat(String(u)))}return null})),"undefined"===typeof c?e:c},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"country",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addresses",c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=void 0;return a.length>0&&(r=e.filter(function(e){var r=c?"":"^";try{var o=e[n].findIndex(function(e){return e[t].match(new RegExp(r+a,"gi"))});return a&&o>=0}catch(u){console.error("Tag does not exist: ".concat(String(u)))}return null})),"undefined"===typeof r?e:r}},1582:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}},1621:function(e,t,a){"use strict";a.d(t,"a",function(){return l});a(7);var n=a(3),c=a(1),r=a.n(c),o=a(14),u=a(1620),i={modalData:{openModal:!1,data:{},options:{},isDone:!1,title:"",submit:function(e){return null},Component:r.a.createElement(c.Fragment,null),okCallback:function(e){return null},cancelCallback:function(e){return null}}},s=Object(o.c)({name:"modalData",reducers:{toggle:function(e,t){var a=t.payload,c=a.type,o=a.data,i=a.title,s=a.Component,l=a.submit,b=a._toggle,m=a.isDone,d=a.deleteOptions,f=a.options;switch(c){case"OPEN":e.modalData=Object(n.a)({},e.modalData,{openModal:!0,title:i,data:o,Component:r.a.createElement(s,{toggle:b})});break;case"ADD":e.modalData=Object(n.a)({},e.modalData,{openModal:!0,title:i,data:o,submit:l,isDone:m,options:f,Component:r.a.createElement(s,{submit:l,options:f})});break;case"VIEW":e.modalData=Object(n.a)({},e.modalData,{openModal:!0,title:i,data:o,options:f,Component:r.a.createElement(s,{disabled:!0,data:o,isView:!0,options:f})});break;case"EDIT":e.modalData=Object(n.a)({},e.modalData,{openModal:!0,title:i,data:o,isDone:m,options:f,Component:r.a.createElement(s,{isEdit:!0,data:o,submit:l,options:f})});break;case"DELETE":var p=d.okCallback,h=d.cancelCallback,O=d.title,v=d.id,g=d.message;Object(u.a)({okCallback:p,errCallback:h,title:O,id:v,message:g});break;case"CLOSE":e.modalData=Object(n.a)({},e.modalData,{openModal:!1})}}},initialState:i}),l=s.actions.toggle;s.reducer},1641:function(e,t,a){"use strict";var n=a(15),c=a(22),r=a(1),o=a.n(r),u=a(180),i=a(2),s=a.n(i),l=a(16),b=a.n(l),m=a(13),d={tag:m.p,activeTab:s.a.any,className:s.a.string,cssModule:s.a.object},f={activeTabId:s.a.any},p=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={activeTab:a.props.activeTab},a}Object(c.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null};var a=t.prototype;return a.getChildContext=function(){return{activeTabId:this.state.activeTab}},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,c=e.tag,r=Object(m.m)(this.props,Object.keys(d)),u=Object(m.l)(b()("tab-content",t),a);return o.a.createElement(c,Object(n.a)({},r,{className:u}))},t}(r.Component);Object(u.polyfill)(p),t.a=p,p.propTypes=d,p.defaultProps={tag:"div"},p.childContextTypes=f},1642:function(e,t,a){"use strict";a.d(t,"a",function(){return f});var n=a(15),c=a(20),r=a(1),o=a.n(r),u=a(2),i=a.n(u),s=a(16),l=a.n(s),b=a(13),m={tag:b.p,className:i.a.string,cssModule:i.a.object,tabId:i.a.any},d={activeTabId:i.a.any};function f(e,t){var a=e.className,r=e.cssModule,u=e.tabId,i=e.tag,s=Object(c.a)(e,["className","cssModule","tabId","tag"]),m=Object(b.l)(l()("tab-pane",a,{active:u===t.activeTabId}),r);return o.a.createElement(i,Object(n.a)({},s,{className:m}))}f.propTypes=m,f.defaultProps={tag:"div"},f.contextTypes=d},2354:function(e){e.exports=["Inventory","Accounts Receivable","Cash","Property, Plant & Equipment","Prepaid","Accounts Payable","Interest","Retained Earnings","Capital Contributions","Legal Reserves","Local Sales","Export Sales","Other Income","COGS","Depreciation Expense","General and Administrative Expense","Other Expense","Tax Receivables","Tax Payables","Cost Expense"]},2355:function(e){e.exports=["Balancesheet","Income statement"]},2383:function(e,t,a){"use strict";a.r(t);var n=a(43),c=a(1),r=a.n(c),o=a(1547),u=a(1548),i=a(1558),s=a(1641),l=a(1642),b=a(3),m=a(1574),d=a(1555),f=a(1788),p=a(1549),h=a(1550),O=a(17),v=a(27),g=a(28),k=a(33),y=a(34),j=a(23),A=a(1577),E=a(1576),C=a.n(E),N=a(1556),S=a(1787),_=a(1622);function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(j.a)(e);if(t){var c=Object(j.a)(this).constructor;a=Reflect.construct(n,arguments,c)}else a=n.apply(this,arguments);return Object(y.a)(this,a)}}var x=function(e){Object(k.a)(a,e);var t=T(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).initialState={data:{id:"",bankAccountCode:"",bankName:"",bankBranch:"",bankAccountNumber:"",chartsOfAccountNumber:"",currency:"",isActive:!1,region:"",city:"",phoneNumber:"",faxNumber:"",emailAdress:"",remarks:""},errors:{}},n.state=n.initialState,n.schema={id:C.a.string().allow("").optional(),bankAccountCode:C.a.string().required().label("bankAccountCode"),bankName:C.a.string().required().label("bankName"),bankBranch:C.a.string().required().label("bankBranch"),bankAccountNumber:C.a.number().required().label("bankAccountNumber"),chartsOfAccountNumber:C.a.string().required().label("chartsOfAccountNumber"),currency:C.a.string().required().label("currency"),isActive:C.a.boolean().allow(!1).optional(),region:C.a.string().required().label("region"),city:C.a.string().required().label("city"),phoneNumber:C.a.string().required().label("phoneNumber"),faxNumber:C.a.string().required().label("faxNumber"),emailAdress:C.a.string().required().label("emailAdress"),remarks:C.a.string().allow("").optional()},n}return Object(g.a)(a,[{key:"populateState",value:function(e){var t=Object(b.a)({},this.state,{data:{id:e.id?e.id:"",bankAccountCode:e.bank_account_code?e.bank_account_code:"",bankName:e.bank.id?e.bank.id:"",bankBranch:e.branch_name?e.branch_name:"",bankAccountNumber:e.account_number?e.account_number:"",chartsOfAccountNumber:e.charts_of_account.id?e.charts_of_account.id:"",currency:e.currency.id?e.currency.id:"",isActive:e.is_active?Boolean(e.is_active):"",region:e.region.id?e.region.id:"",city:e.city.id?e.city.id:"",phoneNumber:e.phone_no?e.phone_no:"",faxNumber:e.fax_no?String(e.fax_no):"",emailAdress:e.email?e.email:"",remarks:e.remarks?e.remarks:""},lockUpdate:!0});this.setState(t)}},{key:"componentDidUpdate",value:function(){!this.props.isEdit&&!this.props.isView||this.state.lockUpdate||this.populateState(this.props.data)}},{key:"doSubmit",value:function(){this.props.submit(this.state.data)}},{key:"render",value:function(){var e=this.props.options,t=e.currencies,a=e.regions,n=e.cities,c=e.banks,o=e.COAs;return r.a.createElement(p.a,{className:"border-0"},r.a.createElement(h.a,null,r.a.createElement(N.a,{onSubmit:this.handleSubmit},r.a.createElement(S.a,null,r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput({name:"bankAccountCode",label:"Bank Account Code "})),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderSelect({name:"bankName",label:"Bank Name",options:c,optionsFrom:"server"})),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput({name:"bankBranch",label:"Bank Branch"})),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput({name:"bankAccountNumber",label:"Bank Account Number",type:"number"})),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderSelect({name:"chartsOfAccountNumber",label:"Charts of Accounts Number ",options:o.map(function(e){return Object(b.a)({},e,{name:e.account_number,value:e.id})}),optionsFrom:"server"})),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderSelect({name:"currency",label:"Currency ",options:t,optionsFrom:"server"})),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderSelect({name:"region",label:"Region",options:a,optionsFrom:"server"})),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderSelect({name:"city",label:"City ",options:n,optionsFrom:"server"})),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput({name:"phoneNumber",label:"Phone Number"})),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput({name:"faxNumber",label:"Fax Number"})),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput({name:"emailAdress",label:"Email Adress"})),r.a.createElement(f.a,{md:2,sm:12,xs:12},this.renderCheckbox("isActive","Is Active?")),r.a.createElement(f.a,{md:12,sm:12,xs:12},this.renderInput({name:"remarks",label:"Remarks",type:"textarea"}))),r.a.createElement(_.a,{align:"center"},this.renderButton("Save Account ")))))}}]),a}(A.a),B=a(1573),D=a(1579),R=a(1582),I=a(1581),w=function(e){var t=e.bankAccounts,a=e.addBankAccount,o=e.editBankAccount,u=e.deleteBankAccount,i=e.accountTypes,s=e.currencies,l=e.regions,v=e.cities,g=e.banks,k=e.COAs,y=e.doneAdd,j=e.doneEdit,A=Object(c.useReducer)(I.c,I.b),E=Object(n.a)(A,2),C=E[0],N=E[1],S=[{path:"bank_account_code",label:"Bank Account Code "},{path:"bank.name",label:"Bank Name"},{path:"branch_name",label:"Bank Branch "},{path:"account_number",label:"Bank Account No"},{path:"account_number",label:"Charts of Accounts No "},{path:"currency.name",label:"Currency "},{path:"is_active",label:"Status"},{path:"remarks",label:"Remarks"},{key:"view",content:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){Object(I.a)({type:"VIEW",Component:x,data:e,title:"View Bank Account",options:{accountTypes:i,currencies:s,regions:l,cities:v,banks:g,COAs:k}},N)}},r.a.createElement(O.M,null)),r.a.createElement(d.a,{className:"m-1",size:"sm",outline:!0,color:"warning",onClick:function(){Object(I.a)({type:"EDIT",Component:x,submit:function(e){return o(e)},data:e,title:"Edit Bank Account",options:{accountTypes:i,currencies:s,regions:l,cities:v,banks:g,COAs:k}},N)}},r.a.createElement(O.s,null)),r.a.createElement(d.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){Object(I.a)({type:"DELETE",deleteOptions:{okCallback:_,title:"Are you sure?",id:e.id,message:""}})}},r.a.createElement(O.p,null)))}}];Object(c.useEffect)(function(){(y||j)&&Object(I.a)({type:"CLOSE"},N)},[y,j]);var _=function(e){u(e)};return r.a.createElement("div",null,r.a.createElement(D.a,{data:C.data,title:C.title,openModal:C.openModal,component:C.Component,toggle:I.a,dispatch:N}),r.a.createElement(m.a,null,r.a.createElement(f.a,{align:"right",className:"mb-1 pl-3 pr-3"},r.a.createElement(d.a,{onClick:function(){return Object(I.a)({title:"Add Bank Account",type:"ADD",Component:x,data:{},submit:function(e){return a(e)},options:{accountTypes:i,currencies:s,regions:l,cities:v,banks:g,COAs:k}},N)},outline:!0,size:"sm"},"New Bank Account")),r.a.createElement(p.a,{className:"border-0"},r.a.createElement(h.a,null,r.a.createElement(B.a,{title:"Bank Accounts",columns:S,data:Object(R.a)(t.map(function(e){return Object(b.a)({},e,{is_active:Boolean(e.is_active)?"Is Active":"Not Active"})}))})))))},P=a(69),M=a(177),F=a(102),q=a(19),U=a(1621),L=a(40),H=a(55),z=a(58),V=a(45),K=a(35),W=a(44),G=a(54),J=a(1580),Q=a(109),X=a(1575),Y=Object(M.b)(function(e,t){return Object(b.a)({},t,{fetchStatus:Object(P.k)(e),addStatus:Object(P.g)(e),bankAccounts:Object(P.h)(e),editStatus:Object(P.j)(e),deleteStatus:Object(P.i)(e),accountTypes:Object(L.f)(e),currencies:Object(H.g)(e),regions:Object(z.j)(e),cities:Object(V.g)(e),banks:Object(K.g)(e),COAs:Object(W.h)(e)})},function(e){return{fetchBankAccounts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e(Object(P.c)(t))},addBankAccount:function(t){return e(Object(P.a)(t))},editBankAccount:function(t){return e(Object(P.b)(t))},deleteBankAccount:function(t){return e(Object(P.e)(t))},toggle:function(t){return e(Object(U.a)(t))}}})(function(e){var t=e.fetchStatus,a=e.addStatus,o=e.bankAccounts,u=e.fetchBankAccounts,i=e.addBankAccount,s=e.editStatus,l=e.editBankAccount,b=e.deleteStatus,m=e.deleteBankAccount,d=e.toggle,f=e.accountTypes,p=e.currencies,h=e.regions,O=e.cities,v=e.banks,g=e.COAs,k=e.activeTab,y=Object(c.useState)(!0),j=Object(n.a)(y,2),A=j[0],E=j[1],C=Object(c.useState)(!0),N=Object(n.a)(C,2),S=N[0],_=N[1],T=Object(c.useState)(!0),x=Object(n.a)(T,2),B=x[0],D=x[1],R=Object(c.useState)(!0),I=Object(n.a)(R,2),P=I[0],M=I[1],U=Object(c.useState)([]),L=Object(n.a)(U,2),H=L[0],z=L[1],V=Object(c.useContext)(Q.a),K=V.rootState,W=V.dispatch;Object(c.useEffect)(function(){try{var e=Object(X.b)(K).options,t=e.offset,a=e.limit;e.onClick&&u([{key:"offset",value:t},{key:"limit",value:a}])}catch(n){}},[Object(X.b)(K)]),Object(c.useEffect)(function(){z(o)},[o,z]);var Y=Object(c.useContext)(G.c).searchValue;Object(c.useEffect)(function(){z(Object(J.b)(o,"name",Y))},[Y,z]),Object(c.useEffect)(function(){E(!1),u()},[u,E]),Object(c.useEffect)(function(){var e=t.status,a=t.response;e!==q.e.failure||A?k===re.BANK_ACCOUNTS&&Object(X.d)(K,W,a,"",k):(F.toast.error("Failed Fetching Bank Accounts"),E(!0))},[t,E,W,k]),Object(c.useEffect)(function(){var e=a.status;e!==q.e.failure||S?e!==q.e.success||S||(F.toast.success("Added Bank Account"),_(!0)):_(!0)},[a,_]),Object(c.useEffect)(function(){var e=s.status;e!==q.e.failure||B?e!==q.e.success||B||(F.toast.success("Edited Bank Account"),D(!0)):D(!0)},[s,D]),Object(c.useEffect)(function(){var e=b.status;e!==q.e.failure||P?e!==q.e.success||P||(F.toast.success("Deleted Bank Account"),M(!0)):M(!0)},[b,M]);return r.a.createElement(w,{bankAccounts:H,doneAdd:a.status===q.e.success&&!S,addBankAccount:function(e){_(!1);var t={bank_account_code:e.bankAccountCode?e.bankAccountCode:"",branch_name:e.bankBranch?e.bankBranch:"",account_number:e.bankAccountNumber?Number(e.bankAccountNumber):0,is_active:!!e.isActive&&Boolean(e.isActive),phone_no:e.phoneNumber?e.phoneNumber:"",Postal_code:e.bankAccountCode?e.bankAccountCode:"",fax_no:e.faxNumber?e.faxNumber:"",email:e.emailAdress?e.emailAdress:"",remarks:e.remarks?e.remarks:"",bank:e.bankName?e.bankName:"",charts_of_account:e.chartsOfAccountNumber?e.chartsOfAccountNumber:"",currency:e.currency?e.currency:"",region:e.region?e.region:"",city:e.city?e.city:""};i(t)},doneEdit:s.status===q.e.success&&!B,editBankAccount:function(e){D(!1);var t={id:e.id?e.id:"",bank_account_code:e.bankAccountCode?e.bankAccountCode:"",branch_name:e.bankBranch?e.bankBranch:"",account_number:e.bankAccountNumber?Number(e.bankAccountNumber):0,is_active:e.isActive?Boolean(e.isActive):"",phone_no:e.phoneNumber?e.phoneNumber:"",Postal_code:e.bankAccountCode?e.bankAccountCode:"",fax_no:e.faxNumber?e.faxNumber:"",email:e.emailAdress?e.emailAdress:"",remarks:e.remarks?e.remarks:"",bank:e.bankName?e.bankName:"",charts_of_account:e.chartsOfAccountNumber?e.chartsOfAccountNumber:"",currency:e.currency?e.currency:"",region:e.region?e.region:"",city:e.city?e.city:""};l(t)},doneDelete:b.status===q.e.success&&!P,deleteBankAccount:function(e){M(!1),m(e)},_toggle:d,accountTypes:f,currencies:p,regions:h,cities:O,banks:v,COAs:g})}),Z=a(2354),$=a(2355);function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(j.a)(e);if(t){var c=Object(j.a)(this).constructor;a=Reflect.construct(n,arguments,c)}else a=n.apply(this,arguments);return Object(y.a)(this,a)}}var te=function(e){Object(k.a)(a,e);var t=ee(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).initialState={data:{id:"",accountNumber:"",accountName:"",chartsOfAccountType:"",reportType:"",balance:"",hasRelatedBankAccount:!1,subAccountType:"",remarks:""},lockUpdate:!1,errors:{}},n.state=n.initialState,n.schema={id:C.a.string().allow("").optional(),accountNumber:C.a.number().required().label("accountNumber"),accountName:C.a.string().required().label("accountName"),chartsOfAccountType:C.a.string().required().label("chartsOfAccountType"),subAccountType:C.a.string().required().label("subAccountType"),reportType:C.a.string().required().label("reportType"),balance:C.a.number().required().label("balance"),hasRelatedBankAccount:C.a.boolean().allow(!1).optional(),remarks:C.a.string().allow("").optional()},n}return Object(g.a)(a,[{key:"populateState",value:function(e){var t=Object(b.a)({},this.state,{data:{id:e.id?e.id:"",accountNumber:e.account_number?Number(e.account_number):"",accountName:e.name?e.name:"",chartsOfAccountType:e.parent.id?e.parent.id:"",subAccountType:e.sub_account_type?e.sub_account_type:"",reportType:e.report_type?e.report_type:"",balance:e.balance?e.balance:"",hasRelatedBankAccount:Boolean(e.has_related_bank)},lockUpdate:!0});this.setState(t)}},{key:"componentDidUpdate",value:function(){!this.props.isEdit&&!this.props.isView||this.state.lockUpdate||this.populateState(this.props.data)}},{key:"doSubmit",value:function(){this.props.submit(this.state.data)}},{key:"render",value:function(){var e=this.props.options.accountTypes;return r.a.createElement(p.a,{className:"border-0"},r.a.createElement(h.a,null,r.a.createElement(N.a,{onSubmit:this.handleSubmit},r.a.createElement(S.a,null,r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput("accountNumber"," Account Number","number")),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput("accountName","Account Name")),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderSelect({name:"chartsOfAccountType",label:"Charts of Accounts Type",options:e,optionsFrom:"server"})),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderSelect({name:"subAccountType",label:"Sub Account Type",options:Z})),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderSelect("reportType","Financial Statement",$)),r.a.createElement(f.a,{md:4,sm:12,xs:12},this.renderInput("balance","Balance","number")),r.a.createElement(f.a,{className:"ml-5",md:2,sm:12,xs:12},this.renderCheckbox("hasRelatedBankAccount","Has Related Bank Account?")),r.a.createElement(f.a,{md:12,sm:12,xs:12},this.renderInput("remarks","Remarks","textarea"))),r.a.createElement(_.a,{align:"center"},this.renderButton(this.props.isEdit?"Edit Chart of Account":"Save Chart of Account")))))}}]),a}(A.a),ae=function(e){var t=e.accounts,a=e.addCOA,o=e.editCOA,u=e.deleteCOA,i=e.accountTypes,s=e.doneAdd,l=e.doneEdit,h=e.doneDelete,v=Object(c.useReducer)(I.c,I.b),g=Object(n.a)(v,2),k=g[0],y=g[1],j=[{path:"account_number",label:"Account Number"},{path:"name",label:"Account Name"},{path:"parent.name",label:" Account Type"},{key:"view",content:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){Object(I.a)({type:"VIEW",title:"View Charts of accounts ",data:e,Component:te,options:{accountTypes:i}},y)}},r.a.createElement(O.M,null)),r.a.createElement(d.a,{className:"m-1",size:"sm",outline:!0,color:"warning",onClick:function(){Object(I.a)({type:"EDIT",title:"Edit Charts of Accounts ",data:e,Component:te,options:{accountTypes:i},submit:o},y)}},r.a.createElement(O.s,{color:"warning"})),r.a.createElement(d.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){Object(I.a)({type:"DELETE",deleteOptions:{okCallback:A,title:"Are you sure?",id:e.id,message:""}},y)}},r.a.createElement(O.p,null)))}}];Object(c.useEffect)(function(){(s||l||h)&&Object(I.a)({type:"CLOSE"},y)},[s,l,h]);var A=function(e){u(e)};console.log("accounts",t);var E=t.map(function(e){return Object(b.a)({},e,{has_related_bank:Boolean(e.has_related_bank)?"Has Related Bank":"Doesn't have related bank"})});return r.a.createElement("div",null,r.a.createElement(D.a,{title:k.title,data:k.data,openModal:k.openModal,component:k.Component,toggle:I.a,dispatch:y}),r.a.createElement(m.a,null,r.a.createElement(f.a,{align:"right",className:"mb-1 pl-3 pr-3"},r.a.createElement(d.a,{onClick:function(){return Object(I.a)({type:"ADD",Component:te,data:{},title:"Add Chart of account",submit:a,options:{accountTypes:i}},y)},outline:!0,size:"sm"},"New Account")),r.a.createElement(p.a,{className:"border-0"},r.a.createElement(f.a,{md:12,sm:12,xs:12},r.a.createElement(B.a,{title:"Charts of Accounts ",columns:j,data:Object(R.a)(E)})))))},ne=a(60),ce=Object(M.b)(function(e,t){return Object(b.a)({},t,{fetchStatus:Object(W.k)(e),addStatus:Object(W.g)(e),accounts:Object(W.h)(e),editStatus:Object(W.j)(e),deleteStatus:Object(W.i)(e),accountTypes:Object(L.f)(e),companyID:Object(ne.c)(e)})},function(e){return{fetchCOA:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e(Object(W.c)(t))},addCOA:function(t){return e(Object(W.a)(t))},editCOA:function(t){return e(Object(W.b)(t))},deleteCOA:function(t){return e(Object(W.e)(t))},toggle:function(t){return e(Object(U.a)(t))}}})(function(e){var t=e.fetchStatus,a=e.addStatus,o=e.accounts,u=e.fetchCOA,i=e.addCOA,s=e.editStatus,l=e.editCOA,b=e.deleteStatus,m=e.deleteCOA,d=e.accountTypes,f=e.companyID,p=e.activeTab,h=Object(c.useState)(!0),O=Object(n.a)(h,2),v=O[0],g=O[1],k=Object(c.useState)(!0),y=Object(n.a)(k,2),j=y[0],A=y[1],E=Object(c.useState)(!0),C=Object(n.a)(E,2),N=C[0],S=C[1],_=Object(c.useState)(!0),T=Object(n.a)(_,2),x=T[0],B=T[1],D=Object(c.useState)([]),R=Object(n.a)(D,2),I=R[0],w=R[1],P=Object(c.useContext)(Q.a),M=P.rootState,U=P.dispatch;Object(c.useEffect)(function(){try{var e=Object(X.b)(M).options,t=e.offset,a=e.limit;e.onClick&&u([{key:"offset",value:t},{key:"limit",value:a}])}catch(n){}},[Object(X.b)(M)]),Object(c.useEffect)(function(){w(o)},[o,w]);var L=Object(c.useContext)(G.c).searchValue;Object(c.useEffect)(function(){w(Object(J.b)(o,"name",L))},[L,w]),Object(c.useEffect)(function(){g(!1),u()},[u,g]),Object(c.useEffect)(function(){var e=t.status,a=t.response;e!==q.e.failure||v?p===re.CHART_OF_ACCOUNTS&&Object(X.d)(M,U,a,"",p):(F.toast.error("Failed Fetching Chart Of Accounts"),g(!0))},[t,g,U,p]),Object(c.useEffect)(function(){var e=a.status;e!==q.e.failure||j?e!==q.e.success||j||(F.toast.success("Added Chart Of Accounts"),A(!0)):A(!0)},[a,A]),Object(c.useEffect)(function(){var e=s.status;e!==q.e.failure||N?e!==q.e.success||N||(F.toast.success("Edited Chart Of Accounts"),S(!0)):S(!0)},[s,S]),Object(c.useEffect)(function(){var e=b.status;e!==q.e.failure||x?e!==q.e.success||x||(F.toast.success("Deleted Chart Of Account"),B(!0)):B(!0)},[b,B]);return r.a.createElement(ae,{accounts:I,doneAdd:a.status===q.e.success&&!j,addCOA:function(e){A(!1);var t={account_number:e.accountNumber,name:e.accountName,parent:e.chartsOfAccountType,report_type:e.reportType,sub_account_type:e.subAccountType,balance:e.balance,has_related_bank:e.hasRelatedBankAccount,company:f};i(t)},doneEdit:s.status===q.e.success&&!N,editCOA:function(e){S(!1);var t={id:e.id,account_number:e.accountNumber,name:e.accountName,parent:e.chartsOfAccountType,report_type:e.reportType,sub_account_type:e.subAccountType,balance:e.balance,has_related_bank:e.hasRelatedBankAccount,company:f};l(t)},doneDelete:b.status===q.e.success&&!x,deleteCOA:function(e){B(!1),m(e)},accountTypes:d})});a.d(t,"activeTabs",function(){return re});var re={BANK_ACCOUNTS:"1",CHART_OF_ACCOUNTS:"2"};t.default=function(e){var t=Object(c.useState)("1"),a=Object(n.a)(t,2),b=a[0],d=a[1],f=function(e){b!==e&&d(e)};return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement(o.a,{tabs:!0,className:"mb-2"},r.a.createElement(u.a,null,r.a.createElement(i.a,{className:"1"===b?"activepageTabBlue":"notactivePageTabBlue",onClick:function(){f(re.BANK_ACCOUNTS)}},"Bank Accounts")),r.a.createElement(u.a,null,r.a.createElement(i.a,{className:"2"===b?"activepageTabBlue":"notactivePageTabBlue",onClick:function(){f(re.CHART_OF_ACCOUNTS)}},"Charts of Accounts"))),r.a.createElement(s.a,{activeTab:b},r.a.createElement(l.a,{tabId:re.BANK_ACCOUNTS},r.a.createElement(Y,{activeTab:b})),r.a.createElement(l.a,{tabId:re.CHART_OF_ACCOUNTS},r.a.createElement(ce,{activeTab:b})))))}}}]);
//# sourceMappingURL=28.14e77253.chunk.js.map