(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{1573:function(e,t,n){"use strict";var a=n(3),r=n(1),i=n.n(r),o=n(27),c=n(28),s=n(33),u=n(34),l=n(23);function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var d=function(e){Object(s.a)(n,e);var t=f(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement("thead",null,i.a.createElement("tr",null,this.props.columns.map(function(e){return i.a.createElement("th",{key:e.path||e.key},e.label)})))}}]),n}(r.Component),m=n(1583),p=n.n(m),v=n(53),b=n(43),g=/[0-9\-+#]/,h=/[^\d\-+#]/g;function j(e){return e.search(g)}function O(e,t,n){var a=!1,r={value:e};e<0&&(a=!0,r.value=-r.value),r.sign=a?"-":"",r.value=Number(r.value).toFixed(t.fraction&&t.fraction.length),r.value=Number(r.value).toString();var i=t.fraction&&t.fraction.lastIndexOf("0"),o=r.value.split("."),c=Object(b.a)(o,2),s=c[0],u=void 0===s?"0":s,l=c[1],f=void 0===l?"":l;return(!f||f&&f.length<=i)&&(f=i<0?"":Number("0."+f).toFixed(i+1).replace("0.","")),r.integer=u,r.fraction=f,function(e,t){e.result="";var n=t.integer.split(t.separator),a=n.join(""),r=a&&a.indexOf("0");if(r>-1)for(;e.integer.length<a.length-r;)e.integer="0"+e.integer;else 0===Number(e.integer)&&(e.integer="");var i=n[1]&&n[n.length-1].length;if(i)for(var o=e.integer.length,c=o%i,s=0;s<o;s++)e.result+=e.integer.charAt(s),!((s-c+1)%i)&&s<o-i&&(e.result+=t.separator);else e.result=e.integer;e.result+=t.fraction&&e.fraction?t.decimal+e.fraction:""}(r,t),"0"!==r.result&&""!==r.result||(a=!1,r.sign=""),!a&&t.maskHasPositiveSign?r.sign="+":a&&t.maskHasPositiveSign?r.sign="-":a&&(r.sign=n&&n.enforceMaskSign&&!t.maskHasNegativeSign?"":"-"),r}var E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||isNaN(Number(t)))return t;var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#.##",t={},n=e.length,a=j(e);t.prefix=a>0?e.substring(0,a):"";var r=j(e.split("").reverse().join("")),i=n-r,o=e.substring(i,i+1),c=i+("."===o||","===o?1:0);t.suffix=r>0?e.substring(c,n):"",t.mask=e.substring(a,c),t.maskHasNegativeSign="-"===t.mask.charAt(0),t.maskHasPositiveSign="+"===t.mask.charAt(0);var s=t.mask.match(h);return t.decimal=s&&s[s.length-1]||".",t.separator=s&&s[1]&&s[0]||",",s=t.mask.split(t.decimal),t.integer=s[0],t.fraction=s[1],t}(e),r=O(t,a,n);return a.prefix+r.sign+r.result+a.suffix},y=n(1578),S=n(1584);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var P=function(e){Object(s.a)(n,e);var t=k(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderCell=function(e,t,n){if(console.log("loaded",n),t.content)return t.content(e,n);var a=p.a.get(e,t.path),r=y.findIndex(function(e){return e===String(t.path)});return S.findIndex(function(e){return e===String(t.path)})>=0?Object(v.e)(a):r>=0?E("#,###.00",a,{enforceMaskSign:!0}):a?String(a):""},e.createKey=function(e,t){return e._id+(t.path||t.key)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.columns;return i.a.createElement("tbody",null,n.map(function(t){return i.a.createElement("tr",{key:t.id},a.map(function(n){return i.a.createElement("td",{key:e.createKey(t,n)},e.renderCell(t,n,e.props.loading))}))}))}}]),n}(r.Component),L=n(1643),x=n(1644),C=n(1645),N=n(109),w=n(1575),R=function(){var e=Object(r.useContext)(N.a),t=e.rootState,n=e.dispatch,a=Object(r.useState)(0),o=Object(b.a)(a,2),c=o[0],s=o[1],u=Object(r.useState)(0),l=Object(b.a)(u,2),f=l[0],d=l[1],m=Object(r.useState)(0),p=Object(b.a)(m,2),v=p[0],g=p[1],h=Object(r.useState)(0),j=Object(b.a)(h,2),O=j[0],E=j[1],y=Object(r.useState)(!1),S=Object(b.a)(y,2),k=S[0],P=S[1],R=Object(r.useState)(!1),D=Object(b.a)(R,2),_=D[0],T=D[1],A=Object(r.useState)({count:0,results:[]}),M=Object(b.a)(A,2),I=M[0],F=M[1],H=Object(r.useState)(0),z=Object(b.a)(H,2),U=z[0],q=z[1],V=Object(r.useState)(""),B=Object(b.a)(V,2),J=B[0],K=B[1];Object(r.useEffect)(function(){Object(w.a)(t)},[t]),Object(r.useEffect)(function(){var e=I.count,t=I.results;0===t.length&&0===e||(E(Math.ceil(e/t.length)),d(t.length),g(e),P(!0))},[J,E,d,g,P]),Object(r.useEffect)(function(){if(U){var e=I.count,t=I.results;f<=t.length&&(E(Math.ceil(e/t.length)),d(t.length),g(e),P(!0))}},[U,I]),Object(r.useEffect)(function(){try{var e=Object(w.b)(t),n=e.results,a=e.amount,r=e.activeTab;if(""!==r?K(r):console.warn("Pass active tab for paginations"),a!==U&&"undefined"!==typeof a&&(q(a),F(n)),"undefined"!==String(n)&&!k){var i=n.count,o=n.results;E(Math.ceil(i/o.length)),d(o.length),g(i),P(!0)}}catch(c){}},[t,q,F]);var W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_||T(!0),s(e),t&&d(t)};return Object(r.useEffect)(function(){c<v&&_&&Object(w.c)({},n,{offset:c,limit:f,onClick:_})},[c,f]),i.a.createElement("div",null,i.a.createElement(L.a,{className:"pagination left",size:"md",color:"primary"},i.a.createElement(x.a,{disabled:0===c},i.a.createElement(C.a,{first:!0,href:"#",onClick:function(){return W(0)}},"First")),i.a.createElement(x.a,null,i.a.createElement(C.a,{previous:!0,disabled:0===c,onClick:function(){return W(c-f)}})),Array(O).fill("").map(function(e,t){return i.a.createElement(x.a,{active:t===Math.floor(c/f)},i.a.createElement(C.a,{onClick:function(){return W(t*f)}},t+1))}),i.a.createElement(x.a,null,i.a.createElement(C.a,{next:!0,onClick:function(){return W(c+f)},disabled:c+f>=v})),i.a.createElement(x.a,{disabled:c+f>=v},i.a.createElement(C.a,{last:!0,onClick:function(){return W((O-1)*f)}},"Last"))))},D=n(1549),_=n(1554),T=n(1619),A=n(177);t.a=Object(A.b)(function(e,t){return Object(a.a)({state:e},t)})(function(e){var t=e.columns,n=e.data,a=e.title,o=e.state,c=e.getLoading;Object(r.useEffect)(function(){"function"===typeof c&&console.log("result",c(o,{isPatch:!0}))},[o,c]);var s=Object(r.useContext)(N.a).rootState;return Object(r.useEffect)(function(){},[s]),console.log(c(o,{isPatch:!0})),i.a.createElement(D.a,{className:"p-2"},i.a.createElement(_.a,{className:"tableHeaders border-0"},i.a.createElement("div",null,""+a?a:"")),i.a.createElement(T.a,{size:"md",responsive:!0,striped:!0},i.a.createElement(d,{columns:t}),i.a.createElement(P,{data:n,columns:t,loading:"fucntion"===typeof c?c(o,{isPatch:!0}):{}}),i.a.createElement(R,null)))})},1575:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return c});var a=n(38),r=function(e){return e.page_values?e.page_values:null},i=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if("undefined"!==typeof n){if(0===n.count)return null;t({type:a.a.UPDATE,stateName:"page_values",payload:{results:n,options:i,pageLimit:n.length?5*Math.ceil(n.length/5):5,amount:r(e)?r(e).amount+1:0,activeTab:o}})}},o=function(e){var t=e.page_values;try{var n=t.pageLimit?t.pageLimit:0;return n||0}catch(a){}},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{offset:0,limit:0};t({type:a.a.UPDATE,stateName:"page_values",payload:{options:n}})}},1578:function(e){e.exports=["credit","debit","total","total_amount","paid_amount","account_balance","balance","price","unit_price","tax","unit_cost","tax_amount","amount_excl_vat","quantity","inventory_quantity","account.balance"]},1580:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i});var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=void 0;return n.length>0&&(r=e.filter(function(e){var r=a?"":"^";try{return n&&String(e[t]).match(new RegExp(r+n,"gi"))}catch(i){console.error("Tag does not exist: ".concat(String(i)))}return null})),"undefined"===typeof r?e:r},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"posting_date",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=void 0;return n.length>0&&a.length>0&&(r=e.filter(function(e){try{var r=new Date(e[t]).getTime(),i=new Date(n).getTime(),o=new Date(a).getTime();return n&&a&&r<=o&&r>=i}catch(c){console.error("Tag does not exist: ".concat(String(c)))}return null})),"undefined"===typeof r?e:r},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"country",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addresses",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=void 0;return n.length>0&&(i=e.filter(function(e){var i=r?"":"^";try{var o=e[a].findIndex(function(e){return e[t].match(new RegExp(i+n,"gi"))});return n&&o>=0}catch(c){console.error("Tag does not exist: ".concat(String(c)))}return null})),"undefined"===typeof i?e:i}},2422:function(e,t,n){"use strict";n.r(t);var a=n(43),r=n(1),i=n.n(r),o=n(1574),c=n(1555),s=n(1788),u=n(1549),l=n(1550),f=n(1579),d=n(3),m=n(27),p=n(28),v=n(33),b=n(34),g=n(23),h=n(1577),j=n(1576),O=n.n(j),E=n(1554),y=n(1556),S=n(1787),k=n(1622);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(g.a)(e);if(t){var r=Object(g.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(b.a)(this,n)}}var L=function(e){Object(v.a)(n,e);var t=P(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).initialState={data:{id:"",name:"",code:"",position:"",remarks:""},errors:{}},a.state=a.initialState,a.schema={id:O.a.string().allow("").optional(),name:O.a.string().required().label("Name"),code:O.a.string().required().label("Code"),position:O.a.string(),remarks:O.a.string().allow("").optional()},a}return Object(p.a)(n,[{key:"populateState",value:function(e){var t=Object(d.a)({},this.state,{data:{id:e.id?e.id:"",name:e.name?e.name:"",code:e.code?e.code:"",position:e.position?e.position.id:"",remarks:e.remarks?e.remarks:""},lockUpdate:!0});this.setState(t)}},{key:"componentDidUpdate",value:function(){!this.props.isEdit&&!this.props.isView||this.state.lockUpdate||this.populateState(this.props.data)}},{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"doSubmit",value:function(){this.props.submit(this.state.data)}},{key:"render",value:function(){var e=this.props.options.positions;return i.a.createElement(u.a,{className:"border-0"},i.a.createElement(E.a,{className:"border-0"},this.props.title),i.a.createElement(l.a,null,i.a.createElement(y.a,{onSubmit:this.handleSubmit},i.a.createElement(S.a,null,i.a.createElement(s.a,{md:6,sm:12,xs:12},this.renderInput({name:"name",label:"Name"})),i.a.createElement(s.a,{md:6,sm:12,xs:12},this.renderInput({name:"code",label:"Code"})),i.a.createElement(s.a,{md:6,sm:12,xs:12},this.renderSelect({name:"position",label:"Position",options:e,optionsFrom:"server"})),i.a.createElement(s.a,{md:12,sm:12,xs:12},this.renderInput({name:"remarks",label:"Remarks",type:"textarea"}))),i.a.createElement(k.a,{align:"center"},this.renderButton("Save")))))}}]),n}(h.a),x=n(17),C=n(1573),N=n(1581),w=function(e){var t=e.doneAdd,n=e.addPositionLevel,d=e.doneEdit,m=e.editPositionLevel,p=e.deletePositionLevel,v=e.positionLevels,b=e.positions,g=Object(r.useReducer)(N.c,N.b),h=Object(a.a)(g,2),j=h[0],O=h[1],E=[{path:"name",label:"Name"},{path:"code",label:"Code"},{path:"position.name",label:"Position"},{path:"remarks",label:"Remarks"},{key:"view",content:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{className:"m-1",size:"sm",outline:!0,color:"info",onClick:function(){Object(N.a)({type:"VIEW",Component:L,data:e,title:"View Position Level",options:{positions:b}},O)}},i.a.createElement(x.M,null)),i.a.createElement(c.a,{className:"m-1",size:"sm",outline:!0,color:"warning",onClick:function(){Object(N.a)({type:"EDIT",Component:L,submit:m,data:e,title:"Edit Position Level",options:{positions:b}},O)}},i.a.createElement(x.s,null)),i.a.createElement(c.a,{className:"m-1",size:"sm",outline:!0,color:"danger",onClick:function(){Object(N.a)({type:"DELETE",deleteOptions:{okCallback:y,title:"Are you sure?",id:e.id,message:""}},O)}},i.a.createElement(x.p,null)))}}];Object(r.useEffect)(function(){(t||d)&&Object(N.a)({type:"CLOSE"},O)},[t,d]);var y=function(e){p(e)};return console.log(b,"positions"),i.a.createElement("div",null,i.a.createElement(o.a,{title:"Position Level",breadcrumbs:[{name:"Human Resource",active:!0}]},i.a.createElement(f.a,{data:j.data,openModal:j.openModal,component:j.Component,toggle:N.a,dispatch:O,title:j.title}),i.a.createElement(s.a,{align:"right",className:"mb-1 pl-3 pr-3"},i.a.createElement(c.a,{onClick:function(){return Object(N.a)({type:"ADD",Component:L,submit:n,title:"New Position Level",options:{positions:b}},O)},outline:!0,size:"sm"},"New Position Level")),i.a.createElement(u.a,{className:"border-0"},i.a.createElement(l.a,null,i.a.createElement(C.a,{title:"Position Levels",columns:E,data:v})))))},R=n(73),D=n(177),_=n(102),T=n(19),A=n(54),M=n(36),I=n(1580),F=n(1557),H=n(68);t.default=Object(D.b)(function(e){return{fetchStatus:Object(R.i)(e),addStatus:Object(R.f)(e),editStatus:Object(R.h)(e),deleteStatus:Object(R.g)(e),positionLevels:Object(R.j)(e),positions:Object(H.j)(e)}},function(e){return{fetchPositionLevels:function(){return e(Object(R.c)())},addPositionLevel:function(t){return e(Object(R.a)(t))},editPositionLevel:function(t){return e(Object(R.b)(t))},deletePositionLevel:function(t){return e(Object(R.d)(t))}}})(function(e){var t=e.fetchStatus,n=e.addStatus,o=e.fetchPositionLevels,c=e.addPositionLevel,s=e.editStatus,u=e.editPositionLevel,l=e.deleteStatus,f=e.deletePositionLevel,d=e.positionLevels,m=e.positions,p=Object(r.useState)([]),v=Object(a.a)(p,2),b=v[0],g=v[1],h=Object(r.useState)(!0),j=Object(a.a)(h,2),O=j[0],E=j[1],y=Object(r.useState)(!0),S=Object(a.a)(y,2),k=S[0],P=S[1],L=Object(r.useState)(!0),x=Object(a.a)(L,2),C=x[0],N=x[1],R=Object(r.useState)(!0),D=Object(a.a)(R,2),H=D[0],z=D[1],U=Object(r.useState)("name"),q=Object(a.a)(U,2),V=q[0],B=q[1];Object(r.useEffect)(function(){g(d)},[d,g]);var J=Object(r.useContext)(A.c).searchValue,K=Object(r.useContext)(A.b).dispatch,W=function(){return i.a.createElement(F.a,{type:"select",onChange:function(e){var t=e.currentTarget.value;return B(t)}},i.a.createElement("option",{value:"name"},"By Name"),i.a.createElement("option",{value:"code"},"By Code"))};Object(r.useEffect)(function(){Object(M.a)({},K,W)},[K]),Object(r.useEffect)(function(){g(Object(I.b)(d,V,J))},[J,g,V]),Object(r.useEffect)(function(){E(!1),o()},[o,E]),Object(r.useEffect)(function(){t.status!==T.e.failure||O||(_.toast.error("Failed fetching Position Levels"),E(!0))},[t,E]),Object(r.useEffect)(function(){var e=n.status,t=n.errors;e!==T.e.failure||k?e!==T.e.success||k||(_.toast.success("Added Position Level"),P(!0)):(_.toast.error(String(Object.values(t.errors))),P(!0))},[n,P]),Object(r.useEffect)(function(){var e=s.status,t=s.errors;e!==T.e.failure||C?e!==T.e.success||C||(_.toast.success("Edited Position Level"),N(!0)):(_.toast.error(String(Object.values(t.errors))),_.toast.error("Failed editing Position Level"),N(!0))},[s,N]),Object(r.useEffect)(function(){var e=l.status;e!==T.e.failure||H?e!==T.e.success||H||(_.toast.success("Deleted Position Level"),z(!0)):(_.toast.error(l.errors.errors.detail[0]),z(!0))},[l,z]);return i.a.createElement(w,{doneAdd:n.status===T.e.success&&!k,addPositionLevel:function(e){P(!1);var t={name:e.name,code:e.code,position:e.position,remarks:e.remarks};c(t)},doneEdit:s.status===T.e.success&&!C,editPositionLevel:function(e){N(!1);var t={id:e.id,name:e.name,code:e.code,position:e.position,remarks:e.remarks};u(t)},doneDelete:l.status===T.e.success&&!H,deletePositionLevel:function(e){z(!1),f(e)},positionLevels:b,positions:m})})}}]);
//# sourceMappingURL=96.2644667d.chunk.js.map